(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0125":function(t,e,n){"use strict";n.r(e);var i=n("8f86"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"01ab":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("0db7");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l="",u=[],c=20,d=1,f={ascending:"asc",descending:"desc"},h={data:function(){return{query:"",where:"",orderby:l,orderByFieldName:"",selectedIndexs:[],options:r({pageSize:c,pageCurrent:d,filterData:{}},i.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-tag.xls",type:"xls",fields:{"\u6807\u7b7e\u7684tagid":"tagid","\u6807\u7b7e\u540d\u79f0":"name","\u6807\u7b7e\u63cf\u8ff0":"description"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return u.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var n=this;uni.navigateTo({url:t,events:{refreshData:function(){n.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var n=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+f[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){n.$refs.udb.loadData()}))},filterChange:function(t,e){var n=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,i.filterToWhere)(this._filter,s.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){n.$refs.udb.loadData()}))}}};e.default=h}).call(this,n("a9ff")["default"])},"0285":function(t,e,n){"use strict";n.r(e);var i=n("f264"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"02b2":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-stat--sum-x mb-m"),attrs:{_i:0}},t._l(t._$s(1,"f",{forItems:t.items}),(function(e,i,a,r){return n("view",{key:t._$s(1,"f",{forIndex:a,key:i}),staticClass:t._$s("1-"+r,"sc","uni-stat--sum-item"),class:t._$s("1-"+r,"c",["\u4eca\u5929"===e.value?"uni-stat--sum-item-width":""]),attrs:{_i:"1-"+r}},[n("uni-tooltip",{attrs:{_i:"2-"+r},scopedSlots:t._u([t._$s("5-"+r,"i",e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("6-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"6-"+r+"-"+o}},[t._v(a._$s("6-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[n("view",{staticClass:t._$s("3-"+r,"sc","uni-stat--sum-item-title"),attrs:{_i:"3-"+r}},[t._v(t._$s("3-"+r,"t0-0",t._s(e.title?e.title:""))),t._$s("4-"+r,"i",e.title)?n("uni-icons",{staticClass:t._$s("4-"+r,"sc","ml-s"),attrs:{type:"help",color:"#666",_i:"4-"+r}}):t._e()],1)]),n("view",{staticClass:t._$s("7-"+r,"sc","uni-stat--sum-item-value"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.value?e.value:0)))]),t._$s("8-"+r,"i",t.contrast)?n("view",{staticClass:t._$s("8-"+r,"sc","uni-stat--sum-item-contrast"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(e.contrast?e.contrast:0)))]):t._e()],1)})),0)},r=[]},"02b9":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-table-checkbox"),attrs:{_i:0},on:{click:t.selected}},[t._$s(1,"i",!t.indeterminate)?n("view",{staticClass:t._$s(1,"sc","checkbox__inner"),class:t._$s(1,"c",{"is-checked":t.isChecked,"is-disable":t.isDisabled}),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","checkbox__inner-icon"),attrs:{_i:2}})]):n("view",{staticClass:t._$s(3,"sc","checkbox__inner checkbox--indeterminate"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","checkbox__inner-icon"),attrs:{_i:4}})])])},r=[]},"02f5":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t._$s(0,"i",t.isShowA)?n("a",{staticClass:t._$s(0,"sc","uni-link"),class:t._$s(0,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(0,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{href:t._$s(0,"a-href",t.href),download:t._$s(0,"a-download",t.download),_i:0}},[t._t("default",[t._v(t._$s(1,"t0-0",t._s(t.text)))],{_i:1})],2):n("text",{staticClass:t._$s(2,"sc","uni-link"),class:t._$s(2,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(2,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{_i:2},on:{click:t.openURL}},[t._t("default",[t._v(t._$s(3,"t0-0",t._s(t.text)))],{_i:3})],2)},r=[]},"0374":function(t,e,n){"use strict";n.r(e);var i=n("44e2"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"039d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(n("a34a")),a=(n("518e"),s(n("1939"))),r=n("3631");function o(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=i?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(n,a,r):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){f(r,i,a,o,s,"next",t)}function s(t){f(r,i,a,o,s,"throw",t)}o(void 0)}))}}var p=t.database(),m=(p.command,r.appVersionListDbName),_="iOS",g="Android";function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";t=String(t).split("."),e=String(e).split(".");for(var n=Math.min(t.length,e.length),i=0,a=0;a<n;a++){var r=Number(t[a]),o=Number(e[a]);if(r>o){i=1;break}if(r<o){i=-1;break}}if(0===i&&t.length!==e.length)for(var s=t.length>e.length,l=s?t:e,u=n;u<l.length;u++){var c=Number(l[u]);if(c>0){i=s?1:-1;break}}return i}var y={mixins:[a.default],data:function(){return{latestVersion:"0.0.0",lastVersionId:""}},onLoad:function(t){var e=this;return h(i.default.mark((function n(){var a,r,o,s;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.appid,r=t.name,o=t.type,!(a&&o&&r)){n.next=11;break}return n.next=4,e.getStoreList(a);case 4:return s=n.sent,e.formData=c(c({},e.formData),{appid:a,name:r,type:o,store_list:s}),n.next=8,e.getDetail(a,o);case 8:e.latestStableData=n.sent,!e.isWGT&&e.latestStableData.length&&e.setFormData(g),e.isWGT&&e.rules.min_uni_version.rules.push({required:!0});case 11:case"end":return n.stop()}}),n)})))()},watch:{isiOS:function(t){t?this.setFormData(_):this.hasPackage?this.formData.url=this.appFileList.url:this.formData.url=""},"formData.platform":function(t){this.isWGT&&this.setFormData(t)}},methods:{setFormData:function(t){uni.showLoading({mask:!0}),this.latestVersion="0.0.0",this.lastVersionId="";var e=this.getData(this.latestStableData,t)[0];if(e){var n=e._id,i=e.version,a=e.name,r=e.platform,o=e.min_uni_version,s=e.url;this.lastVersionId=n,this.latestVersion=i,this.formData.name=a,this.isWGT?this.formData.min_uni_version=o:(delete this.formData.min_uni_version,this.formData.platform=r[0],this.isiOS&&(this.formData.url=s))}else this.isWGT&&(this.formData.min_uni_version="");uni.hideLoading()},submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate(["store_list"]).then((function(e){if(v(t.latestVersion,e.version)>=0)throw uni.showModal({content:"\u7248\u672c\u53f7\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u5df2\u4e0a\u7ebf\u7248\u672c\uff08".concat(t.latestVersion,"\uff09"),showCancel:!1}),new Error("\u7248\u672c\u53f7\u5fc5\u987b\u5927\u4e8e\u5df2\u4e0a\u7ebf\u7248\u672c\uff08${this.latestVersion}\uff09");t.isWGT||(e.platform=[e.platform]),(t.isiOS||t.isWGT)&&delete e.store_list,e.store_list&&e.store_list.forEach((function(t){t.priority=parseFloat(t.priority)})),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},submitForm:function(t){var e=this;return h(i.default.mark((function n(){var a,r,o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.createCenterRecord(t),a=p.collection(m),r=[],e.isWGT){n.next=7;break}return n.next=6,e.getDetail(t.appid,t.type,e.createStatQuery(t));case 6:r=n.sent;case 7:r.length?(t.create_date=Date.now(),o=a.doc(r[0]._id).update(t)):o=a.add(t),o.then(function(){var n=h(i.default.mark((function n(r){return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.stable_publish||!e.lastVersionId){n.next=3;break}return n.next=3,a.doc(e.lastVersionId).update({stable_publish:!1});case 3:uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}));case 9:case"end":return n.stop()}}),n)})))()},getDetail:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return uni.showLoading({mask:!0}),p.collection(m).where(Object.assign({appid:t,type:e,stable_publish:!0},n)).field(a.fields).get().then((function(t){return t.result.data})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getStoreList:function(t){return p.collection("opendb-app-list").where({appid:t}).get().then((function(t){var e=t.result.data[0];return e.store_list||[]}))},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return"string"===typeof e?t.filter((function(t){return t.platform.includes(e)})):t.filter((function(t){return t.platform.toString()===e.toString()}))},back:function(){var t=this;uni.showModal({title:"\u53d6\u6d88\u53d1\u5e03",content:this.hasPackage?"\u5c06\u4f1a\u5220\u9664\u5df2\u4e0a\u4f20\u7684\u5305":void 0,success:function(e){if(e.confirm){if(t.hasPackage){var n=[];n.push(t.appFileList.url),t.$request("deleteFile",{fileList:n},{functionName:"upgrade-center"})}uni.navigateBack()}}})}}};e.default=y}).call(this,n("a9ff")["default"])},"03fa":function(t,e,n){"use strict";n.r(e);var i=n("8093"),a=n("7870");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"0417":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get_file_data=e.get_file_info=e.get_files_and_is_max=e.get_extname=e.get_file_ext=void 0;var i=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,l,"next",t)}function l(t){r(o,i,a,s,l,"throw",t)}s(void 0)}))}}var s=function(t){var e=t.lastIndexOf("."),n=t.length;return{name:t.substring(0,e),ext:t.substring(e+1,n)}};e.get_file_ext=s;var l=function(t){if(Array.isArray(t))return t;var e=t.replace(/(\[|\])/g,"");return e.split(",")};e.get_extname=l;var u=function(t,e){var n=[],i=[];return e&&0!==e.length?(t.tempFiles.forEach((function(t){var a=s(t.name),r=a.ext.toLowerCase();-1!==e.indexOf(r)&&(i.push(t),n.push(t.path))})),i.length!==t.tempFiles.length&&uni.showToast({title:"\u5f53\u524d\u9009\u62e9\u4e86".concat(t.tempFiles.length,"\u4e2a\u6587\u4ef6 \uff0c").concat(t.tempFiles.length-i.length," \u4e2a\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e"),icon:"none",duration:5e3}),{filePaths:n,files:i}):{filePaths:n,files:i}};e.get_files_and_is_max=u;var c=function(t){return new Promise((function(e,n){uni.getImageInfo({src:t,success:function(t){e(t)},fail:function(t){n(t)}})}))};e.get_file_info=c;var d=function(){var t=o(i.default.mark((function t(e){var n,a,r,o,l,u=arguments;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:"image",a=s(e.name),r=a.ext.toLowerCase(),o={name:e.name,uuid:e.uuid,extname:r||"",cloudPath:e.cloudPath,fileType:e.fileType,url:e.path||e.path,size:e.size,image:{},path:e.path,video:{}},"image"!==n){t.next=14;break}return t.next=7,c(e.path);case 7:l=t.sent,delete o.video,o.image.width=l.width,o.image.height=l.height,o.image.location=l.path,t.next=15;break;case 14:delete o.image;case 15:return t.abrupt("return",o);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.get_file_data=d},"0429":function(t,e,n){"use strict";function i(t){return s(t)||o(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",stat:0}],n=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-",stat:-1}];e&&(t=n).push.apply(t,i(e));var a=[1,2,3,4,5,6,7,14,30],r=a.map((function(t){return{title:"".concat(t,"\u5929\u540e"),field:"d_".concat(t),computed:"d_".concat(t,"/").concat(e[0].field),formatter:"%",tooltip:""}}));return n=n.concat(r),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=u;e.default=c},"0576":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","container loading2"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),n("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},r=[]},"0868":function(t,e,n){"use strict";n.r(e);var i=n("a83e"),a=n("290b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"0909":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,uniStatTable:n("4a21").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",storage:!1,where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform-scene",all:!1,_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),n("view",{staticClass:t._$s(14,"sc","uni-stat--x"),attrs:{_i:14}},[n("uni-stat-panel",{staticClass:t._$s(15,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:15}}),n("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:18}})],1)],1),n("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap.slice(0,t.fieldsMap.length-1),loading:t.loading,_i:20}}),n("view",{staticClass:t._$s(21,"sc","uni-pagination-box"),attrs:{_i:21}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:22},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("fix-window",{attrs:{_i:23}})],1)},r=[]},"0934":function(t,e,n){"use strict";n("8b68"),n("a9ff");var i=u(n("e22c")),a=u(n("7512")),r=u(n("c028")),o=u(n("9ae2")),s=u(n("8bbf")),l=u(n("a925"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=uni.getLocale();s.default.config.productionTip=!1,s.default.use(l.default);var p=new l.default({locale:h,messages:o.default});s.default.use(r.default),i.default.mpType="app";var m=new s.default(d({i18n:p,store:a.default},i.default));m.$mount()},"0953":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={login:{url:"/pages/login/login"},index:{url:"/pages/index/index"},error:{url:"/pages/error/404"},navBar:{logo:"/static/logo.png",langs:[{text:"\u4e2d\u6587\u7b80\u4f53",lang:"zh-Hans"},{text:"\u4e2d\u6587\u7e41\u9ad4",lang:"zh-Hant"},{text:"English",lang:"en"}],debug:{enable:!1,engine:[{name:"\u767e\u5ea6",url:"https://www.baidu.com/baidu?wd=ERR_MSG"},{name:"\u8c37\u6b4c",url:"https://www.google.com/search?q=ERR_MSG"}]}},sideBar:{staticMenu:[{menu_id:"demo",text:"\u9759\u6001\u529f\u80fd\u6f14\u793a",icon:"admin-icons-kaifashili",url:"",children:[{menu_id:"icons",text:"\u56fe\u6807",icon:"admin-icons-icon",value:"/pages/demo/icons/icons"},{menu_id:"table",text:"\u8868\u683c",icon:"admin-icons-table",value:"/pages/demo/table/table"}]},{menu_id:"admim-doc-pulgin",text:"\u6587\u6863\u4e0e\u63d2\u4ef6",icon:"admin-icons-eco",url:"",children:[{menu_id:"admin-doc",icon:"admin-icons-doc",text:"uni-admin \u6846\u67b6\u6587\u6863",value:"https://uniapp.dcloud.net.cn/uniCloud/admin"},{menu_id:"stat-doc",icon:"admin-icons-help",text:"uni \u7edf\u8ba1\u6559\u7a0b",value:"https://uniapp.dcloud.net.cn/uni-stat-v2.html"},{menu_id:"admin-pulgin",icon:"admin-icons-pulgin",text:"uni-admin \u63d2\u4ef6",value:"https://ext.dcloud.net.cn/?cat1=7&cat2=74"}]}]},uniStat:{uploadSourceMapCloudSpaceId:"",cloudSourceMapUrl:""}};e.default=i},"0976":function(t,e,n){"use strict";n.r(e);var i=n("4d9c"),a=n("12e3");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"0ac9":function(t,e,n){"use strict";n.r(e);var i=n("93bd"),a=n("82c0");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"0acc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(n("30d1")),a=l(n("bcc9")),r=l(n("5a48")),o=l(n("668f")),s=l(n("3d8f"));function l(t){return t&&t.__esModule?t:{default:t}}var u={components:{Loading1:i.default,Loading2:a.default,Loading3:r.default,Loading4:o.default,Loading5:s.default},name:"qiun-loading",props:{loadingType:{type:Number,default:2}},data:function(){return{}}};e.default=u},"0b71":function(t,e,n){"use strict";n.r(e);var i=n("645d"),a=n("8eda");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"cc3f0cca",null,!1,i["a"],o);e["default"]=l.exports},"0bcd":function(t,e,n){"use strict";n.r(e);var i=n("3ca0"),a=n("5d37");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"0c5e":function(t){t.exports=JSON.parse('{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"}')},"0db7":function(t,e,n){"use strict";function i(t,e){return o(t)||r(t,e)||l(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function o(t){if(Array.isArray(t))return t}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.filterToWhere=f,e.enumConverter=e.validator=void 0;var c={tagid:{rules:[{required:!0},{format:"string"}],label:"\u6807\u7b7e\u7684tagid"},name:{rules:[{required:!0},{format:"string"}],label:"\u6807\u7b7e\u540d\u79f0"},description:{rules:[{format:"string"}],label:"\u6807\u7b7e\u63cf\u8ff0"}};e.validator=c;var d={};function f(t,e){var n={};for(var a in t){var r=t[a],o=r.type,l=r.value;switch(o){case"search":"string"===typeof l&&l.length&&(n[a]=new RegExp(l));break;case"select":if(l.length){var u,c=[],d=s(l);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.push(e.eq(f))}}catch($){d.e($)}finally{d.f()}n[a]=e.or(c)}break;case"range":if(l.length){var h=l[0],p=l[1];n[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(l.length){var m=i(l,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);n[a]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(l.length){var b=i(l,2),x=b[0],w=b[1];n[a]=e.and([e.gte(x),e.lte(w)])}break}}return n}e.enumConverter=d},"0de9":function(t,e,n){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function a(){return"string"===typeof __channelId__&&__channelId__}function r(t,e){switch(i(e)){case"Function":return"function() { [native code] }";default:return e}}function o(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i]}function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.shift();if(a())e.push(e.pop().replace("at ","uni-app:///"));else{var o=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,r)+"---END:JSON---"}catch(a){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var n=i(t).toUpperCase();t="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+t+"---END:"+n+"---":String(t)}return t}));if(o.length>1){var s=o.pop();o.join("---COMMA---"),0===s.indexOf(" at ")?s:"---COMMA---"+s}else o[0]}}n.r(e),n.d(e,"log",(function(){return o})),n.d(e,"default",(function(){return s}))},"0def":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("37dc"),a=r(n("a26e"));function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,i.initVueI18n)(a.default),s=o.t,l={name:"UniPagination",emits:["update:modelValue","input","change","pageSizeChange"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},piecePerPageText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},showPageSize:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7},pageSizeRange:{type:Array,default:function(){return[20,50,100,500]}}},data:function(){return{pageSizeIndex:0,currentIndex:1,paperData:[],pickerShow:!1}},computed:{piecePerPage:function(){return this.piecePerPageText||s("uni-pagination.piecePerPage")},prevPageText:function(){return this.prevText||s("uni-pagination.prevText")},nextPageText:function(){return this.nextText||s("uni-pagination.nextText")},maxPage:function(){var t=1,e=Number(this.total),n=Number(this.pageSize);return e&&n&&(t=Math.ceil(e/n)),t},paper:function(){for(var t=this.currentIndex,e=this.pagerCount,n=this.total,i=this.pageSize,a=[],r=[],o=Math.ceil(n/i),s=0;s<o;s++)a.push(s+1);r.push(1);var l=a[a.length-(e+1)/2];return a.forEach((function(n,i){(e+1)/2>=t?n<e+1&&n>1&&r.push(n):t+2<=l?n>t-(e+1)/2&&n<t+(e+1)/2&&r.push(n):(n>t-(e+1)/2||o-e<n)&&n<a[a.length-1]&&r.push(n)})),o>e?((e+1)/2>=t?r[r.length-1]="...":t+2<=l?(r[1]="...",r[r.length-1]="..."):r[1]="...",r.push(a[a.length-1])):(e+1)/2>=t||t+2<=l||(r.shift(),r.push(a[a.length-1])),r}},watch:{current:{immediate:!0,handler:function(t,e){this.currentIndex=t<1?1:t}},value:{immediate:!0,handler:function(t){1===Number(this.current)&&(this.currentIndex=t<1?1:t)}},pageSizeIndex:function(t){this.$emit("pageSizeChange",this.pageSizeRange[t])}},methods:{pickerChange:function(t){this.pageSizeIndex=t.detail.value,this.pickerClick()},pickerClick:function(){},selectPage:function(t,e){if(parseInt(t))this.currentIndex=t,this.change("current");else{var n=Math.ceil(this.total/this.pageSize);if(e<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(e>=6)return void(this.currentIndex+5>n?this.currentIndex=n:this.currentIndex+=5)}},clickLeft:function(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight:function(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change:function(t){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:t,current:this.currentIndex})}}};e.default=l},"0ebe":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=r(n("0953"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{showPassword:!0,showPasswordAgain:!0,loading:!1,errorMessage:"",formData:{username:"admin",password:""},passwordConfirmation:"",rules:{username:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u8d26\u6237"},{minLength:3,maxLength:30,errorMessage:"\u8d26\u6237\u957f\u5ea6\u5728{minLength}\u5230{maxLength}\u4e2a\u5b57\u7b26"}]},password:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{minLength:6,errorMessage:"\u5bc6\u7801\u957f\u5ea6\u5927\u4e8e{minLength}\u4e2a\u5b57\u7b26"}]},passwordConfirmation:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801"},{minLength:6,errorMessage:"\u5bc6\u7801\u957f\u5ea6\u6700\u5c0f{minLength}\u4e2a\u5b57\u7b26"}]}}}},mounted:function(){},computed:s({},(0,i.mapState)("app",["appName","appid"])),methods:s(s({},(0,i.mapMutations)({setToken:function(t,e){t("user/SET_TOKEN",e)}})),{},{register:function(t){var e=this;this.loading=!0,this.$request("registerAdmin",t,{functionName:"uni-id-cf"}).then((function(t){uni.showModal({title:"\u63d0\u793a",content:t.code?t.message:"\u521b\u5efa\u6210\u529f",showCancel:!1,success:function(t){t.confirm&&uni.navigateTo({url:"/pages/login/login"})}})})).catch((function(t){})).finally((function(t){e.loading=!1}))},submit:function(t){if(!this.loading){var e=t.detail,n=e.errors,i=e.value;n||(i.password===i.passwordConfirmation?(i.appName=this.appName,i.appid=this.appid,this.register(i)):this.errorMessage="\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u76f8\u540c")}},confirmForm:function(t,e){this.binddata(t,e),this.submitForm()},submitForm:function(){this.errorMessage="",this.$refs.form.submit()},back:function(){uni.redirectTo({url:a.default.login.url})},changePassword:function(){this.showPassword=!this.showPassword},changePasswordAgain:function(){this.showPasswordAgain=!this.showPasswordAgain}})};e.default=u},"0faa":function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"select date","uni-datetime-picker.selectTime":"select time","uni-datetime-picker.selectDateTime":"select datetime","uni-datetime-picker.startDate":"start date","uni-datetime-picker.endDate":"end date","uni-datetime-picker.startTime":"start time","uni-datetime-picker.endTime":"end time","uni-datetime-picker.ok":"ok","uni-datetime-picker.clear":"clear","uni-datetime-picker.cancel":"cancel","uni-datetime-picker.year":"-","uni-datetime-picker.month":"","uni-calender.MON":"MON","uni-calender.TUE":"TUE","uni-calender.WED":"WED","uni-calender.THU":"THU","uni-calender.FRI":"FRI","uni-calender.SAT":"SAT","uni-calender.SUN":"SUN","uni-calender.confirm":"confirm"}')},1078:function(t,e,n){"use strict";n.r(e);var i=n("4297"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"11d2":function(t,e,n){"use strict";n.r(e);var i=n("9b17"),a=n("9a4a"),r=n("52fd"),o=n("e0e4"),s=n("68f3");e["default"]={en:i,es:a,fr:r,"zh-Hans":o,"zh-Hant":s}},1212:function(t,e,n){"use strict";n.r(e);var i=n("1dd0"),a=n("25b9");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},1254:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{date:"2020-09-01",name:"Dcloud1",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud2",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud3",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud4",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud5",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud6",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud7",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud8",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud9",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud10",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud11",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud12",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud13",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud14",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud15",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud16",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-01",name:"Dcloud17",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud18",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud19",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud20",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud21",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud22",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud23",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud24",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud25",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud26",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud27",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud28",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud29",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud30",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud31",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud32",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-01",name:"Dcloud33",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud34",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud35",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud36",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud37",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud38",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud39",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud40",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud41",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud42",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud43",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud44",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud45",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud46",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud47",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud48",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"}];e.default=i},1275:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("uni-icons",{attrs:{type:"info",_i:1},nativeOn:{mouseenter:function(e){return t.mouseenter(e)},mouseleave:function(e){t.showStableInfo=!1}}}),t._$s(2,"i",t.showStableInfo)?n("view",{staticClass:t._$s(2,"sc","show-stable"),style:t._$s(2,"s",{top:t.top+"px",left:t.left+"px",width:t.width+"px"}),attrs:{_i:2}},[n("text",[t._v(t._$s(3,"t0-0",t._s(t.content)))])]):t._e()],1)},r=[]},1281:function(t,e,n){"use strict";n.r(e);var i=n("cfcb"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"12d6":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=n("ee6f");function o(t){return u(t)||l(t)||d(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return f(t)}function c(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function d(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var h={data:function(){return{query:{platform_id:"",start_time:[(0,a.getTimeOfSomeDayAgo)(1),(new Date).getTime()]},deviceTableData:[],userTableData:[],pageSize:10,pageCurrent:1,total:0,loading:!1}},onReady:function(){this.getApps(this.queryStr,r.deviceFeildsMap,"device"),this.getApps(this.queryStr,r.userFeildsMap,"user")},watch:{query:{deep:!0,handler:function(t){this.getApps(this.queryStr,r.deviceFeildsMap,"device"),this.getApps(this.queryStr,r.userFeildsMap,"user")}}},computed:{queryStr:function(){var t='(dimension == "hour" || dimension == "day")';return(0,a.stringifyQuery)(this.query)+" && "+t},deviceTableFields:function(){return this.tableFieldsMap(r.deviceFeildsMap)},userTableFields:function(){return this.tableFieldsMap(r.userFeildsMap)}},methods:{tableFieldsMap:function(t){var e,n=[],i=[],a=[],r=[],s=c(t);try{for(s.s();!(e=s.n()).done;){var l=e.value;if(l.field)if(l.hasOwnProperty("value")){var u=JSON.parse(JSON.stringify(l)),d=JSON.parse(JSON.stringify(l));"total_users"!==l.field&&"total_devices"!==l.field?(u.title="\u4eca\u65e5"+l.title,u.field=l.field+"_value",d.title="\u6628\u65e5"+l.title,d.field=l.field+"_contrast",i.push(u),a.push(d)):(u.field=l.field+"_value",r.push(u))}else n.push(l)}}catch(f){s.e(f)}finally{s.f()}return n=[].concat(o(n),i,a,r),n},getApps:function(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"device";this.loading=!0;var o=t.database(),s=o.collection("opendb-app-list").getTemp(),l=o.collection("uni-stat-result").where(e).getTemp();o.collection(l,s).field("".concat((0,a.stringifyField)(n,"","value"),",stat_date,appid,dimension")).groupBy("appid,dimension,stat_date").groupField((0,a.stringifyGroupField)(n,"","value")).orderBy("appid","desc").get().then((function(t){var e=t.result.data;if(i["".concat(r,"TableData")]=[],e.length){var o,s=[],l=[],u=[],d=(0,a.parseDateTime)((0,a.getTimeOfSomeDayAgo)(0),"",""),f=(0,a.parseDateTime)((0,a.getTimeOfSomeDayAgo)(1),"",""),h=c(e);try{for(h.s();!(o=h.n()).done;){var p=o.value,m=p.appid&&p.appid[0]||{},_=m.appid,g=m.name;p.appid=_,p.name=g,s.indexOf(p.appid)<0&&s.push(p.appid),"hour"===p.dimension&&p.stat_date===d&&l.push(p),"day"===p.dimension&&p.stat_date===f&&u.push(p)}}catch(w){h.e(w)}finally{h.f()}for(var v=n.map((function(t){return t.field})).filter(Boolean),y=function(){var t,e=x[b],n={},o=l.find((function(t){return t.appid===e})),s=u.find((function(t){return t.appid===e})),d=c(v);try{for(d.s();!(t=d.n()).done;){var f=t.value;if("appid"===f||"name"===f)n[f]=o&&o[f];else{var h=o&&o[f],p=s&&s[f];n[f+"_value"]=(0,a.format)(h),n[f+"_contrast"]=(0,a.format)(p)}}}catch(w){d.e(w)}finally{d.f()}if(i["".concat(r,"TableData")].push(n),e){o["total_".concat(r,"s")]=0;var m=JSON.parse(JSON.stringify(i.query));m.start_time=[(0,a.getTimeOfSomeDayAgo)(0),(new Date).getTime()],m.appid=e,a.getFieldTotal.call(i,m,"total_".concat(r,"s")).then((function(t){i["".concat(r,"TableData")].find((function(t){return t.appid===e}))["total_".concat(r,"s_value")]=t}))}},b=0,x=s;b<x.length;b++)y()}})).catch((function(t){})).finally((function(){i.loading=!1}))},navTo:function(t,e){t.indexOf("http")>-1?window.open(t):(e&&(t="".concat(t,"?appid=").concat(e)),uni.navigateTo({url:t}))}}};e.default=h}).call(this,n("a9ff")["default"],n("0de9")["default"])},"12d7":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniDataCheckbox:n("a93f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[n("uni-forms-item",{attrs:{name:"username",label:"\u7528\u6237\u540d",required:!0,_i:2}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",_i:3},model:{value:t._$s(3,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),n("uni-forms-item",{attrs:{name:t.showPassword?"password":"",label:"\u91cd\u7f6e\u5bc6\u7801",_i:4}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t._$s(5,"v-show",!t.showPassword),expression:"_$s(5,'v-show',!showPassword)"}],staticClass:t._$s(5,"sc","reset-password-btn"),attrs:{_i:5},on:{click:t.trigger}}),n("uni-easyinput",{directives:[{name:"show",rawName:"v-show",value:t._$s(6,"v-show",t.showPassword),expression:"_$s(6,'v-show',showPassword)"}],attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u91cd\u7f6e\u5bc6\u7801",_i:6},model:{value:t._$s(6,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[n("view",{staticClass:t._$s(7,"sc","cancel-reset-password-btn"),attrs:{_i:7},on:{click:t.trigger},slot:"right"})])],1),n("uni-forms-item",{staticClass:t._$s(8,"sc","flex-center-x"),attrs:{name:"role",label:"\u89d2\u8272\u5217\u8868",_i:8}},[n("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.roles,_i:9},model:{value:t._$s(9,"v-model",t.formData.role),callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}})],1),n("uni-forms-item",{staticClass:t._$s(10,"sc","flex-center-x"),attrs:{name:"tags",label:"\u7528\u6237\u6807\u7b7e",labelWidth:"100",_i:10}},[n("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:11},model:{value:t._$s(11,"v-model",t.formData.tags),callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}}),n("span",{staticClass:t._$s(12,"sc","link-btn"),attrs:{_i:12},on:{click:t.gotoTagAdd}}),n("span",{staticClass:t._$s(13,"sc","link-btn"),attrs:{_i:13},on:{click:t.gotoTagList}})],1),n("uni-forms-item",{staticClass:t._$s(14,"sc","flex-center-x"),attrs:{name:"dcloud_appid",label:"\u53ef\u767b\u5f55\u5e94\u7528",_i:14}},[n("uni-data-checkbox",{attrs:{multiple:!0,collection:"opendb-app-list",field:"appid as value, name as text",_i:15},model:{value:t._$s(15,"v-model",t.formData.dcloud_appid),callback:function(e){t.$set(t.formData,"dcloud_appid",e)},expression:"formData.dcloud_appid"}}),n("span",{staticClass:t._$s(16,"sc","link-btn"),attrs:{_i:16},on:{click:t.gotoAppList}})],1),n("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",_i:17}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:18},model:{value:t._$s(18,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),n("uni-forms-item",{attrs:{name:"email",label:"\u90ae\u7bb1",_i:19}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:20},model:{value:t._$s(20,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),n("uni-forms-item",{attrs:{name:"status",label:"\u7528\u6237\u72b6\u6001",_i:21}},[t._$s(22,"i",Number(t.formData.status)<2)?n("switch",{attrs:{checked:t._$s(22,"a-checked",t.formData.status),_i:22},on:{change:function(e){return t.binddata("status",e.detail.value)}}}):n("view",{staticClass:t._$s(23,"sc","uni-form-item-empty"),attrs:{_i:23}},[t._v(t._$s(23,"t0-0",t._s(t.parseUserStatus(t.formData.status))))])]),n("view",{staticClass:t._$s(24,"sc","uni-button-group"),attrs:{_i:24}},[n("button",{staticClass:t._$s(25,"sc","uni-button"),attrs:{_i:25},on:{click:t.submitForm}},[t._v(t._$s(25,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(27,"sc","uni-button"),attrs:{_i:27}},[t._v(t._$s(27,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},"12e3":function(t,e,n){"use strict";n.r(e);var i=n("fc65"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},1379:function(t,e,n){"use strict";n.r(e);var i=n("5f9b"),a=n("0125");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"141f":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","login-box"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","admin-logo"),attrs:{_i:1}},[n("image",{attrs:{src:t._$s(2,"a-src",t.logo),_i:2}})]),n("view",{staticClass:t._$s(3,"sc","uni-header no-padding"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.$t("login.text.title"))))])]),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("uni-forms",{ref:"form",attrs:{rules:t.rules,_i:6},model:{value:t._$s(6,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[n("uni-forms-item",{attrs:{"left-icon":"person-filled",name:"username",labelWidth:"35",_i:7}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],ref:"usernameInput",staticClass:t._$s(8,"sc","uni-input-border"),attrs:{placeholder:t._$s(8,"a-placeholder",t.$t("login.field.username")),_i:8},domProps:{value:t._$s(8,"v-model",t.formData.username)},on:{confirm:t.submitForm,input:function(e){e.target.composing||t.$set(t.formData,"username",e.target.value)}}})]),n("uni-forms-item",{staticClass:t._$s(9,"sc","icon-container"),attrs:{"left-icon":"locked-filled",name:"password",labelWidth:"35",_i:9}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],ref:"passwordInput",staticClass:t._$s(10,"sc","uni-input-border"),attrs:{password:t._$s(10,"a-password",t.showPassword),placeholder:t._$s(10,"a-placeholder",t.$t("login.field.password")),_i:10},domProps:{value:t._$s(10,"v-model",t.formData.password)},on:{confirm:t.submitForm,input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),n("text",{staticClass:t._$s(11,"sc","uni-icon-password-eye pointer"),class:t._$s(11,"c",[t.showPassword?"":"uni-eye-active"]),attrs:{_i:11},on:{click:t.changePassword}})]),t._$s(12,"i",t.needCaptcha)?n("uni-forms-item",{staticClass:t._$s(12,"sc","icon-container"),attrs:{"left-icon":"image",name:"captcha",labelWidth:"35",_i:12}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.captcha,expression:"formData.captcha"}],ref:"captchaInput",staticClass:t._$s(13,"sc","uni-input-border"),attrs:{placeholder:t._$s(13,"a-placeholder",t.$t("login.field.captcha")),_i:13},domProps:{value:t._$s(13,"v-model",t.formData.captcha)},on:{confirm:t.submitForm,input:function(e){e.target.composing||t.$set(t.formData,"captcha",e.target.value)}}}),n("view",{staticClass:t._$s(14,"sc","admin-captcha-img pointer"),attrs:{_i:14},on:{click:t.createCaptcha}},[t._$s(15,"i",t.captchaLoading)?n("i",{staticClass:t._$s(15,"sc","uni-loading"),attrs:{_i:15}}):n("img",{attrs:{src:t._$s(16,"a-src",t.captchaBase64),_i:16}})])]):t._e(),n("view",{staticClass:t._$s(17,"sc","uni-button-group"),attrs:{_i:17}},[n("button",{staticClass:t._$s(18,"sc","uni-button uni-button-full"),attrs:{loading:t._$s(18,"a-loading",t.loading),disabled:t._$s(18,"a-disabled",t.loading),_i:18},on:{click:t.submitForm}},[t._v(t._$s(18,"t0-0",t._s(t.$t("login.button.login"))))])])],1),n("view",{staticClass:t._$s(19,"sc","uni-tips"),attrs:{_i:19}},[n("text",{staticClass:t._$s(20,"sc","uni-tips-text"),attrs:{_i:20},on:{click:t.initAdmin}},[t._v(t._$s(20,"t0-0",t._s(t.$t("login.text.prompt"))))])])],1)])},r=[]},1434:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("c35f"));function a(t){return t&&t.__esModule?t:{default:t}}var r={name:"uniSubMenu",mixins:[i.default],props:{index:{type:[String,Object],default:function(){return""}},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#f5f5f5"}},data:function(){return{height:0,oldheight:0,isOpen:!1,textColor:"#303133"}},computed:{paddingLeft:function(){return 20+20*this.rootMenu.SubMenu.length+"px"}},created:function(){this.init()},destroyed:function(){var t=this;if(this.$menuParent){var e=this.$menuParent.subChildrens.findIndex((function(e){return e===t}));this.$menuParent.subChildrens.splice(e,1)}},methods:{init:function(){this.rootMenu={NavMenu:[],SubMenu:[]},this.childrens=[],this.indexPath=[],this.getParentAll("SubMenu",this),this.$menuParent=this.getParent("uniNavMenu",this),this.textColor=this.$menuParent.textColor,this.$subMenu=this.rootMenu.SubMenu,this.$menuParent&&this.$menuParent.subChildrens.push(this)},select:function(){this.disabled||this.$menuParent.selectMenu(this)},open:function(){this.isOpen=!0},close:function(){this.isOpen=!1}}};e.default=r},"148e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("48e3");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l=(s.command,"uni-id-roles");function u(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var c={data:function(){var t={role_id:"",role_name:"",permission:[],comment:"",create_date:null};return{formData:t,formOptions:{},rules:r({},u(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;s.collection(l).add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,n("a9ff")["default"])},"154e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-stat-table",data:function(){return{}},props:{data:{type:Array,default:function(){return[]}},filedsMap:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!1}}};e.default=i},"15d0":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("0db7");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l=(s.command,"uni-id-tag");function u(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var c={data:function(){var t={tagid:"",name:"",description:""};return{formData:t,formOptions:{},rules:r({},u(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){return t.submitForm(e)})).catch((function(){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;return s.collection(l).add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),e.getOpenerEventChannel().emit("refreshCheckboxData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))}}};e.default=c}).call(this,n("a9ff")["default"])},"162b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={pages:[{path:"pages/index/index"},{path:"pages/login/login",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u767b\u5f55"}},{path:"pages/error/404",style:{navigationBarTitleText:"Not Found"}},{path:"pages/changepwd/changepwd",style:{navigationBarTitleText:"\u4fee\u6539\u5bc6\u7801"}},{path:"uni_modules/uni-upgrade-center/pages/version/list",style:{navigationBarTitleText:"\u7248\u672c\u5217\u8868"}},{path:"uni_modules/uni-upgrade-center/pages/version/add",style:{navigationBarTitleText:"\u65b0\u7248\u53d1\u5e03"}},{path:"uni_modules/uni-upgrade-center/pages/version/detail",style:{navigationBarTitleText:"\u7248\u672c\u4fe1\u606f\u67e5\u770b"}}],subPackages:[{root:"pages/system",pages:[{path:"menu/list",style:{navigationBarTitleText:"\u83dc\u5355\u7ba1\u7406"}},{path:"menu/add",style:{navigationBarTitleText:"\u65b0\u589e\u83dc\u5355",navigationStyle:"default"}},{path:"menu/edit",style:{navigationBarTitleText:"\u4fee\u6539\u83dc\u5355",navigationStyle:"default"}},{path:"permission/list",style:{navigationBarTitleText:"\u6743\u9650\u7ba1\u7406"}},{path:"permission/add",style:{navigationBarTitleText:"\u65b0\u589e\u6743\u9650",navigationStyle:"default"}},{path:"permission/edit",style:{navigationBarTitleText:"\u4fee\u6539\u6743\u9650",navigationStyle:"default"}},{path:"role/add",style:{navigationBarTitleText:"\u65b0\u589e\u89d2\u8272",navigationStyle:"default"}},{path:"role/edit",style:{navigationBarTitleText:"\u4fee\u6539\u89d2\u8272",navigationStyle:"default"}},{path:"role/list",style:{navigationBarTitleText:"\u89d2\u8272\u7ba1\u7406"}},{path:"user/add",style:{navigationBarTitleText:"\u65b0\u589e\u7528\u6237",navigationStyle:"default"}},{path:"user/edit",style:{navigationBarTitleText:"\u4fee\u6539\u7528\u6237",navigationStyle:"default"}},{path:"user/list",style:{navigationBarTitleText:"\u7528\u6237\u7ba1\u7406"}},{path:"app/add",style:{navigationBarTitleText:"\u65b0\u589e\u5e94\u7528",navigationStyle:"default"}},{path:"app/list",style:{navigationBarTitleText:"\u5e94\u7528\u7ba1\u7406"}},{path:"app/uni-portal/uni-portal",style:{navigationBarTitleText:"\u53d1\u5e03\u9875\u7ba1\u7406",navigationStyle:"default"}},{path:"tag/add",style:{navigationBarTitleText:"\u65b0\u589e\u6807\u7b7e"}},{path:"tag/edit",style:{navigationBarTitleText:"\u4fee\u6539\u6807\u7b7e"}},{path:"tag/list",style:{navigationBarTitleText:"\u6807\u7b7e\u7ba1\u7406"}},{path:"safety/list",style:{navigationBarTitleText:"\u7528\u6237\u65e5\u5fd7"}}]},{root:"pages/demo",pages:[{path:"init/init",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u521b\u5efa\u8d85\u7ea7\u7ba1\u7406\u5458"}},{path:"icons/icons",style:{navigationBarTitleText:"\u56fe\u6807"}},{path:"table/table",style:{navigationBarTitleText:"\u8868\u683c"}}]},{root:"pages/uni-stat",pages:[{path:"page-res/page-res",style:{navigationBarTitleText:"\u53d7\u8bbf\u9875",enablePullDownRefresh:!1}},{path:"page-ent/page-ent",style:{navigationBarTitleText:"\u5165\u53e3\u9875",enablePullDownRefresh:!1}},{path:"scene/scene",style:{navigationBarTitleText:"\u573a\u666f\u503c\uff08\u5c0f\u7a0b\u5e8f\uff09",enablePullDownRefresh:!1}},{path:"channel/channel",style:{navigationBarTitleText:"\u6e20\u9053\uff08app\uff09",enablePullDownRefresh:!1}},{path:"error/js/js",style:{navigationBarTitleText:"js\u62a5\u9519\u7edf\u8ba1",enablePullDownRefresh:!1}},{path:"error/js/detail",style:{navigationBarTitleText:"\u9519\u8bef\u4fe1\u606f",navigationStyle:"default",enablePullDownRefresh:!1}},{path:"error/app/app",style:{navigationBarTitleText:"app\u539f\u751f\u62a5\u9519\u7edf\u8ba1",enablePullDownRefresh:!1}},{path:"event/event",style:{navigationBarTitleText:"\u4e8b\u4ef6\u548c\u8f6c\u5316",enablePullDownRefresh:!1}},{path:"device/overview/overview",style:{navigationBarTitleText:"\u4eca\u65e5\u6982\u51b5",enablePullDownRefresh:!1}},{path:"device/activity/activity",style:{navigationBarTitleText:"\u6d3b\u8dc3\u5ea6",enablePullDownRefresh:!1}},{path:"device/trend/trend",style:{navigationBarTitleText:"\u8d8b\u52bf\u5206\u6790",enablePullDownRefresh:!1}},{path:"device/retention/retention",style:{navigationBarTitleText:"\u7559\u5b58",enablePullDownRefresh:!1}},{path:"device/comparison/comparison",style:{navigationBarTitleText:"\u5e73\u53f0\u5bf9\u6bd4",enablePullDownRefresh:!1}},{path:"device/stickiness/stickiness",style:{navigationBarTitleText:"\u7c98\u6027",enablePullDownRefresh:!1}},{path:"user/overview/overview",style:{navigationBarTitleText:"\u4eca\u65e5\u6982\u51b5",enablePullDownRefresh:!1}},{path:"user/activity/activity",style:{navigationBarTitleText:"\u6d3b\u8dc3\u5ea6",enablePullDownRefresh:!1}},{path:"user/trend/trend",style:{navigationBarTitleText:"\u8d8b\u52bf\u5206\u6790",enablePullDownRefresh:!1}},{path:"user/retention/retention",style:{navigationBarTitleText:"\u7559\u5b58",enablePullDownRefresh:!1}},{path:"user/comparison/comparison",style:{navigationBarTitleText:"\u5e73\u53f0\u5bf9\u6bd4",enablePullDownRefresh:!1}},{path:"user/stickiness/stickiness",style:{navigationBarTitleText:"\u7c98\u6027",enablePullDownRefresh:!1}}]}],globalStyle:{navigationStyle:"custom",navigationBarTextStyle:"black",navigationBarTitleText:"\u7ba1\u7406\u7cfb\u7edf",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8"},topWindow:{path:"windows/topWindow",style:{height:"60px"},matchMedia:{minWidth:0}},leftWindow:{path:"windows/leftWindow",style:{width:"240px"}}};e.default=i},"163a":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a")),a=n("e6ed");function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){o(r,i,a,s,l,"next",t)}function l(t){o(r,i,a,s,l,"throw",t)}s(void 0)}))}}var l=function(t){return t?{name:"",extname:"",url:t}:{}};function u(t){var e={};for(var n in a.validator)t.includes(n)&&(e[n]=a.validator[n]);return e}var c=["mimarket","samsungapps","appmarket","oppomarket","vivomarket"],d=["xiaomi","samsung","huawei","oppo","vivo"],f={data:function(){var t={appid:"",name:"",icon_url:"",introduction:"",alias:"",description:"",screenshot:[],store_list:[],app_android:{},app_ios:{},mp_weixin:{},mp_alipay:{},mp_baidu:{},mp_toutiao:{},mp_qq:{},mp_lark:{},mp_kuaishou:{},mp_dingtalk:{},mp_jd:{},h5:{},quickapp:{}},e={formData:t,rules:Object.freeze(u(Object.keys(t))),mpPlatform:Object.freeze(a.mpPlatform),screenshotList:[],middleware_img:{},middleware_checkbox:{},appPackageInfo:{},appPlatformKeys:Object.freeze(["app_ios","app_android"]),appPlatformValues:Object.freeze({app_android:"Android",app_ios:"iOS"}),keepItems:Object.freeze([]),isEdit:!1,deletedStore:[]},n=Object.keys(a.mpPlatform);return e.mpPlatformKeys=Object.freeze(n),[].concat(n,["icon_url","quickapp"]).forEach((function(t){return e.middleware_img[t]={}})),e.platFormKeys=Object.freeze([].concat(n,e.appPlatformKeys)),e.platFormKeys.forEach((function(t){return e.middleware_checkbox[t]=!1})),e},methods:{requestCloudFunction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$request(t,e,{functionName:"uni-upgrade-center"})},hasValue:function(t){return"object"!==typeof t?!!t:t instanceof Array?!!t.length:!(!t||!Object.keys(t).length)},initFormData:function(t){if(t&&Object.keys(t).length)for(var e in t){var n=t[e];switch(e){case"icon_url":this.middleware_img[e]=l(n);break;case"screenshot":this.screenshotList=n.map((function(t){return l(t)}));break;default:-1===e.indexOf("mp")&&-1===e.indexOf("app")||!this.hasValue(n)||(this.setPlatformChcekbox(e,!0),n.qrcode_url&&(this.middleware_img[e]=l(n.qrcode_url)));break}this.setFormData(e,n)}},setFormData:function(t,e){var n=-1!==t.indexOf(".")?t.split("."):[t],i=n.length-1,a=this.formData;n.forEach((function(t,n){var r=a[t];"object"===typeof r&&n<i?a=r:a[t]=e}))},getFormData:function(t){for(var e=-1!==t.indexOf(".")?t.split("."):[t],n=(e.length,this.formData),i=0;i<e.length;i++){var a=e[i];if(n=n[a],null==n)return!1}return n},formatFormData:function(){var t=this;this.setFormData("screenshot",this.screenshotList.map((function(t){return t.fileID||t.url})));for(var e=0;e<this.formData.store_list.length;e++){var n=this.formData.store_list[e];if(0!==n.scheme.trim().length){var i=c.indexOf((n.scheme.match(/(.*):\/\//)||[])[1]);-1!==i&&(n.id!==d[i]&&this.deletedStore.push(n.id),n.id=d[i]),n.priority=parseFloat(n.priority)}else this.formData.store_list.splice(e,1),e--}this.keepItems=this.platFormKeys.filter((function(e){return t.getPlatformChcekbox(e)&&(t.formData[e].url||t.formData[e].qrcode_url)})).concat(["icon_url","screenshot","create_date","store_list"]),this.formData.h5&&this.formData.h5.url&&this.keepItems.push("h5")},autoFill:function(){var t=this,e=this.getFormData("appid");e&&(uni.showLoading({mask:!0}),this.requestCloudFunction("getAppInfo",{appid:e}).then((function(e){if(e.success)return t.setFormData("description",e.description),void t.setFormData("name",e.name)})).catch((function(t){})).finally((function(){uni.hideLoading()})))},autoFillApp:function(){var t=this,e=this.getFormData("appid");e&&this.appPlatformKeys.forEach((function(n){t.fetchAppInfo(e,t.appPlatformValues[n]).then((function(e){if(e&&e.success)return t.setPlatformChcekbox(n,!0),void t.setFormData(n,{name:e.name,url:e.url})}))}))},fetchAppInfo:function(t,e){return uni.showLoading({mask:!0}),this.requestCloudFunction("getAppVersionInfo",{appid:t,platform:e}).then((function(t){return t})).catch((function(t){})).finally((function(){uni.hideLoading()}))},iconUrlSuccess:function(t,e){uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f",duration:500}),this.setFormData(e,t.tempFilePaths[0])},iconUrlDelete:function(t,e){var n=this;return s(i.default.mark((function a(){var r;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.requestCloudFunction("deleteFile",{fileList:[t.tempFile.fileID||t.tempFile.url]});case 2:if(r=i.sent,r=r.fileList?r.fileList[0]:r[0],!r.success&&"SUCCESS"!==r.code){i.next=10;break}if(uni.showToast({icon:"success",title:"\u5220\u9664\u6210\u529f",duration:800}),e){i.next=8;break}return i.abrupt("return");case 8:n.setFormData(e,""),n.$refs.form.clearValidate(e);case 10:case"end":return i.stop()}}),a)})))()},getPlatformChcekbox:function(t){return this.middleware_checkbox[t]},setPlatformChcekbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.middleware_checkbox[t]=e},selectFile:function(){this.hasPackage&&uni.showToast({icon:"none",title:"\u53ea\u53ef\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u5220\u9664\u5df2\u4e0a\u4f20\u540e\u91cd\u8bd5",duration:1e3})}},computed:{hasPackage:function(){return this.appPackageInfo&&!!Object.keys(this.appPackageInfo).length}}};e.default=f}).call(this,n("0de9")["default"])},1673:function(t,e,n){"use strict";function i(t){var e="";for(var n in t){var i=t[n];i&&(e+="".concat(n," "))}return e}function a(t){var e="";for(var n in t){var i=t[n];e+="".concat(n,":").concat(i,";")}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!0},passwordIcon:{type:Boolean,default:!0},styles:{type:Object,default:function(){return{color:"#333",disableColor:"#F7F6F6",borderColor:"#e5e5e5"}}},errorMessage:{type:[String,Boolean],default:""}},data:function(){return{focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:""}},computed:{isVal:function(){var t=this.val;return!(!t&&0!==t)},msg:function(){return this.localMsg||this.errorMessage},inputMaxlength:function(){return Number(this.maxlength)},boxStyle:function(){return"color:".concat(this.inputBorder&&this.msg?"#e43d33":this.styles.color,";")},inputContentClass:function(){return i({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled})},inputContentStyle:function(){var t=this.focusShow?"#2979ff":this.styles.borderColor,e=this.inputBorder&&this.msg?"#dd524d":t;return a({"border-color":e||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:"#fff"})},inputStyle:function(){var t="password"===this.type||this.clearable||this.prefixIcon?"":"10px";return a({"padding-right":t,"padding-left":this.prefixIcon?"":"10px"})}},watch:{value:function(t){this.val=t},modelValue:function(t){this.val=t},focus:function(t){var e=this;this.$nextTick((function(){e.focused=e.focus,e.focusShow=e.focus}))}},created:function(){var t=this;this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(function(e){t.localMsg=e}))},mounted:function(){var t=this;this.$nextTick((function(){t.focused=t.focus,t.focusShow=t.focus}))},methods:{init:function(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon:function(t){this.$emit("iconClick",t)},onEyes:function(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput:function(t){var e=t.detail.value;this.trim&&("boolean"===typeof this.trim&&this.trim&&(e=this.trimStr(e)),"string"===typeof this.trim&&(e=this.trimStr(e,this.trim))),this.errMsg&&(this.errMsg=""),this.val=e,this.$emit("input",e),this.$emit("update:modelValue",e)},onFocus:function(){var t=this;this.$nextTick((function(){t.focused=!0})),this.$emit("focus",null)},_Focus:function(t){this.focusShow=!0,this.$emit("focus",t)},onBlur:function(){this.focused=!1,this.$emit("focus",null)},_Blur:function(t){t.detail.value;if(this.focusShow=!1,this.$emit("blur",t),this.$emit("change",this.val),this.form&&this.formItem){var e=this.form.validateTrigger;"blur"===e&&this.formItem.onFieldChange()}},onConfirm:function(t){this.$emit("confirm",this.val),this.$emit("change",this.val)},onClear:function(t){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},trimStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"===e?t.trim():"left"===e?t.trimLeft():"right"===e?t.trimRight():"start"===e?t.trimStart():"end"===e?t.trimEnd():"all"===e?t.replace(/\s+/g,""):t}}};e.default=r},"17ae":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a")),a=r(n("93d1"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function s(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){u(r,i,a,o,s,"next",t)}function s(t){u(r,i,a,o,s,"throw",t)}o(void 0)}))}}var d={name:"downloadExcel",props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:function(){return null}},exportFields:{type:Object,default:function(){return null}},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:function(){return[]}},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName:function(){var t=(new Date).getTime();return"export_"+t},downloadFields:function(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{generate:function(){var t=this;return c(i.default.mark((function e(){var n,a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof t.beforeGenerate){e.next=3;break}return e.next=3,t.beforeGenerate();case 3:if(n=t.data,"function"!==typeof t.fetch&&n){e.next=8;break}return e.next=7,t.fetch();case 7:n=e.sent;case 8:if(n&&n.length){e.next=10;break}return e.abrupt("return");case 10:if(a=t.getProcessedJson(n,t.downloadFields),"html"!==t.type){e.next=15;break}return e.abrupt("return",t.export(t.jsonToXLS(a),t.name.replace(".xls",".html"),"text/html"));case 15:if("csv"!==t.type){e.next=17;break}return e.abrupt("return",t.export(t.jsonToCSV(a),t.name.replace(".xls",".csv"),"application/csv"));case 17:return e.abrupt("return",t.export(t.jsonToXLS(a),t.name,"application/vnd.ms-excel"));case 18:case"end":return e.stop()}}),e)})))()},export:function(){var t=c(i.default.mark((function t(e,n,r){var o;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=this.base64ToBlob(e,r),"function"!==typeof this.beforeFinish){t.next=4;break}return t.next=4,this.beforeFinish();case 4:(0,a.default)(o,n,r);case 5:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}(),jsonToXLS:function(t){var e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',n="<thead>",i=Object.keys(t[0]).length,a=this,r=this.header||this.$attrs.title;for(var o in r&&(n+=this.parseExtraData(r,'<tr><th colspan="'+i+'">${data}</th></tr>')),n+="<tr>",t[0])n+="<th>"+o+"</th>";return n+="</tr>",n+="</thead>",n+="<tbody>",t.map((function(t,e){for(var i in n+="<tr>",t)n+="<td>"+a.preprocessLongNum(a.valueReformattedForMultilines(t[i]))+"</td>";n+="</tr>"})),n+="</tbody>",null!=this.footer&&(n+="<tfoot>",n+=this.parseExtraData(this.footer,'<tr><td colspan="'+i+'">${data}</td></tr>'),n+="</tfoot>"),e.replace("${table}",n).replace("${worksheet}",this.worksheet)},jsonToCSV:function(t){var e=this,n=[],i=this.header||this.$attrs.title;for(var a in i&&n.push(this.parseExtraData(i,"${data}\r\n")),t[0])n.push(a),n.push(",");return n.pop(),n.push("\r\n"),t.map((function(t){for(var i in t){var a=t[i]+"";e.escapeCsv&&(a='="'+a+'"',a.match(/[,"\n]/)&&(a='"'+a.replace(/\"/g,'""')+'"')),n.push(a),n.push(",")}n.pop(),n.push("\r\n")})),null!=this.footer&&n.push(this.parseExtraData(this.footer,"${data}\r\n")),n.join("")},getProcessedJson:function(t,e){var n=this.getKeys(t,e),i=[],a=this;return t.map((function(t,e){var r={};for(var o in n){var s=n[o];r[o]=a.getValue(s,t)}i.push(r)})),i},getKeys:function(t,e){if(e)return e;var n={};for(var i in t[0])n[i]=i;return n},parseExtraData:function(t,e){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&(n+=e.replace("${data}",t[i]));else n+=e.replace("${data}",t);return n},getValue:function(t,e){var n="object"!==typeof t?t:t.field,i="string"!==typeof n?[]:n.split("."),a=this.defaultValue;return a=n?i.length>1?this.getValueFromNestedItem(e,i):this.parseValue(e[n]):e,t.hasOwnProperty("callback")&&(a=this.getValueFromCallback(a,t.callback)),a},valueReformattedForMultilines:function(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},preprocessLongNum:function(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem:function(t,e){var n,i=t,a=o(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;i&&(i=i[r])}}catch(s){a.e(s)}finally{a.f()}return this.parseValue(i)},getValueFromCallback:function(t,e){if("function"!==typeof e)return this.defaultValue;var n=e(t);return this.parseValue(n)},parseValue:function(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob:function(t,e){var n=window.btoa(window.unescape(encodeURIComponent(t))),i=atob(n),a=i.length,r=new Uint8ClampedArray(a);while(a--)r[a]=i.charCodeAt(a);return new Blob([r],{type:e})}}};e.default=d},"18f6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u521b\u5efa\u65f6\u95f4",field:"create_time",tooltip:"",formatter:""},{title:"\u4e8b\u4ef6ID",field:"event_key",stat:-1},{title:"\u4e8b\u4ef6\u53c2\u6570",field:"param",tooltip:""},{title:"\u5e73\u53f0",field:"platform",tooltip:""},{title:"\u8bbe\u5907\u6807\u8bc6",field:"device_id",tooltip:""}];e.default=i},1939:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.fields=void 0;var i=r(n("a34a")),a=n("518e");function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return d(t)||c(t,e)||l(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function d(t){if(Array.isArray(t))return t}function f(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){f(r,i,a,o,s,"next",t)}function s(t){f(r,i,a,o,s,"throw",t)}o(void 0)}))}}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="iOS",v="Android";function y(t){var e={};for(var n in a.validator)t.includes(n)&&(e[n]=a.validator[n]);return e}var b="appid,name,title,contents,platform,type,version,min_uni_version,url,stable_publish,is_silently,is_mandatory,create_date,store_list";e.fields=b;var x={data:function(){return{labelWidth:"80px",enableiOSWgt:!0,silentlyContent:"\u9759\u9ed8\u66f4\u65b0\uff1aApp\u5347\u7ea7\u65f6\u4f1a\u5728\u540e\u53f0\u4e0b\u8f7dwgt\u5305\u5e76\u81ea\u884c\u5b89\u88c5\u3002\u65b0\u529f\u80fd\u5728\u4e0b\u6b21\u542f\u52a8App\u65f6\u751f\u6548",mandatoryContent:"\u5f3a\u5236\u66f4\u65b0\uff1aApp\u5347\u7ea7\u5f39\u51fa\u6846\u4e0d\u53ef\u53d6\u6d88",stablePublishContent:"\u540c\u65f6\u53ea\u53ef\u6709\u4e00\u4e2a\u7ebf\u4e0a\u53d1\u884c\u7248\uff0c\u7ebf\u4e0a\u53d1\u884c\u4e0d\u53ef\u66f4\u8bbe\u4e3a\u4e0b\u7ebf\u3002\n\u672a\u4e0a\u7ebf\u53ef\u4ee5\u8bbe\u4e3a\u4e0a\u7ebf\u53d1\u884c\u5e76\u81ea\u52a8\u66ff\u6362\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248",stablePublishContent2:"\u4f7f\u7528\u672c\u5305\u66ff\u6362\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248",uploadFileContent:"\u53ef\u4e0b\u8f7d\u5b89\u88c5\u5305\u5730\u5740\u3002\u4e0a\u4f20\u6587\u4ef6\u5230\u4e91\u5b58\u50a8\u81ea\u52a8\u586b\u5199\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u586b\u5199",minUniVersionContent:"\u4e0a\u6b21\u4f7f\u7528\u65b0Api\u6216\u6253\u5305\u65b0\u6a21\u5757\u7684App\u7248\u672c",priorityContent:"\u68c0\u67e5\u66f4\u65b0\u65f6\uff0c\u6309\u7167\u4f18\u5148\u7ea7\u4ece\u5927\u5230\u5c0f\u4f9d\u6b21\u5c1d\u8bd5\u8df3\u8f6c\u5546\u5e97\u3002\u5982\u679c\u90fd\u8df3\u8f6c\u5931\u8d25\uff0c\u5219\u4f1a\u6253\u5f00\u6d4f\u89c8\u5668\u4f7f\u7528\u4e0b\u8f7d\u94fe\u63a5\u4e0b\u8f7dapk\u5b89\u88c5\u5305",latestStableData:[],appFileList:null,type_valuetotext:a.enumConverter.type_valuetotext,preUrl:"",formData:{appid:"",name:"",title:"",contents:"",platform:[],store_list:[],type:"",version:"",min_uni_version:"",url:"",stable_publish:!1,create_date:null},formOptions:{platform_localdata:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}],type_localdata:[{value:"native_app",text:"\u539f\u751fApp\u5b89\u88c5\u5305"},{value:"wgt",text:"App\u8d44\u6e90\u5305"}]},rules:m({},y(["appid","contents","platform","type","version","min_uni_version","url","stable_publish","title","name","is_silently","is_mandatory","store_list"]))}},onReady:function(){this.$refs.form.setRules(this.rules)},computed:{isWGT:function(){return"wgt"===this.formData.type},isiOS:function(){return!this.isWGT&&this.formData.platform.includes(g)},hasPackage:function(){return this.appFileList&&!!Object.keys(this.appFileList).length},fileExtname:function(){return this.isWGT?["wgt"]:["apk"]},platformLocaldata:function(){return this.isWGT?this.enableiOSWgt?this.formOptions.platform_localdata:[this.formOptions.platform_localdata[0]]:this.formOptions.platform_localdata},uni_platform:function(){return(this.isiOS?g:v).toLocaleLowerCase()}},methods:{packageUploadSuccess:function(t){uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f",duration:800}),this.preUrl=this.formData.url,this.formData.url=t.tempFilePaths[0]},packageDelete:function(t){var e=this;return h(i.default.mark((function n(){var a,r,s;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.hasPackage){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$request("deleteFile",{fileList:[t.tempFilePath]},{functionName:"uni-app-manager"});case 4:a=n.sent,r=o(a,1),s=r[0],s.success&&(uni.showToast({icon:"success",title:"\u5220\u9664\u6210\u529f",duration:800}),e.formData.url=e.preUrl,e.$refs.form.clearValidate("url"));case 8:case"end":return n.stop()}}),n)})))()},selectFile:function(){this.hasPackage&&uni.showToast({icon:"none",title:"\u53ea\u53ef\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u5220\u9664\u5df2\u4e0a\u4f20\u540e\u91cd\u8bd5",duration:1e3})},createCenterRecord:function(t){return m(m({},t),{},{uni_platform:this.uni_platform,create_env:"upgrade-center"})},createCenterQuery:function(t){var e=t.appid;return{appid:e,create_env:"upgrade-center"}},createStatQuery:function(t){var e=t.appid,n=t.type,i=t.version,a=t.uni_platform;return{appid:e,type:n,version:i,uni_platform:a||this.uni_platform,create_env:"uni-stat",stable_publish:!1}}}};e.default=x},"198b":function(t,e,n){"use strict";n.r(e);var i=n("2cde"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"1a67":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("fc96"),a={name:"uniDateformat",props:{date:{type:[Object,String,Number],default:function(){return"-"}},locale:{type:String,default:"zh"},threshold:{type:Array,default:function(){return[0,0]}},format:{type:String,default:"yyyy/MM/dd hh:mm:ss"},refreshRate:{type:[Number,String],default:0}},data:function(){return{refreshMark:0}},computed:{dateShow:function(){return this.refreshMark,(0,i.friendlyDate)(this.date,{locale:this.locale,threshold:this.threshold,format:this.format})}},watch:{refreshRate:{handler:function(){this.setAutoRefresh()},immediate:!0}},methods:{refresh:function(){this.refreshMark++},setAutoRefresh:function(){var t=this;clearInterval(this.refreshInterval),this.refreshRate&&(this.refreshInterval=setInterval((function(){t.refresh()}),parseInt(this.refreshRate)))}}};e.default=a},"1c83":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("44e0");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l=(s.command,"uni-id-users");function u(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var c={data:function(){return{showPassword:!1,formData:{username:"",password:"",role:[],dcloud_appid:[],mobile:"",email:"",status:!1},rules:r(r({},u(["username","password","role","mobile","email"])),{},{status:{rules:[{format:"bool"}]}}),roles:[]}},onLoad:function(t){var e=t.id;this.formDataId=e,this.getDetail(e),this.loadroles()},methods:{gotoAppList:function(){uni.navigateTo({url:"../app/list"})},gotoTagList:function(){uni.navigateTo({url:"../tag/list"})},gotoTagAdd:function(){var t=this;uni.navigateTo({url:"../tag/add",events:{refreshCheckboxData:function(){t.$refs.checkbox.loadData()}}})},trigger:function(){this.showPassword=!this.showPassword},submitForm:function(t){this.$refs.form.submit()},submit:function(t){var e=this,n=t.detail,i=n.value,a=n.errors;a||(uni.showLoading({title:"\u4fee\u6539\u4e2d...",mask:!0}),"boolean"===typeof i.status&&(i.status=Number(!i.status)),i.id=this.formDataId,this.$request("updateUser",i,{functionName:"uni-id-cf"}).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()})))},resetPWd:function(t){this.$request("system/user/resetPwd",t).then().catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally()},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),s.collection(l).doc(t).field("username,role,dcloud_appid,tags,mobile,email,status").get().then((function(t){var n=t.result.data[0];n&&(void 0===n.status&&(n.status=!0),0===n.status&&(n.status=!0),1===n.status&&(n.status=!1),e.formData=Object.assign(e.formData,n))})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},loadroles:function(){var t=this;s.collection("uni-id-roles").limit(500).get().then((function(e){var n=[];t.roles=e.result.data.map((function(t){return n.push(t.role_id),{value:t.role_id,text:t.role_name}})),-1===n.indexOf("admin")&&t.roles.unshift({value:"admin",text:"\u8d85\u7ea7\u7ba1\u7406\u5458"})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},parseUserStatus:function(t){return 0===t?"\u542f\u7528":1===t?"\u7981\u7528":2===t?"\u5ba1\u6838\u4e2d":3===t?"\u5ba1\u6838\u62d2\u7edd":"\u542f\u7528"}}};e.default=c}).call(this,n("a9ff")["default"])},"1cc5":function(t,e,n){"use strict";n.r(e);var i=n("562c"),a=n("ffae");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"1d8d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("0c5e")),a=o(n("e065")),r=o(n("f0aa"));function o(t){return t&&t.__esModule?t:{default:t}}var s={en:i.default,"zh-Hans":a.default,"zh-Hant":r.default};e.default=s},"1dd0":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default,uniPopup:n("da7a").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","header"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","navbar"),class:t._$s(1,"c",{"navbar-mini":!t.matchLeftWindow,"popup-menu":t.popupMenuOpened}),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","navbar-left"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","logo pointer"),attrs:{_i:3},on:{click:t.linkTo}},[n("image",{attrs:{src:t._$s(4,"a-src",t.logo),_i:4}}),n("text",[t._v(t._$s(5,"t0-0",t._s(t.appName)))])]),n("uni-icons",{staticClass:t._$s(6,"sc","menu-icon"),attrs:{type:"bars",size:"30",color:"#999",_i:6},on:{click:t.toggleSidebar}})],1),n("view",{staticClass:t._$s(7,"sc","navbar-middle"),attrs:{_i:7}},[n("text",{staticClass:t._$s(8,"sc","title-text"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.navigationBarTitleText)))])]),n("view",{staticClass:t._$s(9,"sc","navbar-right pointer"),attrs:{_i:9}},[n("picker",{attrs:{range:t._$s(10,"a-range",t.langs),_i:10},on:{change:t.changeLanguage}},[n("view",{staticClass:t._$s(11,"sc","admin-icons-lang flex lang-icon"),attrs:{_i:11}})]),n("view",[n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(13,"v-show",t.userInfo.username),expression:"_$s(13,'v-show',userInfo.username)"}],staticClass:t._$s(13,"sc","navbar-user"),attrs:{_i:13},on:{click:t.togglePopupMenu}},[n("view",{staticClass:t._$s(14,"sc","admin-icons-user user-icon"),attrs:{_i:14}}),n("view",{staticClass:t._$s(15,"sc","username ml-s"),attrs:{_i:15}},[n("text",[t._v(t._$s(16,"t0-0",t._s(t.userInfo.username)))])]),n("uni-icons",{staticClass:t._$s(17,"sc","arrowdown"),attrs:{type:"arrowdown",color:"#666",size:"13",_i:17}})],1),n("view",{staticClass:t._$s(18,"sc","uni-mask"),attrs:{_i:18},on:{click:t.togglePopupMenu}}),n("view",{staticClass:t._$s(19,"sc","navbar-menu"),attrs:{_i:19}},[t._$s(20,"i",t.userInfo.username)?[n("view",{staticClass:t._$s(21,"sc","menu-item hover-highlight"),attrs:{_i:21},on:{click:t.changePassword}},[n("text",[t._v(t._$s(22,"t0-0",t._s(t.$t("topwindow.text.changePwd"))))])]),n("view",{staticClass:t._$s(23,"sc","menu-item hover-highlight"),attrs:{_i:23}},[n("text",{staticClass:t._$s(24,"sc","logout pointer"),attrs:{_i:24},on:{click:t.logout}},[t._v(t._$s(24,"t0-0",t._s(t.$t("topwindow.text.signOut"))))])])]:t._e(),n("view",{staticClass:t._$s(25,"sc","popup-menu__arrow"),attrs:{_i:25}})],2)])])]),n("uni-popup",{ref:"errorLogsPopup",attrs:{type:"center",_i:26}},[n("view",{staticClass:t._$s(27,"sc","modal"),attrs:{_i:27}},[n("scroll-view",{staticClass:t._$s(28,"sc","modal-content"),attrs:{_i:28}},[n("error-log",{staticClass:t._$s(29,"sc","error-table"),attrs:{_i:29}})],1)])]),n("uni-popup",{ref:"passwordPopup",attrs:{type:"center",_i:30}},[n("view",{staticClass:t._$s(31,"sc","modal"),attrs:{_i:31}},[n("update-password",{staticClass:t._$s(32,"sc","password-popup"),attrs:{isPhone:!0,_i:32},on:{closePasswordPopup:t.closePasswordPopup}})],1)])],1)},r=[]},"1de1":function(t,e,n){"use strict";n.r(e);var i=n("3b05"),a=n("d18a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"1e35":function(t,e,n){"use strict";n.r(e);var i=n("17ae"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"1e51":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatTable:n("4a21").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-container"),attrs:{_i:1}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.popupFieldsMap,loading:t.loading,_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-pagination-box"),attrs:{_i:3}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:4},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1),n("fix-window",{attrs:{_i:5}})],1)},r=[]},"1e77":function(t,e,n){"use strict";n.r(e);var i=n("5c3b"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"1f28":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","container loading3"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),n("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},r=[]},2025:function(t,e,n){"use strict";n.r(e);var i=n("1c83"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"209e":function(t,e,n){"use strict";n.r(e);var i=n("bbbb"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},2101:function(t,e,n){"use strict";n.r(e);var i=n("c9f1"),a=n("9cfe");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"73ca4796",null,!1,i["a"],o);e["default"]=l.exports},"21a6":function(t,e,n){"use strict";n.r(e);var i=n("fdf2"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},2267:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("852b"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){return h(t)||f(t,e)||c(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function h(t){if(Array.isArray(t))return t}var p={data:function(){return{tableName:"uni-stat-result",fieldsMap:r.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,currentDimensionTab:0,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_user_count",channelData:[],tabIndex:0}},computed:{chartTabs:function(){var t=[];return r.default.forEach((function(e){var n=e.field,i=e.title,a=e.hasOwnProperty("value");n&&i&&a&&t.push({_id:n,name:i})})),t},dimensionTabs:function(){var t=[{_id:"hour",name:"\u6309\u65f6"},{_id:"day",name:"\u6309\u65e5"},{_id:"week",name:"\u6309\u5468"},{_id:"month",name:"\u6309\u6708"}];return this.getDays()?(this.query.dimension="day",t.forEach((function(t,e){"hour"===t._id?t.disabled=!0:t.disabled=!1})),this.currentDimensionTab=1):(this.query.dimension="hour",t.forEach((function(t,e){"hour"===t._id?t.disabled=!1:t.disabled=!0})),this.currentDimensionTab=0),t},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},methods:{getDays:function(){if(!this.query.start_time.length)return!0;var t=864e5,e=l(this.query.start_time,2),n=e[0],i=e[1],a=i-n>=t;return a},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n,i,r=864e5;n=(0,a.getTimeOfSomeDayAgo)(t),i=t?(0,a.getTimeOfSomeDayAgo)(0)-1:(0,a.getTimeOfSomeDayAgo)(0)+r-1,this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,n){this.tabIndex=e,this.getChartData(this.query,t,n)},getAllData:function(t){this.getPanelData(),this.getChartData(t),this.getTabelData(t)},getChartData:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name;e=(0,a.stringifyQuery)(e,!0,["uni_platform"]);var l=this.query.dimension,u=t.database();u.collection(this.tableName).where(e).field("".concat((0,a.stringifyField)(r.default,i),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default,i)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,u=(e.count,e.data),c={categories:[],series:[{name:o,data:[]}]},d=r.default.filter((function(t){return t.field===i}));d=JSON.parse(JSON.stringify(d)),delete d[0].value,d[0].formatter="";var f,h=s(u);try{for(h.s();!(f=h.n()).done;){var p=f.value;(0,a.mapfields)(d,p,p);var m=(0,a.formatDate)(p.start_time,l),_=p[i];c.series[0].data.push(_),c.categories.push(m)}}catch(g){h.e(g)}finally{h.f()}n.chartData=c})).catch((function(t){})).finally((function(){n.loading=!1}))},getTabelData:function(e){var n=this,i=this.options.pageCurrent;e=(0,a.stringifyQuery)(e,!0,["uni_platform"]),this.options.pageCurrent=1,this.loading=!0;var o=t.database();o.collection(this.tableName).where(e).field((0,a.stringifyField)(r.default)).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default)).orderBy("start_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,i=t.result,o=i.count,l=i.data,u=s(l);try{for(u.s();!(e=u.n()).done;){var c=e.value,d=c.start_time;if(d){var f=n.query.dimension;c.start_time=(0,a.formatDate)(d,f)}(0,a.mapfields)(r.default,c,c)}}catch(h){u.e(h)}finally{u.f()}n.tableData=[],n.options.total=o,n.tableData=l})).catch((function(t){})).finally((function(){n.loading=!1}))},getPanelData:function(){var e=this,n=JSON.parse(JSON.stringify(this.query));n.dimension="day";var i=(0,a.stringifyQuery)(n,!1,["uni_platform"]),o=t.database();o.collection(this.tableName).where(i).field("".concat((0,a.stringifyField)(r.default),",stat_date")).groupBy("appid").groupField((0,a.stringifyGroupField)(r.default)).orderBy("stat_date","desc").get().then((function(t){var i=t.result.data[0];i&&(i.total_devices=0),a.getFieldTotal.call(e,n),e.panelData=[],e.panelData=(0,a.mapfields)(r.default,i)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=p}).call(this,n("a9ff")["default"],n("0de9")["default"])},"23f9":function(t,e,n){"use strict";n.r(e);var i=n("12d7"),a=n("2025");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},2495:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("b3bc");function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function r(t){return u(t)||l(t)||s(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var d={data:function(){return{query:{dimension:"day",appid:"",version_id:"",start_time:(0,i.getTimeOfSomeDayAgo)(0)},platforms:[],dayChartsData:[],monChartsData:[]}},created:function(){var t=this;this.debounceGet=(0,i.debounce)((function(){t.getChartData(t.query),t.getRangeCountData(t.query,"month")}))},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},computed:{chartsData:function(){return[].concat(r(this.dayChartsData),r(this.monChartsData))},versionQuery:function(){var t=this.query.appid,e=(0,i.stringifyQuery)({appid:t});return e}},methods:{getChartData:function(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";e=JSON.parse(JSON.stringify(e));var r=(0,i.getTimeOfSomeDayAgo)(0);if(e.start_time>=r){var o=(new Date).getTime();e.start_time=[r,o],e=(0,i.stringifyQuery)(e,!0)}else e=(0,i.stringifyQuery)(e);var s=t.database();s.collection("uni-stat-result").where(e).field("active_device_count,new_device_count,total_devices,platform_id").groupBy("platform_id").groupField("sum(active_device_count) as ".concat(a,"_active_device_count, sum(new_device_count) as ").concat(a,"_new_device_count, max(total_devices) as ").concat(a,"_total_devices")).get().then((function(t){var e=t.result.data;n.initChartOption(e,"dayChartsData")}))},getRangeCountData:function(e,n){var a=this;e=(0,i.stringifyQuery)(e);var r=t.database();r.collection("uni-stat-result").where(e).field("active_device_count, new_device_count, platform_id, ".concat(n,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(n,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(n?n+",":"","platform_id")).groupField("sum(active_device_count) as ".concat(n,"_active_device_count, sum(new_device_count) as ").concat(n,"_new_device_count")).orderBy("year asc, ".concat(n," asc")).get().then((function(t){var e=t.result.data;a.initChartOption(e,"monChartsData","month")}))},initChartOption:function(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",o=t.database();o.collection("uni-stat-app-platforms").get().then((function(t){var o=[{field:"".concat(r,"_new_device_count"),title:"".concat("day"===r?"\u65e5":"\u6708","\u65b0\u589e\u8bbe\u5907\u5bf9\u6bd4"),series:[{data:[]}]},{field:"".concat(r,"_active_device_count"),title:"".concat("day"===r?"\u65e5":"\u6708","\u6d3b\u8dc3\u8bbe\u5907\u5bf9\u6bd4"),series:[{data:[]}]}];"day"===r&&o.unshift({field:"day_total_devices",title:"\u603b\u8bbe\u5907\u6570\u5bf9\u6bd4",series:[{data:[]}]}),i[n]=o;var s=t.result.data,l={};s.forEach((function(t){l[t._id]=t.name}));var u,c=a(i[n]);try{for(c.s();!(u=c.n()).done;){var d,f=u.value,h=f.series[0].data,p=JSON.parse(JSON.stringify(l)),m=a(e);try{for(m.s();!(d=m.n()).done;){var _=d.value;for(var g in _)if(f.field===g){var v=_.platform_id,y={name:p[v],value:_[g]};h.push(y),delete p[v]}}}catch(w){m.e(w)}finally{m.f()}for(var b in p){var x={name:p[b],value:0};h.push(x)}}}catch(w){c.e(w)}finally{c.f()}}))}}};e.default=d}).call(this,n("a9ff")["default"])},"251f":function(t,e,n){"use strict";n.r(e);var i=n("dfa4"),a=n("fdee");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"25b9":function(t,e,n){"use strict";n.r(e);var i=n("b2a0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"25c7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEqual=e.type=e.isRequiredField=e.isBoolean=e.isNumber=e.objGet=e.objSet=e.name2arr=e.rawData=e.isRealName=e.realName=e.getDataValueType=e.getDataValue=e.setDataValue=e.getValue=e.typeFilter=e.deepCopy=void 0;var i=function(t){return JSON.parse(JSON.stringify(t))};e.deepCopy=i;var a=function(t){return"int"===t||"double"===t||"number"===t||"timestamp"===t};e.typeFilter=a;var r=function(t,e,n){var i=n.find((function(t){return t.format&&a(t.format)})),r=n.find((function(t){return t.format&&"boolean"===t.format||"bool"===t.format}));return i&&(e=e||0===e?_(Number(e))?Number(e):e:null),r&&(e=!!g(e)&&e),e};e.getValue=r;var o=function(t,e,n){return e[t]=n,n||""};e.setDataValue=o;var s=function(t,e){return m(e,t)};e.getDataValue=s;var l=function(t,e){var n=s(t,e);return{type:y(n),value:n}};e.getDataValueType=l;var u=function(t){var e=p(t);if("object"===typeof e&&Array.isArray(e)&&e.length>1){var n=e.reduce((function(t,e){return t+"#".concat(e)}),"_formdata_");return n}return e[0]||t};e.realName=u;var c=function(t){var e=/^_formdata_#*/;return e.test(t)};e.isRealName=c;var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse(JSON.stringify(t)),n={};for(var i in e){var a=f(i);h(n,a,e[i])}return n};e.rawData=d;var f=function(t){var e=t.replace("_formdata_#","");return e=e.split("#").map((function(t){return _(t)?Number(t):t})),e};e.name2arr=f;var h=function(t,e,n){return"object"!==typeof t||p(e).reduce((function(t,e,i,a){return i===a.length-1?(t[e]=n,null):(e in t||(t[e]=/^[0-9]{1,}$/.test(a[i+1])?[]:{}),t[e])}),t),t};function p(t){return Array.isArray(t)?t:t.replace(/\[/g,".").replace(/\]/g,"").split(".")}e.objSet=h;var m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined",i=p(e),a=i.reduce((function(t,e){return(t||{})[e]}),t);return a&&void 0===a?n:a};e.objGet=m;var _=function(t){return!isNaN(Number(t))};e.isNumber=_;var g=function(t){return"boolean"===typeof t};e.isBoolean=g;var v=function(t){for(var e=!1,n=0;n<t.length;n++){var i=t[n];if(i.required){e=!0;break}}return e};e.isRequiredField=v;var y=function(t){var e={};return"Boolean Number String Function Array Date RegExp Object Error".split(" ").map((function(t,n){e["[object "+t+"]"]=t.toLowerCase()})),null==t?t+"":"object"===typeof t||"function"===typeof t?e[Object.prototype.toString.call(t)]||"object":typeof t};e.type=y;var b=function(t,e){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;var n=toString.call(t),i=toString.call(e);if(n!==i)return!1;switch(n){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("[object Object]"==n){var a=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(a.length!=r.length)return!1;for(var o=0;o<a.length;o++){var s=a[o];if(t[s]!==e[s])return!1}return!0}return"[object Array]"==n?t.toString()==e.toString():void 0};e.isEqual=b},2625:function(t,e,n){"use strict";n.r(e);var i=n("a56e"),a=n("dab3");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"26cb":function(t,e,n){"use strict";(function(e){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function n(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:i});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,n.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var i="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},a=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(t){a&&(t._devtoolHook=a,a.emit("vuex:init",t),a.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){a.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){a.emit("vuex:action",t,e)}),{prepend:!0}))}function o(t,e){return t.filter(e)[0]}function s(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=o(e,(function(e){return e.original===t}));if(n)return n.copy;var i=Array.isArray(t)?[]:{};return e.push({original:t,copy:i}),Object.keys(t).forEach((function(n){i[n]=s(t[n],e)})),i}function l(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function u(t){return null!==t&&"object"===typeof t}function c(t){return t&&"function"===typeof t.then}function d(t,e){return function(){return t(e)}}var f=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(t,e){this._children[t]=e},f.prototype.removeChild=function(t){delete this._children[t]},f.prototype.getChild=function(t){return this._children[t]},f.prototype.hasChild=function(t){return t in this._children},f.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},f.prototype.forEachChild=function(t){l(this._children,t)},f.prototype.forEachGetter=function(t){this._rawModule.getters&&l(this._rawModule.getters,t)},f.prototype.forEachAction=function(t){this._rawModule.actions&&l(this._rawModule.actions,t)},f.prototype.forEachMutation=function(t){this._rawModule.mutations&&l(this._rawModule.mutations,t)},Object.defineProperties(f.prototype,h);var p=function(t){this.register([],t,!1)};function m(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;m(t.concat(i),e.getChild(i),n.modules[i])}}p.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},p.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},p.prototype.update=function(t){m([],this.root,t)},p.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var a=new f(e,n);if(0===t.length)this.root=a;else{var r=this.get(t.slice(0,-1));r.addChild(t[t.length-1],a)}e.modules&&l(e.modules,(function(e,a){i.register(t.concat(a),e,n)}))},p.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},p.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var _;var g=function(t){var e=this;void 0===t&&(t={}),!_&&"undefined"!==typeof window&&window.Vue&&A(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new _,this._makeLocalGettersCache=Object.create(null);var a=this,o=this,s=o.dispatch,l=o.commit;this.dispatch=function(t,e){return s.call(a,t,e)},this.commit=function(t,e,n){return l.call(a,t,e,n)},this.strict=i;var u=this._modules.root.state;w(this,u,[],this._modules.root),x(this,u),n.forEach((function(t){return t(e)}));var c=void 0!==t.devtools?t.devtools:_.config.devtools;c&&r(this)},v={state:{configurable:!0}};function y(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function b(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;w(t,n,[],t._modules.root,!0),x(t,n,e)}function x(t,e,n){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,r={};l(a,(function(e,n){r[n]=d(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var o=_.config.silent;_.config.silent=!0,t._vm=new _({data:{$$state:e},computed:r}),_.config.silent=o,t.strict&&T(t),i&&(n&&t._withCommit((function(){i._data.$$state=null})),_.nextTick((function(){return i.$destroy()})))}function w(t,e,n,i,a){var r=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=i),!r&&!a){var s=P(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){_.set(s,l,i.state)}))}var u=i.context=$(t,o,n);i.forEachMutation((function(e,n){var i=o+n;C(t,i,e,u)})),i.forEachAction((function(e,n){var i=e.root?n:o+n,a=e.handler||e;D(t,i,a,u)})),i.forEachGetter((function(e,n){var i=o+n;S(t,i,e,u)})),i.forEachChild((function(i,r){w(t,e,n.concat(r),i,a)}))}function $(t,e,n){var i=""===e,a={dispatch:i?t.dispatch:function(n,i,a){var r=O(n,i,a),o=r.payload,s=r.options,l=r.type;return s&&s.root||(l=e+l),t.dispatch(l,o)},commit:i?t.commit:function(n,i,a){var r=O(n,i,a),o=r.payload,s=r.options,l=r.type;s&&s.root||(l=e+l),t.commit(l,o,s)}};return Object.defineProperties(a,{getters:{get:i?function(){return t.getters}:function(){return k(t,e)}},state:{get:function(){return P(t.state,n)}}}),a}function k(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(a){if(a.slice(0,i)===e){var r=a.slice(i);Object.defineProperty(n,r,{get:function(){return t.getters[a]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function C(t,e,n,i){var a=t._mutations[e]||(t._mutations[e]=[]);a.push((function(e){n.call(t,i.state,e)}))}function D(t,e,n,i){var a=t._actions[e]||(t._actions[e]=[]);a.push((function(e){var a=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return c(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):a}))}function S(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}function T(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function P(t,e){return e.reduce((function(t,e){return t[e]}),t)}function O(t,e,n){return u(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function A(t){_&&t===_||(_=t,n(_))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(t){0},g.prototype.commit=function(t,e,n){var i=this,a=O(t,e,n),r=a.type,o=a.payload,s=(a.options,{type:r,payload:o}),l=this._mutations[r];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(s,i.state)})))},g.prototype.dispatch=function(t,e){var n=this,i=O(t,e),a=i.type,r=i.payload,o={type:a,payload:r},s=this._actions[a];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,n.state)}))}catch(u){0}var l=s.length>1?Promise.all(s.map((function(t){return t(r)}))):s[0](r);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,n.state)}))}catch(u){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,n.state,t)}))}catch(u){0}e(t)}))}))}},g.prototype.subscribe=function(t,e){return y(t,this._subscribers,e)},g.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return y(n,this._actionSubscribers,e)},g.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch((function(){return t(i.state,i.getters)}),e,n)},g.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},g.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),w(this,this.state,t,this._modules.get(t),n.preserveState),x(this,this.state)},g.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=P(e.state,t.slice(0,-1));_.delete(n,t[t.length-1])})),b(this)},g.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},g.prototype[[104,111,116,85,112,100,97,116,101].map((function(t){return String.fromCharCode(t)})).join("")]=function(t){this._modules.update(t),b(this,!0)},g.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(g.prototype,v);var M=R((function(t,e){var n={};return L(e).forEach((function(e){var i=e.key,a=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=N(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"===typeof a?a.call(this,e,n):e[a]},n[i].vuex=!0})),n})),I=R((function(t,e){var n={};return L(e).forEach((function(e){var i=e.key,a=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.commit;if(t){var r=N(this.$store,"mapMutations",t);if(!r)return;i=r.context.commit}return"function"===typeof a?a.apply(this,[i].concat(e)):i.apply(this.$store,[a].concat(e))}})),n})),j=R((function(t,e){var n={};return L(e).forEach((function(e){var i=e.key,a=e.val;a=t+a,n[i]=function(){if(!t||N(this.$store,"mapGetters",t))return this.$store.getters[a]},n[i].vuex=!0})),n})),F=R((function(t,e){var n={};return L(e).forEach((function(e){var i=e.key,a=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var r=N(this.$store,"mapActions",t);if(!r)return;i=r.context.dispatch}return"function"===typeof a?a.apply(this,[i].concat(e)):i.apply(this.$store,[a].concat(e))}})),n})),E=function(t){return{mapState:M.bind(null,t),mapGetters:j.bind(null,t),mapMutations:I.bind(null,t),mapActions:F.bind(null,t)}};function L(t){return q(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function q(t){return Array.isArray(t)||u(t)}function R(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function N(t,e,n){var i=t._modulesNamespaceMap[n];return i}function B(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var i=t.transformer;void 0===i&&(i=function(t){return t});var a=t.mutationTransformer;void 0===a&&(a=function(t){return t});var r=t.actionFilter;void 0===r&&(r=function(t,e){return!0});var o=t.actionTransformer;void 0===o&&(o=function(t){return t});var l=t.logMutations;void 0===l&&(l=!0);var u=t.logActions;void 0===u&&(u=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var d=s(t.state);"undefined"!==typeof c&&(l&&t.subscribe((function(t,r){var o=s(r);if(n(t,d,o)){var l=U(),u=a(t),f="mutation "+t.type+l;z(c,f,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",u),c.log("%c next state","color: #4CAF50; font-weight: bold",i(o)),W(c)}d=o})),u&&t.subscribeAction((function(t,n){if(r(t,n)){var i=U(),a=o(t),s="action "+t.type+i;z(c,s,e),c.log("%c action","color: #03A9F4; font-weight: bold",a),W(c)}})))}}function z(t,e,n){var i=n?t.groupCollapsed:t.group;try{i.call(t,e)}catch(a){t.log(e)}}function W(t){try{t.groupEnd()}catch(e){t.log("\u2014\u2014 log end \u2014\u2014")}}function U(){var t=new Date;return" @ "+G(t.getHours(),2)+":"+G(t.getMinutes(),2)+":"+G(t.getSeconds(),2)+"."+G(t.getMilliseconds(),3)}function V(t,e){return new Array(e+1).join(t)}function G(t,e){return V("0",e-t.toString().length)+t}var H={Store:g,install:A,version:"3.6.2",mapState:M,mapMutations:I,mapGetters:j,mapActions:F,createNamespacedHelpers:E,createLogger:B};t.exports=H}).call(this,n("c8ba"))},"27ab":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("4485"));function a(t){return t&&t.__esModule?t:{default:t}}var r=function(t){var e=/^[0-9]*$/g;return"number"===typeof t||e.test(t)?t+"px":t},o={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:function(){return{icons:i.default.glyphs}},computed:{unicode:function(){var t=this,e=this.icons.find((function(e){return e.font_class===t.type}));return e?unescape("%u".concat(e.unicode)):""},iconSize:function(){return r(this.size)}},methods:{_onClick:function(){this.$emit("click")}}};e.default=o},"28e4":function(t,e,n){"use strict";n.r(e);var i=n("d30f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},2905:function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"}')},"290b":function(t,e,n){"use strict";n.r(e);var i=n("b7dd"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},2915:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-group hide-on-phone"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.table.title"))))])]),n("view",{staticClass:t._$s(4,"sc","uni-group"),attrs:{_i:4}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:t._$s(5,"sc","uni-search"),attrs:{placeholder:t._$s(5,"a-placeholder",t.$t("common.placeholder.query")),_i:5},domProps:{value:t._$s(5,"v-model",t.searchVal)},on:{confirm:t.search,input:function(e){e.target.composing||(t.searchVal=e.target.value)}}}),n("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:t.search}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.search"))))]),n("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.add"))))]),n("button",{staticClass:t._$s(8,"sc","uni-button"),attrs:{_i:8},on:{click:t.delTable}},[t._v(t._$s(8,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])]),n("view",{staticClass:t._$s(9,"sc","uni-container"),attrs:{_i:9}},[n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,type:"selection",emptyText:t.$t("common.empty"),_i:10},on:{"selection-change":t.selectionChange}},[n("uni-tr",{attrs:{_i:11}},[n("uni-th",{attrs:{width:"150",align:"center",_i:12}},[t._v("")]),n("uni-th",{attrs:{width:"150",align:"center",_i:13}},[t._v("")]),n("uni-th",{attrs:{align:"center",_i:14}},[t._v("")]),n("uni-th",{attrs:{width:"204",align:"center",_i:15}},[t._v("")])],1),t._l(t._$s(16,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(16,"f",{forIndex:a,key:i}),attrs:{_i:"16-"+r}},[n("uni-td",{attrs:{_i:"17-"+r}},[t._v(t._$s("17-"+r,"t0-0",t._s(e.date)))]),n("uni-td",{attrs:{_i:"18-"+r}},[n("view",{staticClass:t._$s("19-"+r,"sc","name"),attrs:{_i:"19-"+r}},[t._v(t._$s("19-"+r,"t0-0",t._s(e.name)))])]),n("uni-td",{attrs:{_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e.address)))]),n("uni-td",{attrs:{_i:"21-"+r}},[n("view",{staticClass:t._$s("22-"+r,"sc","uni-group"),attrs:{_i:"22-"+r}},[n("button",{staticClass:t._$s("23-"+r,"sc","uni-button"),attrs:{_i:"23-"+r}},[t._v(t._$s("23-"+r,"t0-0",t._s(t.$t("common.button.edit"))))]),n("button",{staticClass:t._$s("24-"+r,"sc","uni-button"),attrs:{_i:"24-"+r}},[t._v(t._$s("24-"+r,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),n("view",{staticClass:t._$s(25,"sc","uni-pagination-box"),attrs:{_i:25}},[n("uni-pagination",{attrs:{"show-icon":!0,"page-size":t.pageSize,current:t.pageCurrent,total:t.total,_i:26},on:{change:t.change}})],1)],1),n("fix-window",{attrs:{_i:27}})],1)},r=[]},2969:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniLink:n("e232").default,uniDataCheckbox:n("a93f").default,uniPopup:n("da7a").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{labelWidth:"80",rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[n("uni-forms-item",{attrs:{name:"menu_id",label:"\u6807\u8bc6",required:!0,_i:2}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u9879\u7684ID\uff0c\u4e0d\u53ef\u91cd\u590d",_i:3},model:{value:t._$s(3,"v-model",t.formData.menu_id),callback:function(e){t.$set(t.formData,"menu_id",e)},expression:"formData.menu_id"}})],1),n("uni-forms-item",{attrs:{name:"name",label:"\u663e\u793a\u540d\u79f0",required:!0,_i:4}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("uni-forms-item",{attrs:{name:"icon",label:"\u56fe\u6807 class",_i:6}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807css\u6837\u5f0f\u7c7b\u540d",_i:7},model:{value:t._$s(7,"v-model",t.formData.icon),callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}},[n("span",{attrs:{_i:8},on:{click:t.showIconPopup},slot:"right"})]),n("uni-link",{staticClass:t._$s(9,"sc","uni-form-item-tips"),attrs:{"font-size":"12",href:"https://uniapp.dcloud.net.cn/uniCloud/admin?id=icon-%e5%9b%be%e6%a0%87",text:"\u5982\u4f55\u4f7f\u7528\u81ea\u5b9a\u4e49\u56fe\u6807\uff1f",_i:9}})],1),n("uni-forms-item",{attrs:{name:"url",label:"\u9875\u9762URL",_i:10}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"URL\u4e3a\u7a7a\u4ee3\u8868\u662f\u76ee\u5f55\u800c\u4e0d\u662f\u53f6\u5b50\u8282\u70b9",_i:11},model:{value:t._$s(11,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),n("uni-forms-item",{attrs:{name:"sort",label:"\u5e8f\u53f7",_i:12}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u5e8f\u53f7\uff08\u8d8a\u5927\u8d8a\u9760\u540e\uff09",_i:13},model:{value:t._$s(13,"v-model",t.formData.sort),callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),n("uni-forms-item",{attrs:{name:"parent_id",label:"\u7236\u83dc\u5355\u6807\u8bc6",_i:14}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7236\u7ea7\u83dc\u5355\u6807\u8bc6, \u4e00\u7ea7\u83dc\u5355\u4e0d\u9700\u8981\u586b\u5199",_i:15},model:{value:t._$s(15,"v-model",t.formData.parent_id),callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),n("uni-forms-item",{staticClass:t._$s(16,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650\u5217\u8868",_i:16}},[n("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:17},model:{value:t._$s(17,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}}),n("view",{staticClass:t._$s(18,"sc","uni-form-item-tips"),attrs:{_i:18}})],1),n("uni-forms-item",{attrs:{name:"enable",label:"\u662f\u5426\u542f\u7528",_i:19}},[n("switch",{attrs:{checked:t._$s(20,"a-checked",t.formData.enable),_i:20},on:{change:function(e){return t.binddata("enable",e.detail.value)}}})]),n("view",{staticClass:t._$s(21,"sc","uni-button-group"),attrs:{_i:21}},[n("button",{staticClass:t._$s(22,"sc","uni-button"),attrs:{_i:22},on:{click:t.submitForm}},[t._v(t._$s(22,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(24,"sc","uni-button"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.$t("common.button.back"))))])])]),n("uni-popup",{ref:"iconPopup",staticClass:t._$s(25,"sc","icon-modal-box"),attrs:{type:"center",_i:25}},[n("view",{staticClass:t._$s(26,"sc","icon-modal icon-modal-pc"),attrs:{_i:26}},[n("Icons",{attrs:{tag:!1,"fix-window":!1,_i:27}})],1)])],1)],1)},r=[]},"296c":function(t,e,n){"use strict";n.r(e);var i=n("81c9"),a=n("72c8");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"29b7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={namespaced:!0,state:{logs:[]},mutations:{ADD_ERROR_LOG:function(t,e){t.logs.unshift(e)},CLEAR_ERROR_LOG:function(t){t.logs.splice(0)}},actions:{add:function(t,e){var n=t.commit;if(!e.route){var i=getCurrentPages();i.length&&(e.route=i[i.length-1].route)}e.route="/"+(e.route||""),n("ADD_ERROR_LOG",e)},clear:function(t){var e=t.commit;e("CLEAR_ERROR_LOG")}}};e.default=i},"2a37":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uniDataChecklist",mixins:[t.mixinDatacom||{}],emits:["input","update:modelValue","change"],props:{mode:{type:String,default:"default"},multiple:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return""}},modelValue:{type:[Array,String,Number],default:function(){return""}},localdata:{type:Array,default:function(){return[]}},min:{type:[Number,String],default:""},max:{type:[Number,String],default:""},wrap:{type:Boolean,default:!1},icon:{type:String,default:"left"},selectedColor:{type:String,default:""},selectedTextColor:{type:String,default:""},emptyText:{type:String,default:"\u6682\u65e0\u6570\u636e"},disabled:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},watch:{localdata:{handler:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},deep:!0},mixinDatacomResData:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},value:function(t){this.dataList=this.getDataList(t)},modelValue:function(t){this.dataList=this.getDataList(t)}},data:function(){return{dataList:[],range:[],contentText:{contentdown:"\u67e5\u770b\u66f4\u591a",contentrefresh:"\u52a0\u8f7d\u4e2d",contentnomore:"\u6ca1\u6709\u66f4\u591a"},isLocal:!0,styles:{selectedColor:"#2979ff",selectedTextColor:"#666"},isTop:0}},computed:{dataValue:function(){return""===this.value?this.modelValue:(this.modelValue,this.value)}},created:function(){this.localdata&&0!==this.localdata.length?(this.isLocal=!0,this.range=this.localdata,this.dataList=this.getDataList(this.getSelectedValue(this.range))):this.collection&&(this.isLocal=!1,this.loadData())},methods:{loadData:function(){var t=this;this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,0===t.mixinDatacomResData.length?(t.isLocal=!1,t.mixinDatacomErrorMessage=t.emptyText):t.isLocal=!0})).catch((function(e){t.mixinDatacomErrorMessage=e.message}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,n=e.$options.name;while(n!==t){if(e=e.$parent,!e)return!1;n=e.$options.name}return e},chagne:function(t){var e=this,n=t.detail.value,i={value:[],data:[]};if(this.multiple)this.range.forEach((function(t){n.includes(t[e.map.value]+"")&&(i.value.push(t[e.map.value]),i.data.push(t))}));else{var a=this.range.find((function(t){return t[e.map.value]+""===n}));a&&(i={value:a[this.map.value],data:a})}this.$emit("input",i.value),this.$emit("update:modelValue",i.value),this.$emit("change",{detail:i}),this.multiple?this.dataList=this.getDataList(i.value,!0):this.dataList=this.getDataList(i.value)},getDataList:function(t){var e=this,n=JSON.parse(JSON.stringify(this.range)),i=[];return this.multiple&&(Array.isArray(t)||(t=[])),n.forEach((function(n,a){if(n.disabled=n.disable||n.disabled||!1,e.multiple)if(t.length>0){var r=t.find((function(t){return t===n[e.map.value]}));n.selected=void 0!==r}else n.selected=!1;else n.selected=t===n[e.map.value];i.push(n)})),this.setRange(i)},setRange:function(t){var e=this,n=t.filter((function(t){return t.selected})),i=Number(this.min)||0,a=Number(this.max)||"";return t.forEach((function(r,o){if(e.multiple){if(n.length<=i){var s=n.find((function(t){return t[e.map.value]===r[e.map.value]}));void 0!==s&&(r.disabled=!0)}if(n.length>=a&&""!==a){var l=n.find((function(t){return t[e.map.value]===r[e.map.value]}));void 0===l&&(r.disabled=!0)}}e.setStyles(r,o),t[o]=r})),t},setStyles:function(t,e){t.styleBackgroud=this.setStyleBackgroud(t),t.styleIcon=this.setStyleIcon(t),t.styleIconText=this.setStyleIconText(t),t.styleRightIcon=this.setStyleRightIcon(t)},getSelectedValue:function(t){var e=this;if(!this.multiple)return this.dataValue;var n=[];return t.forEach((function(t){t.selected&&n.push(t[e.map.value])})),this.dataValue.length>0?this.dataValue:n},setStyleBackgroud:function(t){var e={},n=this.selectedColor?this.selectedColor:"#2979ff";"list"!==this.mode&&(e["border-color"]=t.selected?n:"#DCDFE6"),"tag"===this.mode&&(e["background-color"]=t.selected?n:"#f5f5f5");var i="";for(var a in e)i+="".concat(a,":").concat(e[a],";");return i},setStyleIcon:function(t){var e={},n="",i=this.selectedColor?this.selectedColor:"#2979ff";for(var a in e["background-color"]=t.selected?i:"#fff",e["border-color"]=t.selected?i:"#DCDFE6",!t.selected&&t.disabled&&(e["background-color"]="#F2F6FC",e["border-color"]=t.selected?i:"#DCDFE6"),e)n+="".concat(a,":").concat(e[a],";");return n},setStyleIconText:function(t){var e={},n="",i=this.selectedColor?this.selectedColor:"#2979ff";for(var a in"tag"===this.mode?e.color=t.selected?this.selectedTextColor?this.selectedTextColor:"#fff":"#666":e.color=t.selected?this.selectedTextColor?this.selectedTextColor:i:"#666",!t.selected&&t.disabled&&(e.color="#999"),e)n+="".concat(a,":").concat(e[a],";");return n},setStyleRightIcon:function(t){var e={},n="";for(var i in"list"===this.mode&&(e["border-color"]=t.selected?this.styles.selectedColor:"#DCDFE6"),e)n+="".concat(i,":").concat(e[i],";");return n}}};e.default=n}).call(this,n("a9ff")["default"])},"2b1e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("48e3");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l=(s.command,"uni-id-roles");function u(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var c={data:function(){var t={role_id:"",role_name:"",permission:[],comment:"",create_date:null};return{formData:t,formOptions:{},rules:r({},u(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;s.collection(l).doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),s.collection(l).doc(t).field("role_id,role_name,permission,comment,create_date").get().then((function(t){var n=t.result.data[0];n&&(e.formData=n)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,n("a9ff")["default"])},"2cde":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("6f8f"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,tableData:[],chartData:{},field:"new_user",fields:[{_id:"new_user",name:"\u65b0\u589e\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u65b0\u589e\uff08\u5373\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"},{_id:"active_user",name:"\u6d3b\u8dc3\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u6d3b\u8dc3\uff08\u5373\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"}],key:1,channelData:[]}},computed:{fieldsMap:function(){var t="active_user"===this.field?"\u6d3b\u8dc3\u7528\u6237":"\u65b0\u589e\u7528\u6237",e=[{title:t,field:"".concat(this.field,"_count"),stat:0}];return(0,r.default)(e)},fieldName:function(){var t=this,e="";return this.fields.forEach((function(n){n._id===t.field&&(e=n.name)})),e},keyName:function(){var t=this;return this.keys.forEach((function(e){if(e._id===t.key)return e.name}))},keys:function(){var t=[1,2,3,4,5,6,7,14,30];return t.map((function(t){return{_id:t,name:"".concat(t,"\u5929\u540e")}}))},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},key:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},stringifyField:function(t,e,n){var i=this;e&&(t=t.filter((function(t){return t.field===e}))),n&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(n)})));var a=t.map((function(t){return-1===t.stat?t.field:0===t.stat?"".concat(t.field," as ").concat("temp_"+t.field):"retention.".concat(i.field,".").concat(t.field,".user_count as ").concat("temp_"+t.field)})).join();return a},createStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user_count",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=e||[1,2,3,4,5,6,7,14,30],r="d",o=this.fields.map((function(t){return t._id}));n=n||o;var s=a.map((function(e){return n.map((function(n){return"retention.".concat(n,".").concat(r+"_"+e,".").concat(t," as ").concat(r+"_"+e)}))}));i&&s.push(i);var l=s.join();return l},getAllData:function(t){this.getChartData(t,this.key,this.keyName),this.getTabelData(t)},getChartData:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.key;this.options.pageCurrent;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);this.createStr("user_count",[i],[this.field]);var r=t.database();r.collection("uni-stat-result").where(e).field("".concat(this.stringifyField(this.fieldsMap,"d_".concat(i)),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(this.fieldsMap,"d_".concat(i))).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e,r=t.result,o=(r.count,r.data),l={categories:[],series:[{name:"".concat(i,"\u5929\u540e").concat(n.fieldName),data:[]}]},u=s(o);try{for(u.s();!(e=u.n()).done;){var c=e.value,d=(0,a.formatDate)(c.start_time,"day"),f=c["d_".concat(i)];l.series[0].data.push(f),l.categories.push(d)}}catch(h){u.e(h)}finally{u.f()}n.chartData=l})).catch((function(t){})).finally((function(){n.loading=!1}))},getTabelData:function(e){var n=this,i=this.options.pageCurrent;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);var r=this.field+"_count";this.createStr("user_rate","",[this.field],r);this.loading=!0;var o=t.database();o.collection("uni-stat-result").where(e).field(this.stringifyField(this.fieldsMap)).groupBy("start_time").groupField((0,a.stringifyGroupField)(this.fieldsMap)).orderBy("start_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,i=t.result,r=i.count,o=i.data,l=s(o);try{for(l.s();!(e=l.n()).done;){var u=e.value;(0,a.mapfields)(n.fieldsMap,u,u)}}catch(c){l.e(c)}finally{l.f()}n.options.total=r,n.tableData=[],n.tableData=o})).catch((function(t){})).finally((function(){n.loading=!1}))},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},"2d7a":function(t,e,n){"use strict";n.r(e);var i=n("7b90"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"2e56":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,uniStatTable:n("4a21").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),n("uni-stat-tabs",{attrs:{label:"\u7ef4\u5ea6\u9009\u62e9",type:"box",current:t.currentDimensionTab,tabs:t.dimensionTabs,_i:12},model:{value:t._$s(12,"v-model",t.query.dimension),callback:function(e){t.$set(t.query,"dimension",e)},expression:"query.dimension"}})],1),n("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("uni-stat-panel",{attrs:{items:t.panelData,_i:16}}),n("view",{staticClass:t._$s(17,"sc","uni-stat--x p-m"),attrs:{_i:17}},[n("view",{staticClass:t._$s(18,"sc","label-text mb-l"),attrs:{_i:18}}),n("uni-stat-tabs",{staticClass:t._$s(19,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:19},on:{change:t.changeChartTab},model:{value:t._$s(19,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,_i:21}})],1)],1),n("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:23}}),n("view",{staticClass:t._$s(24,"sc","uni-pagination-box"),attrs:{_i:24}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:25},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),n("fix-window",{attrs:{_i:26}})],1)},r=[]},"2eb6":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("7b47"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{fieldsMap:r.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(){this.getPanelData(),this.getTableData()},getTableData:function(e){var n=this;e=(0,a.stringifyQuery)(this.query,null,["uni_platform"]);var i=this.options.pageCurrent;this.loading=!0;var o=t.database(),l=(0,a.stringifyQuery)({appid:this.query.appid}),u=o.collection("uni-stat-pages").where(l).getTemp(),c=o.collection("uni-stat-page-result").where(e+" && entry_count > 0").getTemp();o.collection(c,u).field("".concat((0,a.stringifyField)(r.default),", stat_date, page_id")).groupBy("page_id").groupField((0,a.stringifyGroupField)(r.default)).orderBy("entry_count","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,i=e.count,o=e.data;n.options.total=i,n.tableData=[];var l,u=s(o);try{for(u.s();!(l=u.n()).done;){var c=l.value,d=c.page_id;if(Array.isArray(d)){delete c.page_id;var f=d[0];if(f&&Object.keys(f).length)for(var h in f)"_id"!==h&&(c[h]=f[h])}(0,a.mapfields)(r.default,c,c),n.tableData.push(c)}}catch(p){u.e(p)}finally{u.f()}})).catch((function(t){})).finally((function(){n.loading=!1}))},getPanelData:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.stringifyQuery)(this.query,null,["uni_platform"]),i=t.database();i.collection("uni-stat-page-result").where(n).field((0,a.stringifyField)(r.default)).groupBy("appid").groupField((0,a.stringifyGroupField)(r.default)).orderBy("start_time","desc ").get().then((function(t){var n=t.result.data[0];e.panelData=[],e.panelData=(0,a.mapfields)(r.default,n)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},"2f48":function(t,e,n){"use strict";n.r(e);var i=n("47a0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"2f67":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={qiunLoading:n("497f").default,qiunError:n("306b").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{id:t._$s(0,"a-id","ChartBoxId"+t.cid),_i:0}},[t._$s(1,"i",t.mixinDatacomLoading)?n("view",[n("qiun-loading",{attrs:{loadingType:t.loadingType,_i:2}})],1):t._e(),t._$s(3,"i",t.mixinDatacomErrorMessage&&t.errorShow)?n("view",{attrs:{_i:3},on:{click:t.reloading}},[n("qiun-error",{attrs:{errorMessage:t.errorMessage,_i:4}})],1):t._e(),t._$s(5,"i",t.echarts)?[n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(6,"v-show",t.showchart),expression:"_$s(6,'v-show',showchart)"}],wxsProps:{"change:resize":"echartsResize","change:prop":"echartsOpts"},style:t._$s(6,"s",{background:t.background}),attrs:{"data-directory":t._$s(6,"a-data-directory",t.directory),id:t._$s(6,"a-id","EC"+t.cid),prop:t._$s(6,"change:echartsOpts",t.echartsOpts),resize:t._$s(6,"change:echartsResize",t.echartsResize),_i:6}})]:[n("view",{wxsProps:{"change:prop":"uchartsOpts"},attrs:{id:t._$s(8,"a-id","UC"+t.cid),prop:t._$s(8,"change:uchartsOpts",t.uchartsOpts),_i:8},on:{}},[n("canvas",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",t.showchart),expression:"_$s(9,'v-show',showchart)"}],style:t._$s(9,"s",{width:t.cWidth+"px",height:t.cHeight+"px",background:t.background}),attrs:{id:t._$s(9,"a-id",t.cid),canvasId:t._$s(9,"a-canvasId",t.cid),"disable-scroll":t._$s(9,"a-disable-scroll",t.disableScroll),_i:9},on:{error:t._error}})])]],2)},r=[]},"2fad":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniMenuItem:n("eef1").default,uniSubMenu:n("0bcd").default,uniMenuSidebar:n("4a2c").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","pointer"),attrs:{_i:0}},[t._l(t._$s(1,"f",{forItems:t.data,fill:!0}),(function(e,i,a,r){return[t._$s("2-"+r,"i",!e.children||!e.children.length)?[n("uni-menu-item",{attrs:{index:e,_i:"3-"+r}},[n("view",{class:t._$s("4-"+r,"c",e.icon),attrs:{_i:"4-"+r}}),n("text",{class:t._$s("5-"+r,"c",{title:e.icon}),attrs:{_i:"5-"+r}},[t._v(t._$s("5-"+r,"t0-0",t._s(e.text)))])])]:n("uni-sub-menu",{key:t._$s(1,"f",{forIndex:a,keyIndex:-1,key:"1--1"+r}),attrs:{index:e,_i:"6-"+r},scopedSlots:t._u([{key:"title",fn:function(i,a,o){return[n("view",{class:a._$s("8-"+r+"-"+o,"c",e.icon),attrs:{_i:"8-"+r+"-"+o}}),n("text",{class:a._$s("9-"+r+"-"+o,"c",{title:e.icon}),attrs:{_i:"9-"+r+"-"+o}},[t._v(a._$s("9-"+r+"-"+o,"t0-0",t._s(e.text)))])]}}],null,!0)},[n("uni-menu-sidebar",{key:t._$s("10-"+r,"a-key",e._id),staticClass:t._$s("10-"+r,"sc","item-bg"),attrs:{data:e.children,_i:"10-"+r}})],1)]}))],2)},r=[]},"2fc7":function(t,e,n){"use strict";n.r(e);var i=n("01ab"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"2fd6":function(t,e,n){"use strict";n.r(e);var i=n("7da7"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"2ff6":function(t,e,n){"use strict";n.r(e);var i=n("42ba"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"301b":function(t,e,n){"use strict";n.r(e);var i=n("b0f9"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"306b":function(t,e,n){"use strict";n.r(e);var i=n("99f6"),a=n("e86f");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"30d1":function(t,e,n){"use strict";n.r(e);var i=n("99b8"),a=n("9d91");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0f5ca878",null,!1,i["a"],o);e["default"]=l.exports},"31d5":function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u986f\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f09...","uni-load-more.contentnomore":"\u6c92\u6709\u66f4\u591a\u6578\u64da\u4e86"}')},3210:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),n("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),n("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),n("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[n("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-permissions",field:"permission_id,permission_name,comment,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=e.pagination,s=e.loading,l=e.error;e.options;return[n("uni-table",{ref:"table",attrs:{loading:s,emptyText:l.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+a},on:{"selection-change":t.selectionChange}},[n("uni-tr",{attrs:{_i:"11-"+a}},[n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+a},on:{"filter-change":function(e){return t.filterChange(e,"permission_id")},"sort-change":function(e){return t.sortChange(e,"permission_id")}}},[t._v("\u6743\u9650\u6807\u8bc6")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+a},on:{"filter-change":function(e){return t.filterChange(e,"permission_name")},"sort-change":function(e){return t.sortChange(e,"permission_name")}}},[t._v("\u6743\u9650\u540d\u79f0")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"14-"+a},on:{"filter-change":function(e){return t.filterChange(e,"comment")},"sort-change":function(e){return t.sortChange(e,"comment")}}},[t._v("\u5907\u6ce8")]),n("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"15-"+a},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),n("uni-th",{attrs:{align:"center",_i:"16-"+a}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("17-"+a,"f",{forItems:r}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("17-"+a,"f",{forIndex:o,key:r}),attrs:{_i:"17-"+a+s}},[n("uni-td",{attrs:{align:"center",_i:"18-"+a+s}},[t._v(i._$s("18-"+a+s,"t0-0",t._s(e.permission_id)))]),n("uni-td",{attrs:{align:"center",_i:"19-"+a+s}},[t._v(i._$s("19-"+a+s,"t0-0",t._s(e.permission_name)))]),n("uni-td",{attrs:{align:"center",_i:"20-"+a+s}},[t._v(i._$s("20-"+a+s,"t0-0",t._s(e.comment)))]),n("uni-td",{attrs:{align:"center",_i:"21-"+a+s}},[n("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"22-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"23-"+a+s}},[n("view",{staticClass:i._$s("24-"+a+s,"sc","uni-group"),attrs:{_i:"24-"+a+s}},[n("button",{staticClass:i._$s("25-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"25-"+a+s},on:{click:function(n){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("25-"+a+s,"t0-0",t._s(t.$t("common.button.edit"))))]),n("button",{staticClass:i._$s("26-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"26-"+a+s},on:{click:function(n){return t.confirmDelete(e._id)}}},[t._v(i._$s("26-"+a+s,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),n("view",{staticClass:i._$s("27-"+a,"sc","uni-pagination-box"),attrs:{_i:"27-"+a}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":o.size,total:o.count,_i:"28-"+a},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("28-"+a,"v-model",o.current),callback:function(e){t.$set(o,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),n("fix-window",{attrs:{_i:29}})],1)},r=[]},"332c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"\u5df2\u81ea\u52a8\u590d\u5236\u7f51\u5740\uff0c\u8bf7\u5728\u624b\u673a\u6d4f\u89c8\u5668\u91cc\u7c98\u8d34\u8be5\u7f51\u5740"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA:function(){return!(!this.isMail()&&!this.isTel()||!0!==this._isH5)}},created:function(){this._isH5=null},methods:{isMail:function(){return this.href.startsWith("mailto:")},isTel:function(){return this.href.startsWith("tel:")},openURL:function(){this.isTel()?this.makePhoneCall(this.href.replace("tel:","")):plus.runtime.openURL(this.href)},makePhoneCall:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=i},3392:function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u663e\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f7d...","uni-load-more.contentnomore":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"}')},"33d0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("1212")),a=r(n("fd33"));function r(t){return t&&t.__esModule?t:{default:t}}var o={components:{topWindow:i.default,leftWindow:a.default},data:function(){return{visible:!1}},methods:{tiggerWindow:function(){this.visible=!this.visible}}};e.default=o},"340d":function(t,e,n){"use strict";n.r(e);var i=n("b8b3"),a=n("62ea");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"343f":function(t,e,n){"use strict";n.r(e);var i=n("7534"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},3631:function(t,e,n){"use strict";function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){if([null,void 0,NaN,!1].includes(t))return t;if("object"!==typeof t&&"function"!==typeof t)return t;var e=i(t)?[]:{};for(var n in t)t.hasOwnProperty(n)&&(e[n]="object"===typeof t[n]?a(t[n]):t[n]);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=a,e.defaultDisplayApp=e.appVersionListDbName=e.appListDbName=void 0;var r="opendb-app-list";e.appListDbName=r;var o="opendb-app-versions";e.appVersionListDbName=o;var s="";e.defaultDisplayApp=s},"369c":function(t,e,n){"use strict";n.r(e);var i=n("dad5"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},3771:function(t,e,n){"use strict";n.r(e);var i=n("8f57"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"37dc":function(t,e,n){"use strict";(function(t){function n(t,e){return s(t)||o(t,e)||a(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function s(t){if(Array.isArray(t))return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.compileI18nJsonStr=q,e.hasI18nJson=E,e.initVueI18n=I,e.isI18nStr=R,e.normalizeLocale=P,e.parseI18nJson=L,e.resolveLocale=U,e.isString=e.LOCALE_ZH_HANT=e.LOCALE_ZH_HANS=e.LOCALE_FR=e.LOCALE_ES=e.LOCALE_EN=e.I18n=e.Formatter=void 0;var d=Array.isArray,f=function(t){return null!==t&&"object"===typeof t},h=["{","}"],p=function(){function t(){l(this,t),this._caches=Object.create(null)}return c(t,[{key:"interpolate",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;if(!e)return[t];var i=this._caches[t];return i||(i=g(t,n),this._caches[t]=i),v(i,e)}}]),t}();e.Formatter=p;var m=/^(?:\d)+/,_=/^(?:\w)+/;function g(t,e){var i=n(e,2),a=i[0],r=i[1],o=[],s=0,l="";while(s<t.length){var u=t[s++];if(u===a){l&&o.push({type:"text",value:l}),l="";var c="";u=t[s++];while(void 0!==u&&u!==r)c+=u,u=t[s++];var d=u===r,f=m.test(c)?"list":d&&_.test(c)?"named":"unknown";o.push({value:c,type:f})}else l+=u}return l&&o.push({type:"text",value:l}),o}function v(t,e){var n=[],i=0,a=d(e)?"list":f(e)?"named":"unknown";if("unknown"===a)return n;while(i<t.length){var r=t[i];switch(r.type){case"text":n.push(r.value);break;case"list":n.push(e[parseInt(r.value,10)]);break;case"named":"named"===a&&n.push(e[r.value]);break;case"unknown":0;break}i++}return n}var y="zh-Hans";e.LOCALE_ZH_HANS=y;var b="zh-Hant";e.LOCALE_ZH_HANT=b;var x="en";e.LOCALE_EN=x;var w="fr";e.LOCALE_FR=w;var $="es";e.LOCALE_ES=$;var k=Object.prototype.hasOwnProperty,C=function(t,e){return k.call(t,e)},D=new p;function S(t,e){return!!e.find((function(e){return-1!==t.indexOf(e)}))}function T(t,e){return e.find((function(e){return 0===t.indexOf(e)}))}function P(t,e){if(t){if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if(t=t.toLowerCase(),0===t.indexOf("zh"))return t.indexOf("-hans")>-1?y:t.indexOf("-hant")>-1||S(t,["-tw","-hk","-mo","-cht"])?b:y;var n=T(t,[x,w,$]);return n||void 0}}var O=function(){function t(e){var n=e.locale,i=e.fallbackLocale,a=e.messages,r=e.watcher,o=e.formater;l(this,t),this.locale=x,this.fallbackLocale=x,this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=o||D,this.messages=a||{},this.setLocale(n||x),r&&this.watchLocale(r)}return c(t,[{key:"setLocale",value:function(t){var e=this,n=this.locale;this.locale=P(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],n!==this.locale&&this.watchers.forEach((function(t){t(e.locale,n)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(t){var e=this,n=this.watchers.push(t)-1;return function(){e.watchers.splice(n,1)}}},{key:"add",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.messages[t];i?n?Object.assign(i,e):Object.keys(e).forEach((function(t){C(i,t)||(i[t]=e[t])})):this.messages[t]=e}},{key:"f",value:function(t,e,n){return this.formater.interpolate(t,e,n).join("")}},{key:"t",value:function(t,e,n){var i=this.message;return"string"===typeof e?(e=P(e,this.messages),e&&(i=this.messages[e])):n=e,C(i,t)?this.formater.interpolate(i[t],n).join(""):t}}]),t}();function A(t,e){t.$watchLocale?t.$watchLocale((function(t){e.setLocale(t)})):t.$watch((function(){return t.$locale}),(function(t){e.setLocale(t)}))}function M(){return"undefined"!==typeof uni&&uni.getLocale?uni.getLocale():"undefined"!==typeof t&&t.getLocale?t.getLocale():x}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if("string"!==typeof t){var a=[e,t];t=a[0],e=a[1]}"string"!==typeof t&&(t=M()),"string"!==typeof n&&(n="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||x);var r=new O({locale:t,fallbackLocale:n,messages:e,watcher:i}),o=function(t,e){if("function"!==typeof getApp)o=function(t,e){return r.t(t,e)};else{var n=!1;o=function(t,e){var i=getApp().$vm;return i&&(i.$locale,n||(n=!0,A(i,r))),r.t(t,e)}}return o(t,e)};return{i18n:r,f:function(t,e,n){return r.f(t,e,n)},t:function(t,e){return o(t,e)},add:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.add(t,e,n)},watch:function(t){return r.watchLocale(t)},getLocale:function(){return r.getLocale()},setLocale:function(t){return r.setLocale(t)}}}e.I18n=O;var j,F=function(t){return"string"===typeof t};function E(t,e){return j||(j=new p),W(t,(function(t,n){var i=t[n];return F(i)?!!R(i,e)||void 0:E(i,e)}))}function L(t,e,n){return j||(j=new p),W(t,(function(t,i){var a=t[i];F(a)?R(a,n)&&(t[i]=N(a,e,n)):L(a,e,n)})),t}function q(t,e){var n=e.locale,i=e.locales,a=e.delimiters;if(!R(t,a))return t;j||(j=new p);var r=[];Object.keys(i).forEach((function(t){t!==n&&r.push({locale:t,values:i[t]})})),r.unshift({locale:n,values:i[n]});try{return JSON.stringify(z(JSON.parse(t),r,a),null,2)}catch(o){}return t}function R(t,e){return t.indexOf(e[0])>-1}function N(t,e,n){return j.interpolate(t,e,n).join("")}function B(t,e,n,i){var a=t[e];if(F(a)){if(R(a,i)&&(t[e]=N(a,n[0].values,i),n.length>1)){var r=t[e+"Locales"]={};n.forEach((function(t){r[t.locale]=N(a,t.values,i)}))}}else z(a,n,i)}function z(t,e,n){return W(t,(function(t,i){B(t,i,e,n)})),t}function W(t,e){if(d(t)){for(var n=0;n<t.length;n++)if(e(t,n))return!0}else if(f(t))for(var i in t)if(e(t,i))return!0;return!1}function U(t){return function(e){return e?(e=P(e)||e,V(e).find((function(e){return t.indexOf(e)>-1}))):e}}function V(t){var e=[],n=t.split("-");while(n.length)e.push(n.join("-")),n.pop();return e}e.isString=F}).call(this,n("c8ba"))},3910:function(t,e,n){"use strict";n.r(e);var i=n("62af"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},3942:function(t,e,n){"use strict";n.r(e);var i=n("ef4a"),a=n("6201");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"397b":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniDataPicker:n("cae1").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","main"),attrs:{_i:0}},[t._$s(1,"i",t.loaded)?n("view",[n("view",{staticClass:t._$s(2,"sc","uni-header"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}}),n("view",{staticClass:t._$s(5,"sc","uni-title app-list"),attrs:{_i:5}},[n("picker",{attrs:{value:t._$s(6,"a-value",t.showAppIndex),range:t._$s(6,"a-range",t.appNameList),_i:6},on:{change:function(e){return t.showAppIndex=e.detail.value}}},[n("view",{staticClass:t._$s(7,"sc","uni-input"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.appNameList[t.showAppIndex]))),n("uni-icons",{attrs:{type:"bottom",_i:8}})],1)])])]),n("view",{staticClass:t._$s(9,"sc","uni-group"),attrs:{_i:9}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(10,"sc","uni-search"),attrs:{_i:10},domProps:{value:t._$s(10,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.search}}),n("button",{staticClass:t._$s(12,"sc","uni-button publish"),attrs:{_i:12},on:{click:t.publish}}),n("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{disabled:t._$s(13,"a-disabled",!t.selectedIndexs.length),_i:13},on:{click:t.delTable}})])]),n("view",{staticClass:t._$s(14,"sc","uni-container"),attrs:{_i:14}},[n("unicloud-db",{ref:"udb",attrs:{collection:t.appVersionListDbName,field:"store_list,appid,contents,platform,type,version,min_uni_version,url,stable_publish,create_date,title,name",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,_i:15},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=e.pagination,s=e.loading,l=e.error,u=e.options;return[n("uni-table",{staticStyle:{"overflow-y":"hidden"},attrs:{loading:s,emptyText:l.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"selection",_i:"16-"+a},on:{"selection-change":t.selectionChange}},[n("uni-tr",{attrs:{_i:"17-"+a}},[n("uni-th",{attrs:{align:"center",_i:"18-"+a}},[t._v("AppID")]),n("uni-th",{attrs:{align:"center",_i:"19-"+a}},[t._v("\u66f4\u65b0\u6807\u9898")]),n("uni-th",{attrs:{align:"center",_i:"20-"+a}},[t._v("\u5b89\u88c5\u5305\u7c7b\u578b")]),n("uni-th",{attrs:{align:"center",_i:"21-"+a}},[t._v("\u5e73\u53f0")]),n("uni-th",{attrs:{align:"center",_i:"22-"+a}},[t._v("\u5df2\u4e0a\u67b6\u5e94\u7528\u5e02\u573a")]),n("uni-th",{attrs:{align:"center",_i:"23-"+a}},[t._v("\u7248\u672c\u53f7")]),n("uni-th",{attrs:{align:"center",_i:"24-"+a}},[t._v("\u5b89\u88c5\u5305\u72b6\u6001")]),n("uni-th",{attrs:{align:"center",_i:"25-"+a}},[t._v("\u4e0a\u4f20\u65f6\u95f4")]),n("uni-th",{attrs:{align:"center",_i:"26-"+a}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("27-"+a,"f",{forItems:r}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("27-"+a,"f",{forIndex:o,key:r}),attrs:{disabled:e.stable_publish,_i:"27-"+a+s}},[n("uni-td",{attrs:{align:"center",_i:"28-"+a+s}},[t._v(i._$s("28-"+a+s,"t0-0",t._s(e.appid)))]),n("uni-td",{attrs:{align:"center",_i:"29-"+a+s}},[t._v(i._$s("29-"+a+s,"t0-0",t._s(e.title||"-")))]),n("uni-td",{attrs:{align:"center",_i:"30-"+a+s}},[n("text",{style:i._$s("31-"+a+s,"s",{padding:"5px 8px",backgroundColor:"wgt"===e.type?"#f0f9eb":"#ecf5ff",color:"wgt"===e.type?"#67c23a":"#409eff",border:"1px solid "+("wgt"===e.type?"#e1f3d8":"#d9ecff"),borderRadius:"4px"}),attrs:{_i:"31-"+a+s}},[t._v(i._$s("31-"+a+s,"t0-0",t._s(u.type_valuetotext[e.type])))])]),n("uni-td",{attrs:{align:"center",_i:"32-"+a+s}},[n("uni-data-picker",{attrs:{localdata:u.platform_valuetotext,value:e.platform,border:!1,readonly:!0,split:",",_i:"33-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"34-"+a+s}},[n("text",{attrs:{_i:"35-"+a+s}},[t._v(i._$s("35-"+a+s,"t0-0",t._s(t.store_list_key(e.store_list))))])]),n("uni-td",{attrs:{align:"center",_i:"36-"+a+s}},[t._v(i._$s("36-"+a+s,"t0-0",t._s(e.version)))]),n("uni-td",{attrs:{align:"center",_i:"37-"+a+s}},[t._v(i._$s("37-"+a+s,"t0-0",t._s(1==e.stable_publish?"\u5df2\u4e0a\u7ebf":"\u5df2\u4e0b\u7ebf")))]),n("uni-td",{attrs:{align:"center",_i:"38-"+a+s}},[n("uni-dateformat",{attrs:{format:"yyyy-MM-dd hh:mm:ss",date:e.create_date,threshold:[0,0],_i:"39-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"40-"+a+s}},[n("button",{staticClass:i._$s("41-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"41-"+a+s},on:{click:function(n){return t.navigateTo("./detail?id="+e._id,!1)}}},[t._v("\u8be6\u60c5")])])],1)}))],2),n("view",{staticClass:i._$s("42-"+a,"sc","uni-pagination-box"),attrs:{_i:"42-"+a}},[n("uni-pagination",{attrs:{"show-icon":!0,"page-size":o.size,total:o.count,_i:"43-"+a},on:{change:t.onPageChanged},model:{value:t._$s("43-"+a,"v-model",o.current),callback:function(e){t.$set(o,"current",e)},expression:"pagination.current"}})],1)]}}],null,!1,937260416)})],1)]):n("view",{staticClass:t._$s(44,"sc","page-loading"),style:t._$s(44,"s",t.containerTop),attrs:{_i:44}},[n("i",{staticClass:t._$s(45,"sc","uni-icon_toast uni-loading"),attrs:{_i:45}})])])},r=[]},"39e5":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniNoticeBar:n("0b71").default,uniForms:n("e82e").default,uniCard:n("340d").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniFilePicker:n("d536").default,showInfo:n("f690").default,uniPopup:n("da7a").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-notice-bar",{attrs:{showIcon:!0,text:"\u672c\u9875\u9762\u4fe1\u606f\uff0c\u5728\u5e94\u7528\u53d1\u5e03\u3001app\u5347\u7ea7\u6a21\u5757\u4e2d\uff0c\u90fd\u4f1a\u5173\u8054\u4f7f\u7528\uff0c\u8bf7\u8ba4\u771f\u586b\u5199",_i:1}}),n("uni-forms",{ref:"form",attrs:{validateTrigger:"bind",labelWidth:t.labelWidth,rules:t.rules,_i:2},model:{value:t._$s(2,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[n("uni-card",{attrs:{title:"\u57fa\u7840\u4fe1\u606f",_i:3}},[n("uni-forms-item",{staticClass:t._$s(4,"sc","forn-item__flex"),attrs:{name:"appid",label:"AppID",required:!0,_i:4}},[n("uni-easyinput",{attrs:{disabled:t.isEdit,placeholder:"\u5e94\u7528\u7684AppID",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),n("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",required:!0,_i:6}},[n("uni-easyinput",{attrs:{disabled:t.isEdit,placeholder:"\u5e94\u7528\u540d\u79f0",trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("uni-forms-item",{attrs:{name:"introduction",label:"\u5e94\u7528\u7b80\u4ecb",_i:8}},[n("uni-easyinput",{attrs:{placeholder:"\u5e94\u7528\u7b80\u4ecb",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.introduction),callback:function(e){t.$set(t.formData,"introduction",e)},expression:"formData.introduction"}})],1),n("uni-forms-item",{attrs:{name:"description",label:"\u5e94\u7528\u63cf\u8ff0",_i:10}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(11,"sc","uni-textarea-border"),attrs:{maxlength:t._$s(11,"a-maxlength",-1),_i:11},domProps:{value:t._$s(11,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})])],1),n("uni-card",{attrs:{title:"\u56fe\u6807\u7d20\u6750",_i:12}},[n("uni-forms-item",{attrs:{label:"\u5e94\u7528\u56fe\u6807",_i:13}},[n("uni-file-picker",{attrs:{"image-styles":{width:"200rpx"},"return-type":"object","file-mediatype":"image",limit:"1",mode:"grid",_i:14},on:{success:function(e){return t.iconUrlSuccess(e,"icon_url")},delete:function(e){return t.iconUrlDelete(e,"icon_url")}},model:{value:t._$s(14,"v-model",t.middleware_img.icon_url),callback:function(e){t.$set(t.middleware_img,"icon_url",e)},expression:"middleware_img.icon_url"}})],1),n("uni-forms-item",{attrs:{label:"\u5e94\u7528\u622a\u56fe",_i:15}},[n("uni-file-picker",{attrs:{"file-mediatype":"image",mode:"grid","image-styles":{height:"500rpx",width:"300rpx"},_i:16},on:{delete:t.iconUrlDelete},model:{value:t._$s(16,"v-model",t.screenshotList),callback:function(e){t.screenshotList=e},expression:"screenshotList"}})],1)],1),n("uni-card",{staticClass:t._$s(17,"sc","app_platform"),attrs:{title:"App \u4fe1\u606f",_i:17}},[t._$s(18,"i",t.isEdit)?n("view",{staticClass:t._$s(18,"sc","extra-button"),attrs:{_i:18}},[n("button",{attrs:{_i:19},on:{click:t.autoFillApp}}),n("show-info",{attrs:{left:-10,top:-35,width:"230",content:"\u4eceApp\u5347\u7ea7\u4e2d\u5fc3\u540c\u6b65\u5e94\u7528\u5b89\u88c5\u5305\u4fe1\u606f",_i:20}})],1):t._e(),t._l(t._$s(21,"f",{forItems:t.appPlatformKeys}),(function(e,i,a,r){return n("view",{key:t._$s(21,"f",{forIndex:a,key:e})},[n("checkbox-group",{attrs:{_i:"22-"+r},on:{change:function(n){var i=n.detail.value;t.setPlatformChcekbox(e,!!i.length)}}},[n("label",{staticClass:t._$s("23-"+r,"sc","title_padding"),class:t._$s("23-"+r,"c",{font_bold:t.getPlatformChcekbox(e)}),attrs:{_i:"23-"+r}},[n("checkbox",{attrs:{value:t._$s("24-"+r,"a-value",e),checked:t._$s("24-"+r,"a-checked",t.middleware_checkbox[e]),_i:"24-"+r}}),n("text",[t._v(t._$s("25-"+r,"t0-0",t._s(t.appPlatformValues[e])))])])]),t._$s("26-"+r,"i",t.getPlatformChcekbox(e))?[n("uni-forms-item",{attrs:{label:"\u540d\u79f0",_i:"27-"+r}},[n("uni-easyinput",{attrs:{trim:"both",_i:"28-"+r},model:{value:t._$s("28-"+r,"v-model",t.formData[e].name),callback:function(n){t.$set(t.formData[e],"name",n)},expression:"formData[item].name"}})],1),t._$s("29-"+r,"i","app_android"===e)?n("uni-forms-item",{staticClass:t._$s("29-"+r,"sc","forn-item__flex"),attrs:{label:"\u4e0a\u4f20apk\u5305",_i:"29-"+r}},[n("uni-file-picker",{attrs:{"file-extname":"apk",disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",_i:"30-"+r},on:{success:function(n){return t.iconUrlSuccess(n,e+".url")},delete:function(n){return t.iconUrlDelete(n,e+".url")}},model:{value:t._$s("30-"+r,"v-model",t.appPackageInfo),callback:function(e){t.appPackageInfo=e},expression:"appPackageInfo"}},[n("view",{staticClass:t._$s("31-"+r,"sc","flex"),attrs:{_i:"31-"+r}},[n("button",{attrs:{_i:"32-"+r},on:{click:t.selectFile}}),n("text")])]),t._$s("34-"+r,"i",t.hasPackage)?n("text",[t._v(t._$s("34-"+r,"t0-0",t._s(t.appPackageInfo.size&&Number(t.appPackageInfo.size/1024/1024).toFixed(2)+"M")))]):t._e()],1):t._e(),n("uni-forms-item",{attrs:{label:"app_ios"===e?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",_i:"35-"+r}},[n("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:"36-"+r},model:{value:t._$s("36-"+r,"v-model",t.formData[e].url),callback:function(n){t.$set(t.formData[e],"url",n)},expression:"formData[item].url"}})],1)]:t._e()],2)})),n("uni-popup",{ref:"scheme",attrs:{"background-color":"#fff",_i:37}},[n("view",{staticClass:t._$s(38,"sc","popup-content"),attrs:{_i:38}},[n("text"),n("view"),n("text")])]),n("uni-forms-item",{attrs:{name:"store_schemes",label:"Android\u5e94\u7528\u5e02\u573a",labelWidth:"120",_i:42}},[n("view",[n("view",{staticClass:t._$s(44,"sc","flex"),attrs:{_i:44}},[n("text",{staticClass:t._$s(45,"sc","pointer"),attrs:{_i:45},on:{click:t.schemeDemo}}),n("button",{attrs:{_i:46},on:{click:t.addStoreScheme}})]),t._l(t._$s(47,"f",{forItems:t.formData.store_list}),(function(e,i,a,r){return n("view",{key:t._$s(47,"f",{forIndex:a,key:e.id})},[n("uni-card",{attrs:{title:"",_i:"48-"+r}},[n("view",[n("view",[n("button",{attrs:{_i:"51-"+r},on:{click:function(n){return t.deleteStore(i,e)}}})])]),n("uni-forms-item",{attrs:{label:"\u5546\u5e97\u540d\u79f0",_i:"52-"+r}},[n("uni-easyinput",{attrs:{trim:"both",_i:"53-"+r},model:{value:t._$s("53-"+r,"v-model",e.name),callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),n("uni-forms-item",{attrs:{label:"Scheme",_i:"54-"+r}},[n("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:"55-"+r},model:{value:t._$s("55-"+r,"v-model",e.scheme),callback:function(n){t.$set(e,"scheme",n)},expression:"item.scheme"}})],1)],1)],1)}))],2)])],2),n("uni-card",{staticClass:t._$s(56,"sc","mp_platform"),attrs:{title:"\u5c0f\u7a0b\u5e8f/\u5feb\u5e94\u7528\u4fe1\u606f",_i:56}},t._l(t._$s(57,"f",{forItems:t.mpPlatformKeys}),(function(e,i,a,r){return n("view",{key:t._$s(57,"f",{forIndex:a,key:e})},[n("checkbox-group",{attrs:{_i:"58-"+r},on:{change:function(n){var i=n.detail.value;t.setPlatformChcekbox(e,!!i.length)}}},[n("label",{staticClass:t._$s("59-"+r,"sc","title_padding"),class:t._$s("59-"+r,"c",{font_bold:t.getPlatformChcekbox(e)}),attrs:{_i:"59-"+r}},[n("checkbox",{attrs:{value:t._$s("60-"+r,"a-value",e),checked:t._$s("60-"+r,"a-checked",t.middleware_checkbox[e]),_i:"60-"+r}}),n("text",[t._v(t._$s("61-"+r,"t0-0",t._s(t.mpPlatform[e])))])])]),t._$s("62-"+r,"i",t.mpAccordionStatus&&t.getPlatformChcekbox(e))?[n("uni-forms-item",{attrs:{label:"\u540d\u79f0",_i:"63-"+r}},[n("uni-easyinput",{attrs:{trim:"both",_i:"64-"+r},model:{value:t._$s("64-"+r,"v-model",t.formData[e].name),callback:function(n){t.$set(t.formData[e],"name",n)},expression:"formData[item].name"}})],1),n("uni-forms-item",{attrs:{label:t.mpPlatform[e].slice(-3)+"\u7801",_i:"65-"+r}},[n("uni-file-picker",{attrs:{"image-styles":{width:"200rpx"},"return-type":"object","file-mediatype":"image",limit:"1",mode:"grid",_i:"66-"+r},on:{success:function(n){return t.iconUrlSuccess(n,e+".qrcode_url")},delete:function(n){return t.iconUrlDelete(n,e+".qrcode_url")}},model:{value:t._$s("66-"+r,"v-model",t.middleware_img[e]),callback:function(n){t.$set(t.middleware_img,e,n)},expression:"middleware_img[item]"}})],1)]:t._e()],2)})),0),n("uni-card",{attrs:{title:"web\u4fe1\u606f",_i:67}},[n("uni-forms-item",{attrs:{label:"\u94fe\u63a5\u5730\u5740",_i:68}},[n("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:69},model:{value:t._$s(69,"v-model",t.formData.h5.url),callback:function(e){t.$set(t.formData.h5,"url",e)},expression:"formData.h5.url"}}),n("span",[n("a",{})])],1)],1),t._$s(72,"i",t.isEdit)?n("uni-card",{attrs:{isShadow:!1,_i:72}},[n("text",[n("text")])]):t._e(),n("view",{staticClass:t._$s(75,"sc","uni-button-group"),attrs:{_i:75}},[n("button",{staticClass:t._$s(76,"sc","uni-button"),attrs:{_i:76},on:{click:t.submit}}),n("navigator",{},[n("button",{staticClass:t._$s(78,"sc","uni-button"),attrs:{_i:78}})])])],1)],1)},r=[]},"3a07":function(t,e,n){"use strict";n.r(e);var i=n("768d"),a=n("1281");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7b6dd05b",null,!1,i["a"],o);e["default"]=l.exports},"3afc":function(t,e,n){"use strict";n.r(e);var i=n("a71a"),a=n("60ab");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"3b05":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-stat--tab-x"),attrs:{_i:0}},[t._$s(1,"i",t.label)?n("view",{staticClass:t._$s(1,"sc","uni-label-text hide-on-phone"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.label+"\uff1a")))]):t._e(),n("view",{staticClass:t._$s(2,"sc","uni-stat--tab"),attrs:{_i:2}},[t._$s(3,"i",!t.renderTabs.length)?n("view",{staticClass:t._$s(3,"sc","uni-stat--tab-item uni-stat--tab-item-disabled"),class:t._$s(3,"c",["uni-stat--tab-item-"+t.type]),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.placeholder)))]):t._l(t._$s(4,"f",{forItems:t.renderTabs}),(function(e,i,a,r){return n("view",{key:t._$s(4,"f",{forIndex:a,key:i}),staticClass:t._$s("4-"+r,"sc","uni-stat--tab-item"),class:t._$s("4-"+r,"c",[i===t.currentTab?"uni-stat--tab-item-"+t.type+"-active":"","uni-stat--tab-item-"+t.type,e.disabled?"uni-stat--tab-item-disabled":""]),attrs:{_i:"4-"+r},on:{click:function(n){return t.change(e,i)}}},[n("uni-tooltip",{attrs:{_i:"5-"+r},scopedSlots:t._u([t._$s("7-"+r,"i",e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("8-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"8-"+r+"-"+o}},[t._v(a._$s("8-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("5-"+r,"t0-0",t._s(e.name))),t._$s("6-"+r,"i",e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"6-"+r}}):t._e()],1)],1)}))],2)])},r=[]},"3b43":function(t,e,n){"use strict";function i(t){t.prototype.$hasPermission=function(t){var e=this.$store.state.user.userInfo.permission||[],n=this.$store.state.user.userInfo.role||[];return n.indexOf("admin")>-1||e.indexOf(t)>-1},t.prototype.$hasRole=function(t){var e=this.$store.state.user.userInfo.role||[];return e.indexOf(t)>-1}}Object.defineProperty(e,"__esModule",{value:!0}),e.initPermission=i},"3b70":function(t,e,n){"use strict";n.r(e);var i=n("b650"),a=n("71ea");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"3ba2":function(t,e,n){"use strict";function i(t){return s(t)||o(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"].concat(i(c(100,50,1,20)),i(c(60,50,1,20)),i(c(30,50,1,20)));function c(t,e,n,i){for(var a=[],r=Math.trunc(360/i),o=0;o<i;o++){var s=o*r;s&&a.push("hsla(".concat(s,",").concat(t,"%,").concat(e,"%,").concat(n,")"))}return a}var d={type:["pie","ring","rose","funnel","line","column","area","radar","gauge","candle","demotype"],categories:["line","column","area","radar","gauge","candle","demotype"],instance:{},option:{},formatter:{tooltipCustom:function(t,e,n,i){var a=t[0],r="";return t.forEach((function(t){r+="\n".concat(t.seriesName," : ").concat(t.data)})),"".concat(a.name).concat(r)},tooltipDemo1:function(t){var e="";for(var n in t){0==n&&(e+=t[n].axisValueLabel+"\u5e74\u9500\u552e\u989d");var i="--";null!==t[n].data&&(i=t[n].data),e+="<br/>"+t[n].marker+t[n].seriesName+"\uff1a"+i+" \u4e07\u5143"}return e},legendFormat:function(t){return"\u81ea\u5b9a\u4e49\u56fe\u4f8b+"+t},yAxisFormatDemo:function(t,e){return t+"\u5143"},seriesFormatDemo:function(t){return t.name+"\u5e74"+t.value+"\u5143"}},demotype:{color:u},column:{color:u,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{left:"left",padding:[0,0,200,0]},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{show:!1,lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"bar",data:[],barWidth:30,label:{show:!1,color:"#666666",position:"top"}}},line:{color:u,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},area:{color:u,title:{text:""},tooltip:{trigger:"axis"},grid:{top:50,bottom:30,right:60,left:60},legend:{type:"scroll",orient:"horizontal",left:"left",padding:[0,30,10,30],itemGap:20},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!1,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{show:!1,lineStyle:{color:"#CCCCCC"}}},notMerge:!0,seriesTemplate:u.map((function(t){return{data:[],type:"line",name:"",color:t,smooth:!0,areaStyle:{color:{x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:t},{offset:1,color:"#FFFFFF"}],global:!1}},label:{show:!1,color:"#666666",position:"top"}}}))},pie:{color:u,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:"50%",avoidLabelOverlap:"true",label:{show:!0,color:"#666666",position:"top"}}},ring:{color:u,title:{text:""},tooltip:{trigger:"item"},grid:{top:0,bottom:0,right:15,left:15},legend:{type:"scroll",top:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:["30%","45%"],avoidLabelOverlap:!0,label:{show:!0,color:"#666666",position:"bottom"},labelLine:{show:!0}}},rose:{color:u,title:{text:""},tooltip:{trigger:"item"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"pie",data:[],radius:"55%",center:["50%","50%"],rosetype:"area"}},funnel:{color:u,title:{text:""},tooltip:{trigger:"item",formatter:"{b} : {c}%"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{bordercolor:"#fff",borderwidth:1},emphasis:{label:{fontSize:20}},data:[]}},gauge:{color:u,tooltip:{formatter:"{a} <br/>{b} : {c}%"},seriesTemplate:{name:"\u4e1a\u52a1\u6307\u6807",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}},candle:{xAxis:{data:[]},yAxis:{},color:u,title:{text:""},dataZoom:[{type:"inside",xAxisIndex:[0,1],start:10,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",bottom:10,start:10,end:100}],seriesTemplate:{name:"",type:"k",data:[]}}};function f(){var t=uni.getSystemInfoSync(),e=d.area;t.windowWidth<500&&(e.grid={right:20,left:50},e.seriesTemplate.forEach((function(t){t.showSymbol=!1})))}f();var h=d;e.default=h},"3c22":function(t,e,n){"use strict";n.r(e);var i=n("141f"),a=n("2ff6");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"3ca0":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-sub-menu"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-sub-menu__title"),class:t._$s(1,"c",{"is-disabled":t.disabled}),style:t._$s(1,"s",{paddingLeft:t.paddingLeft}),attrs:{_i:1},on:{click:t.select}},[n("view",{staticClass:t._$s(2,"sc","uni-sub-menu__title-sub"),style:t._$s(2,"s",{color:t.disabled?"#999":t.textColor}),attrs:{_i:2}},[t._t("title",null,{_i:3})],2),n("uni-icons",{staticClass:t._$s(4,"sc","uni-sub-menu__icon"),class:t._$s(4,"c",{transition:t.isOpen}),attrs:{type:"arrowdown",color:"#bbb",size:"14",_i:4}})],1),n("view",{staticClass:t._$s(5,"sc","uni-sub-menu__content"),class:t._$s(5,"c",{"uni-sub-menu--close":!t.isOpen}),style:t._$s(5,"s",{"background-color":t.backgroundColor}),attrs:{_i:5}},[n("view",{attrs:{id:"content--hook",_i:6}},[t._t("default",null,{_i:7})],2)])])},r=[]},"3cd0":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("h3",{staticClass:t._$s(1,"sc","text-separated"),attrs:{_i:1}}),n("view",[n("view",{staticClass:t._$s(3,"sc","text-separated"),attrs:{_i:3}},[n("text",{staticClass:t._$s(4,"sc","strong"),attrs:{_i:4}}),n("text")]),n("view",{staticClass:t._$s(6,"sc","text-separated"),attrs:{_i:6}},[n("text",{staticClass:t._$s(7,"sc","strong"),attrs:{_i:7}}),n("text")])]),n("h3",{staticClass:t._$s(9,"sc","text-separated"),attrs:{_i:9}}),n("view",{staticClass:t._$s(10,"sc","flex text-separated"),attrs:{_i:10}},[n("text",[n("view",{staticClass:t._$s(12,"sc","strong"),attrs:{_i:12}})]),n("button",{staticClass:t._$s(13,"sc","custom-button"),attrs:{_i:13},on:{click:t.publish}})]),n("h3",{staticClass:t._$s(14,"sc","text-separated"),attrs:{_i:14}}),n("view",[n("view",{staticClass:t._$s(16,"sc","text-separated"),attrs:{_i:16}},[n("text")]),n("view",{staticClass:t._$s(18,"sc","text-separated"),attrs:{_i:18}},[n("text",[n("a",{staticClass:t._$s(20,"sc","a-label"),attrs:{_i:20}})])])])])},r=[]},"3d3b":function(t,e,n){"use strict";n.r(e);var i=n("2969"),a=n("ea44");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"515d0709",null,!1,i["a"],o);e["default"]=l.exports},"3d7b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fieldsMap=void 0;var i=[{title:"\u62a5\u9519\u65f6\u95f4",field:"create_time",tooltip:"",formatter:"",filter:"timestamp"},{title:"\u9519\u8bef\u4fe1\u606f",field:"error_msg",formatter:"",filter:"search"},{title:"\u539f\u751f\u5e94\u7528\u5305\u540d",field:"package_name",formatter:"",filter:"search"},{title:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u5e94\u7528\u7248\u672c\u53f7",field:"version",formatter:"",tooltip:"manifest.json\u4e2d\u7684versionName\u7684\u503c",filter:"search"},{title:"\u5e73\u53f0",field:"platform",formatter:"",tooltip:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u5e73\u53f0code",filter:"search"},{title:"\u6e20\u9053",field:"channel",formatter:"",tooltip:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u6e20\u9053code\u573a\u666f\u503c",filter:"search"},{title:"\u57fa\u7840\u5e93\u7248\u672c\u53f7",field:"sdk_version",formatter:"",tooltip:"",filter:"search"},{title:"\u8bbe\u5907\u6807\u8bc6",field:"device_id",formatter:"",tooltip:"\u5ba2\u6237\u7aef\u643a\u5e26\u7684\u8bbe\u5907\u6807\u8bc6",filter:"search"},{title:"\u8bbe\u5907\u7f51\u7edc\u578b\u53f7",field:"device_net",formatter:"",tooltip:"\u8bbe\u5907\u7f51\u7edc\u578b\u53f7wifi/3G/4G/",filter:"search"},{title:"\u7cfb\u7edf\u7248\u672c",field:"device_os",formatter:"",tooltip:"iOS\u5e73\u53f0\u4e3a\u7cfb\u7edf\u7248\u672c\u53f7\uff0c\u598215.1\uff1bAndroid\u5e73\u53f0\u4e3aAPI\u7b49\u7ea7\uff0c\u598230",filter:"search"},{title:"\u7cfb\u7edf\u7248\u672c\u540d\u79f0",field:"device_os_version",formatter:"",tooltip:"iOS\u5e73\u53f0\u4e0eos\u5b57\u6bb5\u4e00\u81f4\uff1bAndroid\u5e73\u53f0\u4e3a\u7248\u672c\u540d\u79f0\uff0c\u59825.1.1",filter:"search"},{title:"\u8bbe\u5907\u4f9b\u5e94\u5546",field:"device_vendor",formatter:"",tooltip:"",filter:"search"},{title:"\u8bbe\u5907\u578b\u53f7",field:"device_model",formatter:"",tooltip:"",filter:"search"},{title:"\u662f\u5426root",field:"device_is_root",formatter:"",tooltip:"1\u8868\u793aroot\uff1b0\u8868\u793a\u672aroot",filter:"range"},{title:"\u7cfb\u7edf\u540d\u79f0",field:"device_os_name",formatter:"",tooltip:"\u7528\u4e8e\u533a\u522bAndroid\u548c\u9e3f\u8499\uff0c\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u8bbe\u5907\u7535\u6c60\u7535\u91cf",field:"device_batt_level",formatter:"",tooltip:"\u53d6\u503c\u8303\u56f40-100\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7535\u6c60\u6e29\u5ea6",field:"device_batt_temp",formatter:"",tooltip:"\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u7cfb\u7edf\u5df2\u4f7f\u7528\u5185\u5b58",field:"device_memory_use_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u603b\u5185\u5b58",field:"device_memory_total_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u78c1\u76d8\u5df2\u4f7f\u7528\u5927\u5c0f",field:"device_disk_use_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u78c1\u76d8\u603b\u5927\u5c0f",field:"device_disk_total_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u8bbe\u5907\u652f\u6301\u7684CPU\u67b6\u6784",field:"device_abis",formatter:"",tooltip:"\u591a\u4e2a\u4f7f\u7528,\u5206\u5272\uff0c\u5982arm64-v8a,armeabi-v7a,armeabi\uff0c\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u8fd0\u884c\u7684app\u4e2a\u6570",field:"app_count",formatter:"",tooltip:"\u5305\u62ec\u8fd0\u884c\u7684uni\u5c0f\u7a0b\u5e8f\u6570\u76ee\uff0c\u72ec\u7acbApp\u65f6\u503c\u4e3a1",filter:"range"},{title:"APP\u4f7f\u7528\u7684\u5185\u5b58\u91cf",field:"app_use_memory_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte",filter:"range"},{title:"\u8fd0\u884c\u5e94\u7528\u7684\u4e2a\u6570",field:"app_count",formatter:"",filter:"range"},{title:"\u6253\u5f00 Webview \u7684\u4e2a\u6570",field:"app_webview_count",formatter:"",filter:"range"},{title:"APP\u4f7f\u7528\u65f6\u957f",field:"app_use_duration",formatter:"",tooltip:"\u5355\u4f4d\u4e3as",filter:"range"},{title:"\u662f\u5426\u524d\u53f0\u8fd0\u884c",field:"app_run_fore",formatter:"",tooltip:"1\u8868\u793a\u524d\u53f0\u8fd0\u884c\uff0c0\u8868\u793a\u540e\u53f0\u8fd0\u884c",filter:"search"},{title:"\u539f\u751f\u5e94\u7528\u7248\u672c\u540d\u79f0",field:"package_version",formatter:"",tooltip:"Android\u7684apk\u7248\u672c\u540d\u79f0\uff1biOS\u7684ipa\u7248\u672c\u540d\u79f0",filter:"search"},{title:"\u9875\u9762url",field:"page_url",formatter:"",filter:"search"}];e.fieldsMap=i},"3d8f":function(t,e,n){"use strict";n.r(e);var i=n("47ec"),a=n("ec18");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"21f077a2",null,!1,i["a"],o);e["default"]=l.exports},"3d9b":function(t,e,n){"use strict";n.r(e);var i=n("a85c"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"3e01":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("b3bc");function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function r(t){return u(t)||l(t)||s(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var d={data:function(){return{query:{dimension:"day",appid:"",version_id:"",start_time:(0,i.getTimeOfSomeDayAgo)(0)},platforms:[],dayChartsData:[],monChartsData:[]}},created:function(){var t=this;this.debounceGet=(0,i.debounce)((function(){t.getChartData(t.query),t.getRangeCountData(t.query,"month")}))},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},computed:{chartsData:function(){return[].concat(r(this.dayChartsData),r(this.monChartsData))},versionQuery:function(){var t=this.query.appid,e=(0,i.stringifyQuery)({appid:t});return e}},methods:{getChartData:function(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";e=JSON.parse(JSON.stringify(e));var r=(0,i.getTimeOfSomeDayAgo)(0);if(e.start_time>=r){var o=(new Date).getTime();e.start_time=[r,o],e=(0,i.stringifyQuery)(e,!0)}else e=(0,i.stringifyQuery)(e);var s=t.database();s.collection("uni-stat-result").where(e).field("active_user_count,new_user_count,total_users,platform_id").groupBy("platform_id").groupField("sum(active_user_count) as ".concat(a,"_active_user_count, sum(new_user_count) as ").concat(a,"_new_user_count, max(total_users) as ").concat(a,"_total_users")).get().then((function(t){var e=t.result.data;n.initChartOption(e,"dayChartsData")}))},getRangeCountData:function(e,n){var a=this;e=(0,i.stringifyQuery)(e);var r=t.database();r.collection("uni-stat-result").where(e).field("active_user_count, new_user_count, platform_id, ".concat(n,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(n,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(n?n+",":"","platform_id")).groupField("sum(active_user_count) as ".concat(n,"_active_user_count, sum(new_user_count) as ").concat(n,"_new_user_count")).orderBy("year asc, ".concat(n," asc")).get().then((function(t){var e=t.result.data;a.initChartOption(e,"monChartsData","month")}))},initChartOption:function(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",o=t.database();o.collection("uni-stat-app-platforms").get().then((function(t){var o=[{field:"".concat(r,"_new_user_count"),title:"".concat("day"===r?"\u65e5":"\u6708","\u65b0\u589e\u7528\u6237\u5bf9\u6bd4"),series:[{data:[]}]},{field:"".concat(r,"_active_user_count"),title:"".concat("day"===r?"\u65e5":"\u6708","\u6d3b\u8dc3\u7528\u6237\u5bf9\u6bd4"),series:[{data:[]}]}];"day"===r&&o.unshift({field:"day_total_users",title:"\u603b\u7528\u6237\u6570\u5bf9\u6bd4",series:[{data:[]}]}),i[n]=o;var s=t.result.data,l={};s.forEach((function(t){l[t._id]=t.name}));var u,c=a(i[n]);try{for(c.s();!(u=c.n()).done;){var d,f=u.value,h=f.series[0].data,p=JSON.parse(JSON.stringify(l)),m=a(e);try{for(m.s();!(d=m.n()).done;){var _=d.value;for(var g in _)if(f.field===g){var v=_.platform_id,y={name:p[v],value:_[g]};h.push(y),delete p[v]}}}catch(w){m.e(w)}finally{m.f()}for(var b in p){var x={name:p[b],value:0};h.push(x)}}}catch(w){c.e(w)}finally{c.f()}}))}}};e.default=d}).call(this,n("a9ff")["default"])},"3e8f":function(t,e){},"3f82":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(n("a34a")),r=n("b3bc"),o=n("70ee"),s=c(n("a773")),l=n("ad22"),u=c(n("0953"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function f(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){f(r,i,a,o,s,"next",t)}function s(t){f(r,i,a,o,s,"throw",t)}o(void 0)}))}}function p(t,e){return y(t)||v(t,e)||_(t,e)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function y(t){if(Array.isArray(t))return t}var b=[{title:"\u9519\u8bef\u603b\u6570",value:0,tooltip:"\u6307\u5e94\u7528\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u51fa\u73b0\u9519\u8bef\u7684\u603b\u6570"},{title:"\u9519\u8bef\u7387",value:0,tooltip:"\u65f6\u95f4\u8303\u56f4\u5185\u7684\u603b\u9519\u8bef\u6570/\u5e94\u7528\u542f\u52a8\u6b21\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0.01%\uff0c\u9ed8\u8ba4\u663e\u793a\u4e3a0"}],x={data:function(){return{uniStat:u.default.uniStat,fieldsMap:o.fieldsMap,popupFieldsMap:o.popupFieldsMap,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},uploadOptions:(0,r.createUniStatQuery)({appid:"",uni_platform:""}),uploadMsg:"",options:{pageSize:20,pageCurrent:1,total:0},loading:!1,popupLoading:!1,currentDateTab:0,tableData:[],popupTableData:[],panelData:JSON.parse(JSON.stringify(b)),chartData:{},chartTab:"errorCount",chartTabs:[{_id:"errorCount",name:"\u9519\u8bef\u6b21\u6570"},{_id:"errorRate",name:"\u9519\u8bef\u7387"}],errMsg:"",msgLoading:!1,uploadFile:{tempFileTasks:[],tempFiles:[],clear:function(){this.tempFileTasks.length=this.tempFiles.length=0}},uploadSuccessTaskNames:[],errorItem:""}},components:{uploadTask:s.default},computed:{queryStr:function(){return(0,r.stringifyQuery)(this.query)},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,r.stringifyQuery)((0,r.createUniStatQuery)({appid:e,uni_platform:n}));return i},uploadVersionQuery:function(){var t=this.uploadOptions,e=t.appid,n=t.uni_platform,i=(0,r.stringifyQuery)((0,r.createUniStatQuery)({appid:e,uni_platform:n}));return i},vaildate:function(){var t=this,e=Object.keys(this.uploadOptions).every((function(e){return t.uploadOptions[e]}));return e&&this.uploadMsg&&(this.uploadMsg=""),e},uploadSuccessTasks:function(){return this.uploadFile.tempFileTasks.filter((function(t){return 1===t.state}))},sortUploadFileTempFileTasks:function(){return this.uploadFile.tempFileTasks.filter((function(t){return 1!==t.state})).sort((function(t,e){return t.state-e.state}))},sourceMapEnabled:function(){return!!this.uniStat.uploadSourceMapCloudSpaceId}},created:function(){this.parsedErrors={},this.sourceMapEnabled&&(this.uploadSourcemapCloud=t.init({provider:"tencent",spaceId:this.uniStat.uploadSourceMapCloudSpaceId}))},watch:{query:{deep:!0,handler:function(t,e){this.options.pageCurrent=1,this.debounceGet()}},chartTab:function(t){this.getChartData(this.queryStr)}},methods:{debounceGet:(0,r.debounce)((function(){this.getAllData(this.queryStr)})),useDatetimePicker:function(t){this.currentDateTab=-1},changePlatform:function(t,e,n,i){this.query.version_id=0,this.uploadOptions.uni_platform=i.code,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,r.getTimeOfSomeDayAgo)(t),i=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData(this.queryStr)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData(this.queryStr)},getAllData:function(t){this.getChartData(t),this.getTableData(t)},getChartData:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day_count",o=(0,r.stringifyQuery)(this.query,!1,["uni_platform"]);this.chartData={};this.options.pageCurrent;var s=t.database(),l=p(this.query.start_time,2),u=l[0],c=l[1],f=(0,r.getAllDateCN)(new Date(u),new Date(c));s.collection("uni-stat-error-result").where(o).groupBy("start_time").groupField("sum(count) as total_day_count").orderBy("start_time","desc").get({getCount:!0}).then(function(){var t=h(a.default.mark((function t(e){var s,l,u,c,h,p,m,_,g,v,y,b,x,w,$,k,C;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.result.count,s=e.result.data,l=[],f.forEach((function(t){var e=s.find((function(e){return e.start_time===t}));e?l.push(e):l.push({start_time:t,total_day_count:0})})),u={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},"errorCount"!==n.chartTab){t.next=16;break}c=u.series[0]={name:"\u9519\u8bef\u6b21\u6570",data:[]},h=u.categories,p=d(l);try{for(p.s();!(m=p.n()).done;)_=m.value,g=_.start_time,v=(0,r.formatDate)(g,"day"),y=_["total_".concat(i)],h.push(v),c.data.push(y)}catch(a){p.e(a)}finally{p.f()}n.chartData=u,t.next=25;break;case 16:return t.next=18,n.getDayLaunch(o);case 18:b=t.sent,x=u.series[0]={name:"\u9519\u8bef\u7387(%)",data:[],lineStyle:{color:"#EE6666",width:1},itemStyle:{borderWidth:1,borderColor:"#EE6666",color:"#EE6666"},areaStyle:{color:{colorStops:[{offset:0,color:"#EE6666"},{offset:1,color:"#FFFFFF"}]}}},w=u.categories,$=d(l);try{for(C=function(){var t=k.value,e=t.start_time,n=(0,r.formatDate)(e,"day"),a=t["total_".concat(i)];if(w.push(n),b.length){var o=b.find((function(e){return e.start_time===t.start_time})),s=w.indexOf(n);if(o){var l=100*a/o.day_app_launch_count;l=l.toFixed(2),x.data[s]=l}else x.data[s]=0}},$.s();!(k=$.n()).done;)C()}catch(a){$.e(a)}finally{$.f()}n.chartData=u;case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){})).finally((function(){}))},getTotalCount:function(e){var n=t.database();return n.collection("uni-stat-error-result").where(e).groupBy("appid").groupField("sum(count) as total_count").get()},getTotalLaunch:function(e){var n=t.database();return n.collection("uni-stat-result").where(e).groupBy("appid").groupField("sum(app_launch_count) as total_app_launch_count").get()},getDayLaunch:function(e){return h(a.default.mark((function n(){var i,r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.database(),n.next=4,i.collection("uni-stat-result").where(e).groupBy("start_time").groupField("sum(app_launch_count) as day_app_launch_count").orderBy("start_time","asc").get();case 4:return r=n.sent,n.abrupt("return",r.result.data||[]);case 6:case"end":return n.stop()}}),n)})))()},getTableData:function(){var e=this,n=(arguments.length>0&&void 0!==arguments[0]||(0,r.stringifyQuery)(this.query),(0,r.stringifyQuery)(this.query,!1,["uni_platform"])),i=this.options.pageCurrent;this.loading=!0;var a=t.database(),s=(0,r.stringifyQuery)((0,r.createUniStatQuery)({appid:this.query.appid})),l=a.collection("uni-stat-error-result").where(n).getTemp(),u=a.collection("opendb-app-versions").where(s).getTemp(),c=a.collection("uni-stat-app-platforms").getTemp();a.collection(l,u,c).orderBy("count","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var i=t.result,a=i.count,s=i.data,l=[];e.panelData=JSON.parse(JSON.stringify(b));var u,c=d(s);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.last_time=(0,r.parseDateTime)(f.last_time,"dateTime"),f.msgTooltip=f.msg,f.msg=f.msg?f.msg.substring(0,100)+"...":"";var h=f.version_id[0],p=f.platform_id[0];f.version=h&&h.version,f.platform=p&&p.name,f.platform_code=p&&p.code,l.push(f)}}catch(m){c.e(m)}finally{c.f()}e.getTotalCount(n).then((function(t){var i=t.result.data[0],a=i&&i.total_count;a&&(l.forEach((function(t){return t.total_count=Number(a)})),e.panelData[0].value=a);var r="";e.getTotalLaunch(n).then((function(t){var n=t.result.data[0];if(r=n&&n.total_app_launch_count,a&&r){var i=a/r;i=(100*i).toFixed(2)+"%",e.panelData[1].value=i}}))})).finally((function(){e.tableData=[],e.options.total=a,l.forEach((function(t){return(0,r.mapfields)(o.fieldsMap,t,t)})),e.tableData=l}))})).catch((function(t){})).finally((function(){e.loading=!1}))},navTo:function(t,e){t.indexOf("http")>-1?window.open(t):(e&&(t="".concat(t,"?error_hash=").concat(e.hash,"&create_time=").concat(e.start_time)),uni.navigateTo({url:t}))},getPlatform:function(t){var e=uni.getStorageSync("platform_last_data"),n=Array.isArray(e)&&e.find((function(e){return e._id===t})).code;return n},getVersion:function(t){var e=uni.getStorageSync("uni-stat-app-versions_last_data"),n=Array.isArray(e)&&e.find((function(e){return e._id===t})).text;return n},closeErrPopup:function(){this.$refs.errMsg.close()},errMsgPopupChange:function(t){if(t.show){var e=this.errorItem.msgTooltip;if(this.msgLoading)return void this.closeErrPopup();e||(this.errMsg="\u6682\u65e0\u9519\u8bef\u6570\u636e"),this.errMsg="";this.parsedErrors[e];return this.msgLoading=!0,void this.parseError(this.errorItem)}this.msgLoading=!1},parseError:function(t){var e=this,n=t.msgTooltip,i=t.appid,a=t.platform_code,r=t.version,o=this.uniStat.cloudSourceMapUrl+"/".concat(i,"/").concat(a,"/").concat(r,"/");try{n=JSON.parse(n)}catch(s){}(0,l.stacktracey)(n,{preset:(0,l.uniStracktraceyPreset)({base:o,uniPlatform:a,splitThirdParty:!0})}).then((function(t){var i=t.userError,r=t.thirdParty,o=i.length&&r.length?"\n\n------------".concat(-1!==a.indexOf("mp-")?a:"uni-app"," runtime error------------\n\n"):"";e.errMsg="".concat(i).concat(o).concat(r),e.parsedErrors[n]=e.errMsg})).finally((function(){e.msgLoading=!1}))},openUploadPopup:function(){var t=this.query,e=t.appid,n=t.uni_platform;this.uploadOptions={appid:e,uni_platform:n},this.$refs.upload.open()},closeUploadPopup:function(){this.$refs.upload.close()},createUploadFileTask:function(t,e,n,i){var a=t+e;return this.uploadSourcemapCloud.uploadFile({filePath:n,cloudPath:a,onUploadProgress:i})},choosefile:function(){var t=this;if(this.vaildate){var e=this.uploadOptions,n=e.appid,i=e.uni_platform,a=e.version,o="__UNI__/uni-stat/sourcemap/".concat(n,"/").concat(i,"/").concat(a,"/"),s=document.createElement("input");s.type="file",s.directory=!0,s.webkitdirectory=!0,s.click(),s.addEventListener("change",(function(){t.uploadFile.clear();var e=s.files;e.length&&(Array.prototype.forEach.call(e,(function(e){var n=(0,r.fileToUrl)(e);t.uploadFile.tempFileTasks.push({fileDiskPath:e.webkitRelativePath.split("/").slice(1).join("/"),path:n,size:"".concat((e.size/1024).toFixed(2),"kb"),name:e.name,state:0,progress:0}),Object.defineProperty(e,"path",{get:function(){return n}}),t.uploadFile.tempFiles.push(e)})),t.uploadFile.tempFileTasks.reduce((function(e,n,i){return e.then((function(e){return new Promise((function(e,i){-1!==t.uploadSuccessTaskNames.indexOf(n.name)?(n.progress=1,setTimeout((function(){n.state=1,e()}),200)):t.createUploadFileTask(o,n.fileDiskPath,n.path,(function(t){var e=t.loaded,i=t.total;n.progress=e/i})).then((function(){setTimeout((function(){t.uploadSuccessTaskNames.push(n.name),n.state=1,e()}),500)})).catch((function(t){n.state=-1,i("".concat(n.name," \u4e0a\u4f20\u5931\u8d25\uff1a")+JSON.stringify(t))}))}))}))}),Promise.resolve()))}))}else this.uploadMsg="\u8bf7\u5148\u5c06\u5e94\u7528\u3001\u5e73\u53f0\u3001\u7248\u672c\u586b\u5199\u5b8c\u6574"},createStr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"total_",i=[];return t.forEach((function(t){if(field.hasOwnProperty("value")){var a=t.field;i.push("".concat(e,"(").concat(a,") as ").concat(n+a))}})),i.join()},openErrPopup:function(t){this.errorItem=t,this.$refs.errMsg.open()}}};e.default=x}).call(this,n("a9ff")["default"],n("0de9")["default"])},"3fb0":function(t,e,n){"use strict";n.r(e);var i=n("a0e3"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"3fc3":function(t,e,n){"use strict";n.r(e);var i=n("e87e"),a=n("1e77");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"416f":function(t,e,n){"use strict";function i(t){return s(t)||o(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e,n){for(var i=[],a=function(a){var r=t[a],o=e.filter((function(t){if(t.parent_id===r.menu_id)return n.push(t.menu_id),!0}));i=i.concat(o),r.children=o},r=t.length-1;r>-1;r--)a(r);i.length&&u(i,e,n)}function c(t,e){var n=[],i=t;while(i&&i.parent_id)n.push(i.parent_id),i=e.find((function(t){return t.menu_id===i.parent_id}));return n}function d(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=t.sort((function(e,n){var i=c(e,t),a=c(n,t);return i.includes(n.menu_id)?1:i.length-a.length||e.sort-n.sort})),e)for(var n=function(e){var n=t[e],i=t.filter((function(t){return t.parent_id===n.menu_id}));n.isLeafNode||i.length||t.splice(e,1)},a=t.length-1;a>-1;a--)n(a);var r=[],o=t.filter((function(t){if(!t.parent_id)return r.push(t.menu_id),!0}));return u(o,t,r),e||r.length===t.length||o.push.apply(o,i(t.filter((function(t){return!r.includes(t.menu_id)})))),o}Object.defineProperty(e,"__esModule",{value:!0}),e.buildMenu=u,e.buildMenus=d},4202:function(t){t.exports=JSON.parse('{"login":{"text":{"title":"\u7cfb\u7edf\u767b\u5f55","prompt":"\u5982\u65e0\u7ba1\u7406\u5458\u8d26\u53f7\uff0c\u8bf7\u5148\u521b\u5efa\u7ba1\u7406\u5458"},"field":{"username":"\u8d26\u53f7","password":"\u5bc6\u7801","captcha":"\u9a8c\u8bc1\u7801"},"button":{"login":"\u767b\u5f55"}},"topwindow":{"text":{"doc":"Admin \u6846\u67b6\u6587\u6863","plugin":"\u6d4f\u89c8\u66f4\u591a Admin \u63d2\u4ef6","changeLanguage":"\u5207\u6362\u8bed\u8a00","changePwd":"\u4fee\u6539\u5bc6\u7801","signOut":"\u9000\u51fa"}},"index":{"text":{"prompt":"\u5185\u5bb9\u4e3b\u4f53\uff0c\u53ef\u81ea\u5b9a\u4e49\u5185\u5bb9\u53ca\u6837\u5f0f","vesion":"\u53ef\u5728\u63a7\u5236\u53f0\u548c package.json \u4e2d\u67e5\u770b\u5f53\u524d\u7684\u7248\u672c"}},"updatePwd":{"text":{"title":"\u4fee\u6539\u5bc6\u7801"},"field":{"oldPassword":"\u65e7\u5bc6\u7801","newPassword":"\u65b0\u5bc6\u7801","passwordConfirmation":"\u786e\u8ba4\u65b0\u5bc6\u7801"},"button":{"save":"\u4fdd\u5b58","back":"\u8fd4\u56de"}},"common":{"placeholder":{"query":"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"},"button":{"search":"\u641c\u7d22","add":"\u65b0\u589e","edit":"\u4fee\u6539","delete":"\u5220\u9664","batchDelete":"\u6279\u91cf\u5220\u9664","exportExcel":"\u5bfc\u51fa Excel","submit":"\u63d0\u4ea4","back":"\u8fd4\u56de","tagManager":"\u6807\u7b7e\u7ba1\u7406","publish":"\u53d1\u5e03\u9875\u7ba1\u7406","version":"\u7248\u672c\u7ba1\u7406"},"empty":"\u6ca1\u6709\u66f4\u591a\u6570\u636e","piecePerPage":"\u6761/\u9875"},"user":{"text":{"userManager":"\u7528\u6237\u7ba1\u7406"}},"role":{"text":{"roleManager":"\u89d2\u8272\u7ba1\u7406"}},"permission":{"text":{"permissionManager":"\u6743\u9650\u7ba1\u7406"}},"app":{"text":{"appManager":"\u5e94\u7528\u7ba1\u7406","describle":"\u7ba1\u7406\u7528\u6237\u53ef\u767b\u5f55\u7684\u5e94\u7528"}},"menu":{"text":{"menuManager":"\u83dc\u5355\u5217\u8868","additiveMenu":"\u5f85\u6dfb\u52a0\u83dc\u5355"},"button":{"addFirstLevelMenu":"\u65b0\u589e\u4e00\u7ea7\u83dc\u5355","addChildMenu":"\u5b50\u83dc\u5355"}},"demo":{"icons":{"title":"\u56fe\u6807","describle":"\u70b9\u51fb\u56fe\u6807\u5373\u53ef\u590d\u5236\u56fe\u6807\u4ee3\u7801"},"table":{"title":"\u8868\u683c"}}}')},"421e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u540d\u79f0",field:"name",tooltip:"",formatter:""},{title:"\u8bbf\u95ee\u4eba\u6570",field:"visit_users",tooltip:"\u8bbf\u95ee\u4eba\u6570\uff08\u6d3b\u8dc3\u7528\u6237\u6570\uff09\uff1a\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u4eba\u6570\u5360\u6bd4",field:"visit_users/total_visit_users",computed:"visit_users/total_visit_users",formatter:"%"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u8bbf\u95ee\u6b21\u6570\u5360\u6bd4",field:"visit_times/total_visit_times",computed:"visit_times/total_visit_times",formatter:"%",tooltip:""}];e.default=i},4222:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"\u4e0a\u4e00\u9801","uni-pagination.nextText":"\u4e0b\u4e00\u9801","uni-pagination.piecePerPage":"\u689d/\u9801"}')},4297:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=r(n("0953"));n("eb3f");function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={created:function(){this.clear=void 0},computed:s({},(0,i.mapGetters)({isTokenValid:"user/isTokenValid"})),methods:s(s({},(0,i.mapActions)({init:"app/init"})),{},{clearPlatform:function(){var t=uni.getStorageInfoSync().keys.filter((function(t){return t.indexOf("platform")>-1}));t.length&&t.forEach((function(t){return uni.removeStorageSync(t)}))}}),onPageNotFound:function(t){uni.redirectTo({url:a.default.error.url})},onLaunch:function(){this.isTokenValid?this.init():uni.redirectTo({url:a.default.login.url})},onShow:function(){var t=this;this.clear=setInterval((function(){return t.clearPlatform()}),9e5)},onHide:function(){this.clear&&clearInterval(this.clear)}};e.default=u}).call(this,n("0de9")["default"])},"42ba":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=o(n("0953")),r=n("48d1");function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={deviceId:(0,r.getDeviceUUID)(),scene:"login"},d={data:function(){return l(l({},a.default.navBar),{},{indexPage:a.default.index.url,showPassword:!0,loading:!1,formData:{username:"",password:"",captcha:""},captchaLoading:!1,needCaptcha:!1,captchaBase64:"",rules:{username:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u8d26\u6237"},{minLength:1,maxLength:30,errorMessage:"\u8d26\u6237\u957f\u5ea6\u5728{minLength}\u5230{maxLength}\u4e2a\u5b57\u7b26"}]},password:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5bc6\u7801"},{minLength:6,errorMessage:"\u5bc6\u7801\u957f\u5ea6\u5927\u4e8e{minLength}\u4e2a\u5b57\u7b26"}]},captcha:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]}}})},mounted:function(){var t=this;uni.getStorage({key:"lastUsername",success:function(e){t.formData.username=e.data}}),this.getNeedCaptcha()},methods:l(l({},(0,i.mapMutations)({setToken:function(t,e){t("user/SET_TOKEN",e)},setUserInfo:function(t,e){t("user/SET_USER_INFO",e,{root:!0})}})),{},{getNeedCaptcha:function(){var t=this;this.$request("getNeedCaptcha",{functionName:"uni-id-cf",showModal:!1}).then((function(e){e.needCaptcha?(t.formData.captcha="",t.createCaptcha(),t.needCaptcha=!0):t.needCaptcha=!1}))},submit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.formData;this.loading||(this.loading=!0,this.$request("login",l(l({},e),c),{functionName:"uni-id-cf",showModal:!1}).then((function(n){t.setToken({token:n.token,tokenExpired:n.tokenExpired}),t.setUserInfo(n.userInfo),uni.showToast({title:"\u767b\u5f55\u6210\u529f",icon:"none"}),uni.setStorage({key:"lastUsername",data:e.username}),uni.redirectTo({url:t.indexPage})})).catch((function(e){e.needCaptcha?(t.formData.captcha="",t.createCaptcha(),t.needCaptcha=!0):t.needCaptcha=!1;uni.showModal({content:e.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1,success:function(){}})})).finally((function(e){t.loading=!1})))},createCaptcha:function(){var t=this;this.captchaLoading=!0,this.$request("createCaptcha",c,{functionName:"uni-id-cf"}).then((function(e){0===e.code&&(t.captchaBase64=e.captchaBase64)})).catch((function(t){})).finally((function(e){t.captchaLoading=!1}))},submitForm:function(){this.submit()},initAdmin:function(){uni.redirectTo({url:"/pages/demo/init/init"})},changePassword:function(){this.showPassword=!this.showPassword}})};e.default=d},"42e3":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniLink:n("e232").default,uniDataCheckbox:n("a93f").default,uniPopup:n("da7a").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{labelWidth:"80",rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[n("uni-forms-item",{attrs:{name:"menu_id",label:"\u6807\u8bc6",required:!0,_i:2}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u9879\u7684ID\uff0c\u4e0d\u53ef\u91cd\u590d",_i:3},model:{value:t._$s(3,"v-model",t.formData.menu_id),callback:function(e){t.$set(t.formData,"menu_id",e)},expression:"formData.menu_id"}})],1),n("uni-forms-item",{attrs:{name:"name",label:"\u663e\u793a\u540d\u79f0",required:!0,_i:4}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("uni-forms-item",{attrs:{name:"icon",label:"\u56fe\u6807class",_i:6}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807css\u6837\u5f0f\u7c7b\u540d",_i:7},scopedSlots:t._u([{key:"right",fn:function(e,i,a){return[n("span",{staticStyle:{color:"#007aff",cursor:"pointer","padding-right":"10px"},attrs:{_i:"9-"+a},on:{click:t.showIconPopup}},[t._v("\u5185\u7f6e\u56fe\u6807")])]}}]),model:{value:t._$s(7,"v-model",t.formData.icon),callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}}),n("uni-link",{staticClass:t._$s(10,"sc","uni-form-item-tips"),attrs:{"font-size":"12",href:"https://uniapp.dcloud.net.cn/uniCloud/admin?id=icon-%e5%9b%be%e6%a0%87",text:"\u5982\u4f55\u4f7f\u7528\u81ea\u5b9a\u4e49\u56fe\u6807\uff1f",_i:10}})],1),n("uni-forms-item",{attrs:{name:"url",label:"\u9875\u9762URL",_i:11}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"URL\u4e3a\u7a7a\u4ee3\u8868\u662f\u76ee\u5f55\u800c\u4e0d\u662f\u53f6\u5b50\u8282\u70b9",_i:12},model:{value:t._$s(12,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),n("uni-forms-item",{attrs:{name:"sort",label:"\u5e8f\u53f7",_i:13}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u5e8f\u53f7\uff08\u8d8a\u5927\u8d8a\u9760\u540e\uff09",_i:14},model:{value:t._$s(14,"v-model",t.formData.sort),callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),n("uni-forms-item",{attrs:{name:"parent_id",label:"\u7236\u83dc\u5355\u6807\u8bc6",_i:15}},[n("uni-easyinput",{attrs:{disabled:!0,clearable:!1,placeholder:"\u65b0\u589e\u83dc\u5355\u65f6\u81ea\u52a8\u586b\u5145, \u4e00\u7ea7\u83dc\u5355\u4e0d\u9700\u8981\u586b\u5199",_i:16},model:{value:t._$s(16,"v-model",t.formData.parent_id),callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),n("uni-forms-item",{staticClass:t._$s(17,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650\u5217\u8868",_i:17}},[n("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:18},model:{value:t._$s(18,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}}),n("view",{staticClass:t._$s(19,"sc","uni-form-item-tips"),attrs:{_i:19}})],1),n("uni-forms-item",{attrs:{name:"enable",label:"\u662f\u5426\u542f\u7528",_i:20}},[n("switch",{attrs:{checked:t._$s(21,"a-checked",t.formData.enable),_i:21},on:{change:function(e){return t.binddata("enable",e.detail.value)}}})]),n("view",{staticClass:t._$s(22,"sc","uni-button-group"),attrs:{_i:22}},[n("button",{staticClass:t._$s(23,"sc","uni-button"),attrs:{_i:23},on:{click:t.submitForm}},[t._v(t._$s(23,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(25,"sc","uni-button"),attrs:{_i:25}},[t._v(t._$s(25,"t0-0",t._s(t.$t("common.button.back"))))])])])],1),n("uni-popup",{ref:"iconPopup",staticClass:t._$s(26,"sc","icon-modal-box"),attrs:{type:"center",_i:26}},[n("view",{staticClass:t._$s(27,"sc","icon-modal icon-modal-pc"),attrs:{_i:27}},[n("Icons",{attrs:{tag:!1,"fix-window":!1,_i:28}})],1)])],1)},r=[]},4321:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-load-more"),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.webviewHide&&("circle"===t.iconType||"auto"===t.iconType&&"android"===t.platform)&&"loading"===t.status&&t.showIcon)?n("view",{staticClass:t._$s(1,"sc","uni-load-more__img uni-load-more__img--android-MP"),style:t._$s(1,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-load-more__img-icon"),style:t._$s(2,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-load-more__img-icon"),style:t._$s(3,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","uni-load-more__img-icon"),style:t._$s(4,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:4}})]):t._$s(5,"e",!t.webviewHide&&"loading"===t.status&&t.showIcon)?n("view",{staticClass:t._$s(5,"sc","uni-load-more__img uni-load-more__img--ios-H5"),style:t._$s(5,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:5}},[n("image",{attrs:{src:t._$s(6,"a-src",t.imgBase64),_i:6}})]):t._e(),t._$s(7,"i",t.showText)?n("text",{staticClass:t._$s(7,"sc","uni-load-more__text"),style:t._$s(7,"s",{color:t.color}),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s("more"===t.status?t.contentdownText:"loading"===t.status?t.contentrefreshText:t.contentnomoreText)))]):t._e()])},r=[]},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=n("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"437a":function(t,e,n){"use strict";n.r(e);var i=n("d491"),a=n("8fa3");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},4386:function(t,e,n){"use strict";n.r(e);var i=n("a3cb"),a=n("70ec");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},4405:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={namespaced:!0,state:{token:uni.getStorageSync("uni_id_token"),tokenExpired:uni.getStorageSync("uni_id_token_expired"),userInfo:{}},getters:{isTokenValid:function(t){return!!t.token&&t.tokenExpired>Date.now()}},mutations:{SET_TOKEN:function(t,e){var n=e.token,i=e.tokenExpired;t.token=n,t.tokenExpired=i,uni.setStorageSync("uni_id_token",n),uni.setStorageSync("uni_id_token_expired",i)},REMOVE_TOKEN:function(t){t.token="",t.tokenExpired=0,t.userInfo={},uni.removeStorageSync("uni_id_token"),uni.removeStorageSync("uni_id_token_expired")},SET_USER_INFO:function(t,e){t.userInfo=e}},actions:{}};e.default=i},4485:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={id:"2852637",name:"uniui\u56fe\u6807\u5e93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]};e.default=i},4491:function(t,e,n){"use strict";n.r(e);var i=n("0ebe"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"44af":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,uniStatTable:n("4a21").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-l"),attrs:{_i:15}},[n("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[n("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.types,_i:17},model:{value:t._$s(17,"v-model",t.type),callback:function(e){t.type=e},expression:"type"}})],1),n("view",{staticClass:t._$s(18,"sc","p-m"),attrs:{_i:18}},[n("view",{staticClass:t._$s(19,"sc","uni-charts-box"),attrs:{_i:19}},[n("qiun-data-charts",{attrs:{type:"pie",chartData:t.chartData,echartsH5:!0,echartsApp:!0,_i:20}})],1)])]),n("view",{staticClass:t._$s(21,"sc","uni-stat--x p-m"),attrs:{_i:21}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:22}})],1)]),n("fix-window",{attrs:{_i:23}})],1)},r=[]},"44e0":function(t,e,n){"use strict";function i(t,e){return o(t)||r(t,e)||l(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function o(t){if(Array.isArray(t))return t}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.filterToWhere=f,e.enumConverter=e.validator=void 0;var c={username:{rules:[{required:!0},{format:"string"},{minLength:2}],label:"\u7528\u6237\u540d"},password:{rules:[{required:!0},{format:"password"},{minLength:6}],label:"\u5bc6\u7801"},mobile:{rules:[{format:"string"},{pattern:"^\\+?[0-9-]{3,20}$"}],label:"\u624b\u673a\u53f7\u7801"},status:{rules:[{format:"int"},{range:[{text:"\u6b63\u5e38",value:0},{text:"\u7981\u7528",value:1},{text:"\u5ba1\u6838\u4e2d",value:2},{text:"\u5ba1\u6838\u62d2\u7edd",value:3}]}],defaultValue:0,label:"\u7528\u6237\u72b6\u6001"},email:{rules:[{format:"string"},{format:"email"}],label:"\u90ae\u7bb1"},role:{rules:[{format:"array"}],label:"\u89d2\u8272"},last_login_date:{rules:[{format:"timestamp"}]}};e.validator=c;var d={status_valuetotext:{0:"\u6b63\u5e38",1:"\u7981\u7528",2:"\u5ba1\u6838\u4e2d",3:"\u5ba1\u6838\u62d2\u7edd"}};function f(t,e){var n={};for(var a in t){var r=t[a],o=r.type,l=r.value;switch(o){case"search":"string"===typeof l&&l.length&&(n[a]=new RegExp(l));break;case"select":if(l.length){var u,c=[],d=s(l);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.push(e.eq(f))}}catch($){d.e($)}finally{d.f()}n[a]=e.or(c)}break;case"range":if(l.length){var h=l[0],p=l[1];n[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(l.length){var m=i(l,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);n[a]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(l.length){var b=i(l,2),x=b[0],w=b[1];n[a]=e.and([e.gte(x),e.lte(w)])}break}}return n}e.enumConverter=d},"44e2":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("c4eb")),a=r(n("251f"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=t.database(),c=(u.command,"opendb-admin-menus");function d(t){var e={};for(var n in i.default)t.includes(n)&&(e[n]=i.default[n]);return e}var f={components:{Icons:a.default},data:function(){return{formData:{menu_id:"",name:"",icon:"",url:"",sort:null,parent_id:"",permission:[],enable:!0},rules:s({},d(["menu_id","name","icon","url","sort","parent_id","permission","enable"]))}},onLoad:function(t){t.parent_id&&(this.formData.parent_id=t.parent_id)},methods:{submitForm:function(){this.$refs.form.submit()},submit:function(t){var e=this,n=t.detail,i=n.value,a=n.errors;a||(uni.showLoading({title:"\u63d0\u4ea4\u4e2d...",mask:!0}),u.collection(c).add(i).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))},showIconPopup:function(){this.$refs.iconPopup.open()}}};e.default=f}).call(this,n("a9ff")["default"])},"45a3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("37dc"),a=r(n("4908"));function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,i.initVueI18n)(a.default),s=o.t,l={name:"UniDatetimePicker",components:{},data:function(){return{indicatorStyle:"height: 50px;",visible:!1,fixNvueBug:{},dateShow:!0,timeShow:!0,title:"\u65e5\u671f\u548c\u65f6\u95f4",time:"",year:1920,month:0,day:0,hour:0,minute:0,second:0,startYear:1920,startMonth:1,startDay:1,startHour:0,startMinute:0,startSecond:0,endYear:2120,endMonth:12,endDay:31,endHour:23,endMinute:59,endSecond:59}},props:{type:{type:String,default:"datetime"},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},disabled:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},hideSecond:{type:[Boolean,String],default:!1}},watch:{value:{handler:function(t,e){t?(this.parseValue(this.fixIosDateFormat(t)),this.initTime(!1)):(this.time="",this.parseValue(Date.now()))},immediate:!0},type:{handler:function(t){"date"===t?(this.dateShow=!0,this.timeShow=!1,this.title="\u65e5\u671f"):"time"===t?(this.dateShow=!1,this.timeShow=!0,this.title="\u65f6\u95f4"):(this.dateShow=!0,this.timeShow=!0,this.title="\u65e5\u671f\u548c\u65f6\u95f4")},immediate:!0},start:{handler:function(t){this.parseDatetimeRange(this.fixIosDateFormat(t),"start")},immediate:!0},end:{handler:function(t){this.parseDatetimeRange(this.fixIosDateFormat(t),"end")},immediate:!0},months:function(t){this.checkValue("month",this.month,t)},days:function(t){this.checkValue("day",this.day,t)},hours:function(t){this.checkValue("hour",this.hour,t)},minutes:function(t){this.checkValue("minute",this.minute,t)},seconds:function(t){this.checkValue("second",this.second,t)}},computed:{years:function(){return this.getCurrentRange("year")},months:function(){return this.getCurrentRange("month")},days:function(){return this.getCurrentRange("day")},hours:function(){return this.getCurrentRange("hour")},minutes:function(){return this.getCurrentRange("minute")},seconds:function(){return this.getCurrentRange("second")},ymd:function(){return[this.year-this.minYear,this.month-this.minMonth,this.day-this.minDay]},hms:function(){return[this.hour-this.minHour,this.minute-this.minMinute,this.second-this.minSecond]},currentDateIsStart:function(){return this.year===this.startYear&&this.month===this.startMonth&&this.day===this.startDay},currentDateIsEnd:function(){return this.year===this.endYear&&this.month===this.endMonth&&this.day===this.endDay},minYear:function(){return this.startYear},maxYear:function(){return this.endYear},minMonth:function(){return this.year===this.startYear?this.startMonth:1},maxMonth:function(){return this.year===this.endYear?this.endMonth:12},minDay:function(){return this.year===this.startYear&&this.month===this.startMonth?this.startDay:1},maxDay:function(){return this.year===this.endYear&&this.month===this.endMonth?this.endDay:this.daysInMonth(this.year,this.month)},minHour:function(){return"datetime"===this.type?this.currentDateIsStart?this.startHour:0:"time"===this.type?this.startHour:void 0},maxHour:function(){return"datetime"===this.type?this.currentDateIsEnd?this.endHour:23:"time"===this.type?this.endHour:void 0},minMinute:function(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour?this.startMinute:0:"time"===this.type?this.hour===this.startHour?this.startMinute:0:void 0},maxMinute:function(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour?this.endMinute:59:"time"===this.type?this.hour===this.endHour?this.endMinute:59:void 0},minSecond:function(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:"time"===this.type?this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:void 0},maxSecond:function(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:"time"===this.type?this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:void 0},selectTimeText:function(){return s("uni-datetime-picker.selectTime")},okText:function(){return s("uni-datetime-picker.ok")},clearText:function(){return s("uni-datetime-picker.clear")},cancelText:function(){return s("uni-datetime-picker.cancel")}},mounted:function(){},methods:{lessThanTen:function(t){return t<10?"0"+t:t},parseTimeType:function(t){if(t){var e=t.split(":");this.hour=Number(e[0]),this.minute=Number(e[1]),this.second=Number(e[2])}},initPickerValue:function(t){var e=null;t?e=this.compareValueWithStartAndEnd(t,this.start,this.end):(e=Date.now(),e=this.compareValueWithStartAndEnd(e,this.start,this.end)),this.parseValue(e)},compareValueWithStartAndEnd:function(t,e,n){var i=null;return t=this.superTimeStamp(t),e=this.superTimeStamp(e),n=this.superTimeStamp(n),i=e&&n?t<e?new Date(e):t>n?new Date(n):new Date(t):e&&!n?e<=t?new Date(t):new Date(e):!e&&n?t<=n?new Date(t):new Date(n):new Date(t),i},superTimeStamp:function(t){var e="";if("time"===this.type&&t&&"string"===typeof t){var n=new Date,i=n.getFullYear(),a=n.getMonth()+1,r=n.getDate();e=i+"/"+a+"/"+r+" "}return Number(t)&&NaN!==typeof t&&(t=parseInt(t),e=0),this.createTimeStamp(e+t)},parseValue:function(t){if(t){if("time"===this.type&&"string"===typeof t)this.parseTimeType(t);else{var e=null;e=new Date(t),"time"!==this.type&&(this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate()),"date"!==this.type&&(this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds())}this.hideSecond&&(this.second=0)}},parseDatetimeRange:function(t,e){if(!t)return"start"===e&&(this.startYear=1920,this.startMonth=1,this.startDay=1,this.startHour=0,this.startMinute=0,this.startSecond=0),void("end"===e&&(this.endYear=2120,this.endMonth=12,this.endDay=31,this.endHour=23,this.endMinute=59,this.endSecond=59));if("time"===this.type){var n=t.split(":");this[e+"Hour"]=Number(n[0]),this[e+"Minute"]=Number(n[1]),this[e+"Second"]=Number(n[2])}else{if(!t)return void("start"===e?this.startYear=this.year-60:this.endYear=this.year+60);Number(t)&&NaN!==Number(t)&&(t=parseInt(t));var i=/[0-9]:[0-9]/;"datetime"!==this.type||"end"!==e||"string"!==typeof t||i.test(t)||(t+=" 23:59:59");var a=new Date(t);this[e+"Year"]=a.getFullYear(),this[e+"Month"]=a.getMonth()+1,this[e+"Day"]=a.getDate(),"datetime"===this.type&&(this[e+"Hour"]=a.getHours(),this[e+"Minute"]=a.getMinutes(),this[e+"Second"]=a.getSeconds())}},getCurrentRange:function(t){for(var e=[],n=this["min"+this.capitalize(t)];n<=this["max"+this.capitalize(t)];n++)e.push(n);return e},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},checkValue:function(t,e,n){-1===n.indexOf(e)&&(this[t]=n[0])},daysInMonth:function(t,e){return new Date(t,e,0).getDate()},fixIosDateFormat:function(t){return"string"===typeof t&&(t=t.replace(/-/g,"/")),t},createTimeStamp:function(t){if(t)return"number"===typeof t?t:(t=t.replace(/-/g,"/"),"date"===this.type&&(t+=" 00:00:00"),Date.parse(t))},createDomSting:function(){var t=this.year+"-"+this.lessThanTen(this.month)+"-"+this.lessThanTen(this.day),e=this.lessThanTen(this.hour)+":"+this.lessThanTen(this.minute);return this.hideSecond||(e=e+":"+this.lessThanTen(this.second)),"date"===this.type?t:"time"===this.type?e:t+" "+e},initTime:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.time=this.createDomSting(),t&&("timestamp"===this.returnType&&"time"!==this.type?(this.$emit("change",this.createTimeStamp(this.time)),this.$emit("input",this.createTimeStamp(this.time)),this.$emit("update:modelValue",this.createTimeStamp(this.time))):(this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time)))},bindDateChange:function(t){var e=t.detail.value;this.year=this.years[e[0]],this.month=this.months[e[1]],this.day=this.days[e[2]]},bindTimeChange:function(t){var e=t.detail.value;this.hour=this.hours[e[0]],this.minute=this.minutes[e[1]],this.second=this.seconds[e[2]]},initTimePicker:function(){if(!this.disabled){var t=this.fixIosDateFormat(this.value);this.initPickerValue(t),this.visible=!this.visible}},tiggerTimePicker:function(t){this.visible=!this.visible},clearTime:function(){this.time="",this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time),this.tiggerTimePicker()},setTime:function(){this.initTime(),this.tiggerTimePicker()}}};e.default=l},4691:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading2",data:function(){return{}}};e.default=i},4693:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.entFieldsMap=e.resFieldsMap=e.fieldsMap=void 0;var i=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff0c\u4eca\u65e5\u6570\u636e\u4e3a\u6bcf\u5c0f\u65f6\u6d3b\u8dc3\u8bbe\u5907\u7d2f\u52a0\uff08\u672a\u8651\u91cd\uff09\uff0c\u6628\u65e5\u6570\u636e\u4e3a\u5168\u5929\u6d3b\u8dc3\u8bbe\u5907\u8651\u91cd\u540e\u7ed3\u679c",value:0,contrast:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0,contrast:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0,contrast:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,contrast:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,contrast:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.fieldsMap=i;var a=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"visit_times/total_app_access",tooltip:"\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.resFieldsMap=a;var r=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f",formatter:""},{title:"\u5165\u53e3\u9875\u6b21\u6570",field:"entry_count",tooltip:"\u8bbf\u95ee\u8be5\u5165\u53e3\u9875\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"entry_count/total_app_access",tooltip:"\u9875\u9762\u7684\u5165\u53e3\u9875\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.entFieldsMap=r},4714:function(t,e,n){"use strict";n.r(e);var i=n("0909"),a=n("53d4");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},4732:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t._$s(0,"i",t.isShow)?n("view",{ref:"ani",class:t._$s(0,"c",t.customClass),style:t._$s(0,"s",t.transformStyles),attrs:{animation:t._$s(0,"a-animation",t.animationData),_i:0},on:{click:t.onClick}},[t._t("default",null,{_i:1})],2):t._e()},r=[]},"47a0":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("8634"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{fieldsMap:r.default,query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},loading:!1,currentDateTab:1,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},type:"visit_depth_data",types:[{_id:"visit_depth_data",name:"\u8bbf\u95ee\u9875\u6570"},{_id:"duration_data",name:"\u8bbf\u95ee\u65f6\u957f"}],field:"visit_devices",fields:[{_id:"visit_devices",name:"\u8bbf\u95ee\u4eba\u6570"},{_id:"visit_times",name:"\u8bbf\u95ee\u6b21\u6570"}],options:{visit_depth_data:{prefix:"p",title:"\u9875",value:[1,2,3,4,5,10]},duration_data:{prefix:"s",title:"\u79d2",value:[0,3,6,11,21,31,51,100]}},channelData:[]}},computed:{fieldName:function(){var t=this;return this.fields.forEach((function(e){if(e._id===t.field)return e.name}))},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}},type:function(){this.getAllData(this.query)},field:function(){this.getAllData(this.query)}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},createStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visit_depth_data",n=t.length,i=this.options[e].prefix,a=this.options[e].value,r=a.map((function(a){return t.map((function(t){return"sum(".concat(e,".").concat(t,".").concat(i+"_"+a,") as ").concat(n>1?t+"_"+i+"_"+a:i+"_"+a)}))})),o=r.join();return o},parseChars:function(t){t=t.split("_");var e=this.options[this.type],n=e.title;e.value.forEach((function(i,a){var r=e.value[a+1];i===Number(t[t.length-1])&&(n=r?i+1===r?i+n:i+"-"+(r-1)+n:i+"+"+n)}));return n},getAllData:function(t){this.getChartData(t,this.field,this.fieldName),this.getTabelData(t)},getChartData:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.field;arguments.length>2&&void 0!==arguments[2]||this.fields.find((function(t){return t._id===n.field})).name;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);var r=this.createStr([i],this.type),o=t.database();o.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(r).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);i=i[0];var a={series:[{data:[]}]};for(var r in i)if("appid"!==r){var o=n.parseChars(r),s=i[r];a.series[0].data.push({name:o,value:s})}n.chartData=a})).catch((function(t){})).finally((function(){n.loading=!1}))},getTabelData:function(e){var n=this;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);var i=this.createStr(["visit_devices","visit_times"],this.type);this.fieldsMap[0].title=this.types.find((function(t){return t._id===n.type})).name,this.loading=!0;var o=t.database();o.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(i).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data),o=n.type,l=[],u=n.options[o].prefix;u="_".concat(u,"_");var c,d=s(i);try{for(d.s();!(c=d.n()).done;){var f=c.value;for(var h in f)if("appid"!==h){var p={},m=h.split(u);p.name=m[1],p[m[0]]=f[h],l.push(p)}}}catch(k){d.e(k)}finally{d.f()}var _=[],g={},v=function(t,e){return t+e},y=l.filter((function(t){return t.visit_devices})).map((function(t){return t.visit_devices}));y=y.length?y.reduce(v):0;var b=l.filter((function(t){return t.visit_times})).map((function(t){return t.visit_times}));b=b.length?b.reduce(v):0,g.visit_times=b,g.visit_devices=y,n.options[o].value.forEach((function(t){var e={};e.name=t+"p",l.forEach((function(n){if(Number(n.name)===t)for(var i in n)i!==name&&(e[i]=n[i],e["total_"+i]=g[i])})),e.name=n.parseChars(String(t)),_.push(e)}));for(var x=0,w=_;x<w.length;x++){var $=w[x];(0,a.mapfields)(r.default,$,$)}n.tableData=[],n.tableData=_})).catch((function(t){})).finally((function(){n.loading=!1}))},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},"47ec":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","container loading6"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),n("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},r=[]},4881:function(t,e,n){"use strict";n.r(e);var i=n("dc6c"),a=n("e5ca");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"48d1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initUtil=r,e.getDeviceUUID=o;var i=n("fc96");function a(t){var e=["B","KB","MB","GB","TB"];if(0==t)return"n/a";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return 0==n?t+" "+e[n]:(t/Math.pow(1024,n)).toFixed(1)+" "+e[n]}function r(t){t.prototype.$formatDate=i.formatDate,t.prototype.$formatBytes=a}function o(){var t=uni.getStorageSync("uni_deviceId")||uni.getSystemInfoSync().deviceId||uni.getSystemInfoSync().system+"_"+Math.random().toString(36).substr(2);return uni.setStorageSync("uni_deviceId",t),t}},"48e3":function(t,e,n){"use strict";function i(t,e){return o(t)||r(t,e)||l(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function o(t){if(Array.isArray(t))return t}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.filterToWhere=f,e.enumConverter=e.validator=void 0;var c={role_id:{rules:[{required:!0},{format:"string"}],label:"\u552f\u4e00ID"},role_name:{rules:[{required:!0},{format:"string"}],label:"\u540d\u79f0"},permission:{rules:[{format:"array"}],label:"\u6743\u9650"},comment:{rules:[{format:"string"}],label:"\u5907\u6ce8"},create_date:{rules:[{format:"timestamp"}]}};e.validator=c;var d={};function f(t,e){var n={};for(var a in t){var r=t[a],o=r.type,l=r.value;switch(o){case"search":"string"===typeof l&&l.length&&(n[a]=new RegExp(l));break;case"select":if(l.length){var u,c=[],d=s(l);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.push(e.eq(f))}}catch($){d.e($)}finally{d.f()}n[a]=e.or(c)}break;case"range":if(l.length){var h=l[0],p=l[1];n[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(l.length){var m=i(l,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);n[a]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(l.length){var b=i(l,2),x=b[0],w=b[1];n[a]=e.and([e.gte(x),e.lte(w)])}break}}return n}e.enumConverter=d},4908:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("0faa")),a=o(n("6694")),r=o(n("a06b"));function o(t){return t&&t.__esModule?t:{default:t}}var s={en:i.default,"zh-Hans":a.default,"zh-Hant":r.default};e.default=s},"497f":function(t,e,n){"use strict";n.r(e);var i=n("6278"),a=n("b7e8");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"4a21":function(t,e,n){"use strict";n.r(e);var i=n("e810"),a=n("61ca");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"4a2c":function(t,e,n){"use strict";n.r(e);var i=n("2fad"),a=n("8e2f");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"4ac6":function(t,e,n){"use strict";n.r(e);var i=n("6493"),a=n("98a1");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"4adf":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,uniStatTable:n("4a21").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("view",{staticClass:t._$s(15,"sc","uni-stat--x p-m"),attrs:{_i:15}},[n("view",{staticClass:t._$s(16,"sc","label-text mb-l"),attrs:{_i:16}}),n("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},on:{change:t.changeChartTab}}),n("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,_i:19}})],1)],1),n("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,tooltip:!0,_i:21}}),n("view",{staticClass:t._$s(22,"sc","uni-pagination-box"),attrs:{_i:22}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:23},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("fix-window",{attrs:{_i:24}})],1)},r=[]},"4c87":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"qiun-error",props:{errorMessage:{type:String,default:null}},data:function(){return{}}};e.default=i},"4d5d":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-window"),attrs:{_i:0}},[n("top-window",{staticClass:t._$s(1,"sc","fix-window-top"),attrs:{_i:1}}),n("view",{staticClass:t._$s(2,"sc","fix-window-button"),attrs:{_i:2},on:{click:t.tiggerWindow}}),n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(3,"v-show",t.visible),expression:"_$s(3,'v-show',visible)"}],staticClass:t._$s(3,"sc","fix-window--mask"),attrs:{_i:3},on:{click:t.tiggerWindow}}),n("left-window",{directives:[{name:"show",rawName:"v-show",value:t._$s(4,"v-show",t.visible),expression:"_$s(4,'v-show',visible)"}],staticClass:t._$s(4,"sc","fix-window--popup"),attrs:{_i:4}})],1)},r=[]},"4d80":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("709c");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l=(s.command,"uni-id-permissions");function u(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var c={data:function(){var t={permission_id:"",permission_name:"",comment:""};return{formData:t,formOptions:{},rules:r({},u(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;s.collection(l).doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),s.collection(l).doc(t).field("permission_id,permission_name,comment").get().then((function(t){var n=t.result.data[0];n&&(e.formData=n)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,n("a9ff")["default"])},"4d9c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default,uniTd:n("abd8").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),n("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-stat--x flex"),attrs:{_i:4}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(7,"sc","flex"),attrs:{_i:7}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",today:!0,_i:8},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(9,"sc","uni-stat-datetime-picker"),class:t._$s(9,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:9},on:{change:t.useDatetimePicker},model:{value:t._$s(9,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(10,"sc","uni-stat--x"),attrs:{_i:10}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:11},on:{change:t.changePlatform},model:{value:t._$s(11,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),n("uni-stat-panel",{attrs:{items:t.panelData,contrast:!0,_i:12}}),n("view",{staticClass:t._$s(13,"sc","uni-stat--x p-m"),attrs:{_i:13}},[n("view",{staticClass:t._$s(14,"sc","uni-stat-card-header"),attrs:{_i:14}}),n("uni-stat-tabs",{staticClass:t._$s(15,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:15},on:{change:t.changeChartTab},model:{value:t._$s(15,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(16,"sc","uni-charts-box"),attrs:{_i:16}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:t.eopts,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:17}})],1)],1),n("view",{staticClass:t._$s(18,"sc","dispaly-grid"),attrs:{_i:18}},[n("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[n("view",{staticClass:t._$s(20,"sc","uni-stat-card-header"),attrs:{_i:20}},[n("view"),n("view",{staticClass:t._$s(22,"sc","uni-stat-card-header-link"),attrs:{_i:22},on:{click:function(e){return t.navTo("/pages/uni-stat/page-res/page-res")}}})]),n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:23}},[n("uni-tr",{attrs:{_i:24}},[t._l(t._$s(25,"f",{forItems:t.resFieldsMap}),(function(e,i,a,r){return[t._$s("26-"+r,"i",e.title)?n("uni-th",{key:t._$s(25,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"26-"+r}},[n("uni-tooltip",{attrs:{_i:"27-"+r},scopedSlots:t._u([t._$s("29-"+r,"i",e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("30-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"30-"+r+"-"+o}},[t._v(a._$s("30-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("27-"+r,"t0-0",t._s(e.title))),t._$s("28-"+r,"i",e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"28-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(31,"f",{forItems:t.resTableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(31,"f",{forIndex:a,key:i}),attrs:{_i:"31-"+r}},[t._l(t._$s("32-"+r,"f",{forItems:t.resFieldsMap}),(function(i,a,o,s){return[t._$s("33-"+r+"-"+s,"i",i.title)?n("uni-td",{key:t._$s("32-"+r,"f",{forIndex:o,keyIndex:0,key:a}),attrs:{align:0===a?"left":"center",_i:"33-"+r+"-"+s}},[t._v(t._$s("33-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):t._e()]}))],2)}))],2)],1),n("view",{staticClass:t._$s(34,"sc","uni-stat--x uni-stat-card p-m"),attrs:{_i:34}},[n("view",{staticClass:t._$s(35,"sc","uni-stat-card-header"),attrs:{_i:35}},[n("view"),n("view",{staticClass:t._$s(37,"sc","uni-stat-card-header-link"),attrs:{_i:37},on:{click:function(e){return t.navTo("/pages/uni-stat/page-ent/page-ent")}}})]),n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:38}},[n("uni-tr",{attrs:{_i:39}},[t._l(t._$s(40,"f",{forItems:t.entFieldsMap}),(function(e,i,a,r){return[t._$s("41-"+r,"i",e.title)?n("uni-th",{key:t._$s(40,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"41-"+r}},[n("uni-tooltip",{attrs:{_i:"42-"+r},scopedSlots:t._u([t._$s("44-"+r,"i",e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("45-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"45-"+r+"-"+o}},[t._v(a._$s("45-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("42-"+r,"t0-0",t._s(e.title))),t._$s("43-"+r,"i",e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"43-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(46,"f",{forItems:t.entTableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(46,"f",{forIndex:a,key:i}),attrs:{_i:"46-"+r}},[t._l(t._$s("47-"+r,"f",{forItems:t.entFieldsMap}),(function(i,a,o,s){return[t._$s("48-"+r+"-"+s,"i",i.title)?n("uni-td",{key:t._$s("47-"+r,"f",{forIndex:o,keyIndex:0,key:a}),attrs:{align:0===a?"left":"center",_i:"48-"+r+"-"+s}},[t._v(t._$s("48-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):t._e()]}))],2)}))],2)],1)])],1),n("fix-window",{attrs:{_i:49}})],1)},r=[]},"4e41":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("9ba8"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{fieldsMap:r.default,query:{dimension:"day",appid:"",uni_platform:"android",platform_id:"",version_id:"",start_time:[]},paginationOptions:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,days:0,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_device_count",queryId:"",updateValue:""}},computed:{chartTabs:function(){var t=[];return r.default.forEach((function(e){var n=e.field,i=e.title,a=e.hasOwnProperty("value");n&&i&&a&&t.push({_id:n,name:i})})),t},queryStr:function(){return(0,a.stringifyQuery)(this.query,!0)},dimension:function(){return(0,a.maxDeltaDay)(this.query.start_time,1)?"hour":"day"},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n,type:"native_app"});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData()}))},watch:{query:{deep:!0,handler:function(t){this.paginationOptions.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,n,i){this.query.version_id=0,i.code,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n,i,r=864e5;n=(0,a.getTimeOfSomeDayAgo)(t),i=t?(0,a.getTimeOfSomeDayAgo)(0)-1:(0,a.getTimeOfSomeDayAgo)(0)+r-1,this.query.start_time=[n,i]},changePageCurrent:function(t){this.paginationOptions.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.paginationOptions.pageSize=t,this.paginationOptions.pageCurrent=1,this.getTableData()},changeChartTab:function(t,e,n){this.getChartData(t,n)},getAllData:function(t){this.getPanelData(),this.getChartData(),this.getTableData()},getChartData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chartTab,n=(0,a.stringifyQuery)(this.query,!1,["uni_platform"]),o=(this.paginationOptions.pageCurrent,i.database());o.collection("uni-stat-result").where(n).field("".concat((0,a.stringifyField)(r.default,e),", start_time, channel_id")).groupBy("channel_id,start_time").groupField((0,a.stringifyGroupField)(r.default,e)).orderBy("start_time","asc").get({getCount:!0}).then((function(n){var i=n.result,o=(i.count,i.data),l={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},u=l.categories;if("hour"===t.dimension)for(var c=0;c<24;++c){var d=c<10?"0"+c:c,f="".concat(d,":00 ~ ").concat(d,":59");u.push(f)}var h=[];o.forEach((function(t){h.indexOf(t.channel_id)<0&&h.push(t.channel_id)}));var p=[];t.getChannels().then((function(t){p=t.result.data})).finally((function(){h.forEach((function(n,i){var c=p.find((function(t){return t._id===n})),d=l.series[i]={name:c&&c.channel_name||"\u672a\u77e5",data:[]};if("hour"===t.dimension)for(var f=0;f<24;++f)d.data[f]=0;var h=r.default.filter((function(t){return t.field===e}));h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="";var m,_=s(o);try{for(_.s();!(m=_.n()).done;){var g=m.value;(0,a.mapfields)(h,g,g);var v=g.start_time,y=(0,a.formatDate)(v,t.dimension),b=g[e],x=u.indexOf(y);n===g.channel_id&&(x<0?(u.push(y),d.data.push(b)):d.data[x]=b)}}catch(w){_.e(w)}finally{_.f()}})),l.series=l.series.sort((function(t,e){return t.name.localeCompare(e.name)})),t.chartData=l}))})).catch((function(t){})).finally((function(){}))},getChannels:function(){var t=i.database();return this.query,t.collection("uni-stat-app-channels").where((0,a.stringifyQuery)({appid:this.query.appid,platform_id:this.query.platform_id})).get()},getTableData:function(){var t=this,e=(0,a.stringifyQuery)(this.query,!1,["uni_platform"]),n=this.paginationOptions.pageCurrent;this.loading=!0;var o=i.database();o.collection("uni-stat-result").where(e).field("".concat((0,a.stringifyField)(r.default),",appid, channel_id")).groupBy("appid, channel_id").groupField((0,a.stringifyGroupField)(r.default)).orderBy("new_device_count","desc").skip((n-1)*this.paginationOptions.pageSize).limit(this.paginationOptions.pageSize).get({getCount:!0}).then((function(e){var n=e.result,i=n.count,o=n.data;t.getChannels().then((function(t){var e,n=t.result.data,i=s(o);try{var a=function(){var t=e.value;n.forEach((function(e){t.channel_id===e._id&&(t.channel_code=e.channel_code,t.channel_name=e.channel_name)}))};for(i.s();!(e=i.n()).done;)a()}catch(r){i.e(r)}finally{i.f()}})).finally((function(){var e,n=s(o);try{for(n.s();!(e=n.n()).done;){var l=e.value;(0,a.mapfields)(r.default,l,l,"total_")}}catch(u){n.e(u)}finally{n.f()}t.tableData=[],t.paginationOptions.total=i,t.tableData=o,t.loading=!1}))})).catch((function(e){t.loading=!1}))},createStr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"total_",i=[];return t.forEach((function(t){if(field.hasOwnProperty("value")){var a=t.field;i.push("".concat(e,"(").concat(a,") as ").concat(n+a))}})),i.join()},getPanelData:function(){var t=this,e=JSON.parse(JSON.stringify(this.query));e.dimension="day";var n=(0,a.stringifyQuery)(e,!1,["uni_platform"]),o=i.database();o.collection("uni-stat-result").where(n).field((0,a.stringifyField)(r.default)).groupBy("appid").groupField((0,a.stringifyGroupField)(r.default)).orderBy("start_time","desc").get().then((function(n){var i=n.result.data[0];i&&(i.total_devices=0),a.getFieldTotal.call(t,e),t.panelData=[],t.panelData=(0,a.mapfields)(r.default,i)}))},inputDialogToggle:function(t,e){this.queryId=t,this.updateValue=e,this.$refs.inputDialog.open()},editName:function(t){var e=this,n=i.database();n.collection("uni-stat-app-channels").where({channel_code:this.queryId}).update({channel_name:t}).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getTableData()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,n("0de9")["default"],n("a9ff")["default"])},"4ec9":function(t,e,n){"use strict";n.r(e);var i=n("551d"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"4ee4":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(t){this.config[t]&&this[this.config[t]](!0)},immediate:!0},isDesktop:{handler:function(t){this.config[t]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(t){this.mkclick=t},immediate:!0},isMaskClick:{handler:function(t){this.mkclick=t},immediate:!0},showPopup:function(t){}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{isDesktop:function(){return this.popupWidth>=500&&this.popupHeight>=500},bg:function(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted:function(){var t=this,e=function(){var e=uni.getSystemInfoSync(),n=e.windowWidth,i=e.windowHeight,a=e.windowTop,r=e.safeArea,o=(e.screenHeight,e.safeAreaInsets);t.popupWidth=n,t.popupHeight=i+(a||0),r&&t.safeArea?t.safeAreaInsets=o.bottom:t.safeAreaInsets=0};e()},destroyed:function(){this.setH5Visible()},created:function(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible:function(){},closeMask:function(){this.maskShow=!1},disableMask:function(){this.mkclick=!1},clear:function(t){t.stopPropagation(),this.clearPropagation=!0},open:function(t){this.showPopup&&(clearTimeout(this.timer),this.showPopup=!1);var e=["top","center","bottom","left","right","message","dialog","share"];t&&-1!==e.indexOf(t)||(t=this.type),this.config[t]&&(this[this.config[t]](),this.$emit("change",{show:!0,type:t}))},close:function(t){var e=this;this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((function(){e.showPopup=!1}),300)},touchstart:function(){this.clearPropagation=!1},onTap:function(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top:function(t){var e=this;this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((function(){e.messageChild&&"message"===e.type&&e.messageChild.timerClose()})))},bottom:function(t){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0)},center:function(t){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},t||(this.showPopup=!0,this.showTrans=!0)},left:function(t){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)},right:function(t){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)}}};e.default=n}).call(this,n("0de9")["default"])},5043:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{currentPage:""}},options:{virtualHost:!0},props:{to:{type:String,default:""},replace:{type:Boolean,default:!1}},inject:{uniBreadcrumb:{from:"uniBreadcrumb",default:null}},created:function(){var t=getCurrentPages(),e=t[t.length-1];e&&(this.currentPage="/".concat(e.route))},computed:{separator:function(){return this.uniBreadcrumb.separator},separatorClass:function(){return this.uniBreadcrumb.separatorClass}},methods:{navTo:function(){var t=this.to;t&&this.currentPage!==t&&(this.replace?uni.redirectTo({url:t}):uni.navigateTo({url:t}))}}};e.default=i},"50cb":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniDataMenu:n("7e35").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll-view",{staticClass:t._$s(0,"sc","sidebar"),attrs:{_i:0}},[n("uni-data-menu",{ref:"menu",attrs:{value:t.currentMenu,staticMenu:t.staticMenu,collection:"opendb-admin-menus","page-size":500,field:t.field,orderby:"sort asc","active-text-color":"#409eff",_i:1},on:{select:t.select}})],1)},r=[]},"518e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=e.validator=void 0;var i={appid:{rules:[{required:!0},{format:"string"}],label:"AppID"},name:{rules:[{format:"string"}],label:"\u5e94\u7528\u540d\u79f0"},title:{rules:[{format:"string"}],label:"\u66f4\u65b0\u6807\u9898"},contents:{rules:[{required:!0},{format:"string"}],label:"\u66f4\u65b0\u5185\u5bb9"},platform:{rules:[{required:!0},{range:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}]}],label:"\u5e73\u53f0"},type:{rules:[{required:!0},{format:"string"},{range:[{value:"native_app",text:"\u539f\u751fApp\u5b89\u88c5\u5305"},{value:"wgt",text:"wgt\u8d44\u6e90\u5305"}]}],label:"\u5b89\u88c5\u5305\u7c7b\u578b"},version:{rules:[{required:!0},{format:"string"}],label:"\u7248\u672c\u53f7"},min_uni_version:{rules:[{format:"string"}],label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c"},url:{rules:[{required:!0},{format:"string"}],label:"\u94fe\u63a5"},stable_publish:{rules:[{format:"bool"}],label:"\u4e0a\u7ebf\u53d1\u884c"},create_date:{rules:[{format:"timestamp"}],label:"\u4e0a\u4f20\u65f6\u95f4"},is_silently:{rules:[{format:"bool"}],label:"\u9759\u9ed8\u66f4\u65b0",defaultValue:!1},is_mandatory:{rules:[{format:"bool"}],label:"\u5f3a\u5236\u66f4\u65b0",defaultValue:!1},store_list:{rules:[{format:"array"}],label:"\u5e94\u7528\u5e02\u573a"}};e.validator=i;var a={platform_valuetotext:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}],type_valuetotext:{native_app:"\u539f\u751fApp\u5b89\u88c5\u5305",wgt:"wgt\u8d44\u6e90\u5305"}};e.enumConverter=a},"51b2":function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createAnimation=h;var u=function(){function t(e,n){o(this,t),this.options=e,this.animation=uni.createAnimation(e),this.currentStepAnimates={},this.next=0,this.$=n}return l(t,[{key:"_nvuePushAnimates",value:function(t,e){var n=this.currentStepAnimates[this.next],i={};if(i=n||{styles:{},config:{}},c.includes(t)){i.styles.transform||(i.styles.transform="");var a="";"rotate"===t&&(a="deg"),i.styles.transform+="".concat(t,"(").concat(e+a,") ")}else i.styles[t]="".concat(e);this.currentStepAnimates[this.next]=i}},{key:"_animateRun",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.$.$refs["ani"].ref;if(n)return new Promise((function(i,r){nvueAnimation.transition(n,a({styles:t},e),(function(t){i()}))}))}},{key:"_nvueNextAnimate",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,a=t[n];if(a){var r=a.styles,o=a.config;this._animateRun(r,o).then((function(){n+=1,e._nvueNextAnimate(t,n,i)}))}else this.currentStepAnimates={},"function"===typeof i&&i(),this.isEnd=!0}},{key:"step",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.animation.step(t),this}},{key:"run",value:function(t){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((function(){"function"===typeof t&&t()}),this.$.durationTime)}}]),t}(),c=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],d=["opacity","backgroundColor"],f=["width","height","left","right","top","bottom"];function h(t,e){if(e)return clearTimeout(e.timer),new u(t,e)}c.concat(d,f).forEach((function(t){u.prototype[t]=function(){var e;return(e=this.animation)[t].apply(e,arguments),this}}))},"52fd":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"53d4":function(t,e,n){"use strict";n.r(e);var i=n("ea83"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"551d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("44e0");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l="last_login_date desc",u=["username","role.role_name","mobile","email"],c=20,d=1,f={ascending:"asc",descending:"desc"},h={data:function(){return{query:"",where:"",orderby:l,orderByFieldName:"",selectedIndexs:[],pageSizeIndex:0,pageSizeOption:[20,50,100,500],tags:{},managerTags:[],queryTagid:"",options:r({pageSize:c,pageCurrent:d,filterData:{status_localdata:[{text:"\u6b63\u5e38",value:0,checked:!0},{text:"\u7981\u7528",value:1},{text:"\u5ba1\u6838\u4e2d",value:2},{text:"\u5ba1\u6838\u62d2\u7edd",value:3}]}},i.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-users.xls",type:"xls",fields:{"\u7528\u6237\u540d":"username","\u624b\u673a\u53f7\u7801":"mobile","\u7528\u6237\u72b6\u6001":"status","\u90ae\u7bb1":"email","\u89d2\u8272":"role",last_login_date:"last_login_date"}},exportExcelData:[],noAppidWhatShouldIDoLink:"https://uniapp.dcloud.net.cn/uniCloud/uni-id?id=makeup-dcloud-appid"}},onLoad:function(t){this._filter={};var e=t.tagid;if(e){this.queryTagid=e;var n={filterType:"select",filter:[e]};this.filterChange(n,"tags")}},onReady:function(){this.loadTags(),this.queryTagid||this.$refs.udb.loadData()},computed:{tagsData:function(){var t=[];for(var e in this.tags){var n={value:e,text:this.tags[e]};e===this.queryTagid&&(n.checked=!0),t.push(n)}return t}},methods:{onqueryload:function(t){for(var e=this,n=0;n<t.length;n++){var i=t[n],a=i.role.map((function(t){return t.role_name}));i.role=a.join("\u3001");var r=i.tags&&i.tags.map((function(t){return e.tags[t]}));i.tags=r,Array.isArray(i.dcloud_appid)&&(i.dcloud_appid=i.dcloud_appid.join("\u3001")),i.last_login_date=this.$formatDate(i.last_login_date)}this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},openTagsPopup:function(){this.$refs.tagsPopup.open()},closeTagsPopup:function(){this.$refs.tagsPopup.close()},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return u.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var n=this;uni.navigateTo({url:t,events:{refreshData:function(){n.loadTags(),n.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var n=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+f[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){n.$refs.udb.loadData()}))},filterChange:function(t,e){var n=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,i.filterToWhere)(this._filter,s.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){n.$refs.udb.loadData()}))},loadTags:function(){var t=this;s.collection("uni-id-tag").limit(500).get().then((function(e){e.result.data.map((function(e){t.tags[e.tagid]=e.name}))})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},managerMultiTag:function(t){var e=this,n=this.selectedItems(),i={type:t,ids:n,value:this.managerTags};this.$request("managerMultiTag",i,{functionName:"uni-id-cf"}).then((function(t){uni.showToast({title:"\u4fee\u6539\u6807\u7b7e\u6210\u529f",duration:2e3}),e.$refs.table.clearSelection(),e.managerTags=[],e.loadData(),e.closeTagsPopup()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()}))}}};e.default=h}).call(this,n("a9ff")["default"])},5596:function(t,e,n){"use strict";n.r(e);var i=n("ebfe"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"562c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniMenuSidebar:n("4a2c").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-nav-menu"),style:t._$s(0,"s",{"background-color":t.backgroundColor}),attrs:{_i:0}},[t._t("default",[n("uni-menu-sidebar",{attrs:{data:t.data,_i:2}})],{_i:1})],2)},r=[]},5639:function(t,e,n){"use strict";n.r(e);var i=n("1673"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"56ad":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,uniIcons:n("bb8e").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-m"),attrs:{_i:15}},[n("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[n("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.fields,tooltip:!0,_i:17},model:{value:t._$s(17,"v-model",t.field),callback:function(e){t.field=e},expression:"field"}})],1),n("uni-stat-tabs",{staticClass:t._$s(18,"sc","mb-l"),attrs:{type:"box",tabs:t.keys,_i:18},model:{value:t._$s(18,"v-model",t.key),callback:function(e){t.key=e},expression:"key"}}),n("view",{staticClass:t._$s(19,"sc","p-m"),attrs:{_i:19}},[n("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:21}})],1)])],1),n("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[n("view",{staticClass:t._$s(23,"sc","uni-tips mb-s flex"),attrs:{_i:23}},[n("uni-icons",{attrs:{type:"info",_i:24}})],1),n("uni-table",{attrs:{loading:t.loading,stripe:!0,emptyText:t.$t("common.empty"),_i:25}},[n("uni-tr",{attrs:{_i:26}},[t._l(t._$s(27,"f",{forItems:t.fieldsMap}),(function(e,i,a,r){return[t._$s("28-"+r,"i",e.title)?n("uni-th",{key:t._$s(27,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(29,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(29,"f",{forIndex:a,key:i}),attrs:{_i:"29-"+r}},[t._l(t._$s("30-"+r,"f",{forItems:t.fieldsMap}),(function(i,a,o,s){return[t._$s("31-"+r+"-"+s,"i",i.title)?n("uni-td",{key:t._$s("30-"+r,"f",{forIndex:o,keyIndex:0,key:a}),class:t._$s("31-"+r+"-"+s,"c",/[d|w|m]_\d/.test(i.field)&&[e[i.field]?"uni-stat-table-bg":""]),attrs:{align:"center",_i:"31-"+r+"-"+s}},[t._v(t._$s("31-"+r+"-"+s,"t0-0",t._s(e[i.field]?e[i.field]:"")))]):t._e()]}))],2)}))],2),n("view",{staticClass:t._$s(32,"sc","uni-pagination-box"),attrs:{_i:32}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:33},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("fix-window",{attrs:{_i:34}})],1)},r=[]},"578b":function(t,e,n){"use strict";n.r(e);var i=n("e471"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"57a4":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-menu-item"),class:t._$s(0,"c",{"is-active":t.active,"is-disabled":t.disabled}),style:t._$s(0,"s",{paddingLeft:t.paddingLeft,color:t.disabled?"#999":t.active?t.activeTextColor:t.textColor,"background-color":t.active?t.activeBackgroundColor:""}),attrs:{_i:0},on:{click:t.onClickItem}},[t._t("default",null,{_i:1})],2)},r=[]},"57e2":function(t,e,n){"use strict";function i(t,e){return o(t)||r(t,e)||l(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function o(t){if(Array.isArray(t))return t}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.filterToWhere=f,e.enumConverter=e.validator=void 0;var c={appid:{rules:[{format:"string"}]},version:{rules:[{format:"string"}]},platform:{rules:[{format:"string"}]},channel:{rules:[{format:"string"}]},sdk_version:{rules:[{format:"string"}]},device_id:{rules:[{format:"string"}]},device_net:{rules:[{format:"string"}]},device_os:{rules:[{format:"string"}]},device_os_version:{rules:[{format:"string"}]},device_vendor:{rules:[{format:"string"}]},device_model:{rules:[{format:"string"}]},device_is_root:{rules:[{format:"int"}]},device_os_name:{rules:[{format:"string"}]},device_batt_level:{rules:[{format:"int"}]},device_batt_temp:{rules:[{format:"string"}]},device_memory_use_size:{rules:[{format:"int"}]},device_memory_total_size:{rules:[{format:"int"}]},device_disk_use_size:{rules:[{format:"int"}]},device_disk_total_size:{rules:[{format:"int"}]},device_abis:{rules:[{format:"string"}]},app_count:{rules:[{format:"int"}]},app_use_memory_size:{rules:[{format:"int"}]},app_webview_count:{rules:[{format:"int"}]},app_use_duration:{rules:[{format:"int"}]},app_run_fore:{rules:[{format:"int"}]},package_name:{rules:[{format:"string"}]},package_version:{rules:[{format:"string"}]},page_url:{rules:[{format:"string"}]},error_msg:{rules:[{format:"string"}]},create_time:{rules:[{format:"timestamp"}]}};e.validator=c;var d={};function f(t,e){var n={};for(var a in t){var r=t[a],o=r.type,l=r.value;switch(o){case"search":"string"===typeof l&&l.length&&(n[a]=new RegExp(l));break;case"select":if(l.length){var u,c=[],d=s(l);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.push(e.eq(f))}}catch($){d.e($)}finally{d.f()}n[a]=e.or(c)}break;case"range":if(l.length){var h=l[0],p=l[1];n[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(l.length){var m=i(l,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);n[a]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(l.length){var b=i(l,2),x=b[0],w=b[1];n[a]=e.and([e.gte(x),e.lte(w)])}break}}return n}e.enumConverter=d},"581c":function(t,e,n){"use strict";n.r(e);var i=n("332c"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"58df":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-tooltip",data:function(){return{}},props:{content:{type:String,default:""},placement:{type:String,default:"bottom"}}};e.default=i},"590c":function(t,e,n){"use strict";n.r(e);var i=n("bd18"),a=n("e55d");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"596a":function(t,e,n){"use strict";n.r(e);var i=n("ae4b"),a=n("750a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"59f8":function(t,e,n){"use strict";n.r(e);var i=n("f93e"),a=n("d3fc");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"5a06":function(t,e,n){"use strict";n.r(e);var i=n("d4f8"),a=n("9af0");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"5a48":function(t,e,n){"use strict";n.r(e);var i=n("1f28"),a=n("578b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"6b39400e",null,!1,i["a"],o);e["default"]=l.exports},"5a6b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.request=l,e.initRequest=c;var i=r(n("7512")),a=r(n("0953"));function r(t){return t&&t.__esModule?t:{default:t}}a.default.navBar.debug;var o=t.database(),s=!0;function l(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.functionName,o=void 0===r?"uni-id-cf":r,s=a.showModal,l=void 0===s||s;return t.callFunction({name:o,data:{action:e,params:n}}).then((function(t){var e=t.result;if(!e)return Promise.resolve(e);if(e.code){u(e.code);var n=e;return Promise.reject(n)}var a=e.token,r=e.tokenExpired;return a&&r&&i.default.commit("user/SET_TOKEN",{token:a,tokenExpired:r}),Promise.resolve(e)})).catch((function(t){return l&&uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1}),Promise.reject(t)}))}function u(t){(30202===t||"string"===typeof t&&0===t.indexOf("TOKEN_INVALID"))&&uni.reLaunch({url:a.default.login.url})}function c(t){t.prototype.$request=l}o.catch((function(t){s=!1})),setTimeout((function(){s&&o.on("refreshToken",(function(t){var e=t.token,n=t.tokenExpired;i.default.commit("user/SET_TOKEN",{token:e,tokenExpired:n})})),s&&o.on("error",(function(t){var e=t.code;t.message;u(e)}))}),16)}).call(this,n("a9ff")["default"])},"5af0":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,uniStatTable:n("4a21").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-l"),attrs:{_i:15}},[n("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[n("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.types,_i:17},model:{value:t._$s(17,"v-model",t.type),callback:function(e){t.type=e},expression:"type"}})],1),n("view",{staticClass:t._$s(18,"sc","p-m"),attrs:{_i:18}},[n("view",{staticClass:t._$s(19,"sc","uni-charts-box"),attrs:{_i:19}},[n("qiun-data-charts",{attrs:{type:"pie",chartData:t.chartData,echartsH5:!0,echartsApp:!0,_i:20}})],1)])]),n("view",{staticClass:t._$s(21,"sc","uni-stat--x p-m"),attrs:{_i:21}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:22}})],1)]),n("fix-window",{attrs:{_i:23}})],1)},r=[]},"5c3b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-stat-select",mixins:[t.mixinDatacom||{}],data:function(){return{showSelector:!1,current:"",mixinDatacomResData:[],apps:[],channels:[]}},props:{localdata:{type:Array,default:function(){return[]}},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:"\u8bf7\u9009\u62e9"},emptyTips:{type:String,default:"\u65e0\u9009\u9879"},clear:{type:Boolean,default:!0},defItem:{type:Number,default:0}},created:function(){this.last="".concat(this.collection,"_last_selected_option_value"),this.collection&&!this.localdata.length&&this.mixinDatacomEasyGet()},computed:{typePlaceholder:function(){var t={"opendb-app-versions":"\u7248\u672c","opendb-app-channels":"\u6e20\u9053","opendb-app-list":"\u5e94\u7528"},e="\u8bf7\u9009\u62e9",n=t[this.collection];return n?e+n:e}},watch:{where:function(t){this.mixinDatacomEasyGet()},localdata:{immediate:!0,handler:function(t,e){Array.isArray(t)&&(this.mixinDatacomResData=t)}},value:function(){this.initDefVal()},mixinDatacomResData:{immediate:!0,handler:function(t){t.length&&this.initDefVal()}}},methods:{initDefVal:function(){var t="";if(!this.value&&0!==this.value||this.isDisabled(this.value))if(!this.modelValue&&0!==this.modelValue||this.isDisabled(this.modelValue)){var e;if(this.collection&&(e=uni.getStorageSync(this.last)),e||0===e)t=e;else{var n="";this.defItem>0&&this.defItem<this.mixinDatacomResData.length&&(n=this.mixinDatacomResData[this.defItem-1].value),t=n}this.emit(t)}else t=this.modelValue;else t=this.value;var i=this.mixinDatacomResData.find((function(e){return e.value===t}));this.current=i?this.formatItemName(i):""},isDisabled:function(t){var e=!1;return this.mixinDatacomResData.forEach((function(n){n.value===t&&(e=n.disable)})),e},clearVal:function(){this.emit(""),this.collection&&uni.removeStorageSync(this.last)},change:function(t){t.disable||(this.showSelector=!1,this.current=this.formatItemName(t),this.emit(t.value))},emit:function(t){this.$emit("change",t),this.$emit("input",t),this.$emit("update:modelValue",t),this.collection&&uni.setStorageSync(this.last,t)},toggleSelector:function(){this.showSelector=!this.showSelector},formatItemName:function(t){var e=t.text,n=t.value,i=t.channel_code;return i=i?"(".concat(i,")"):"",this.collection.indexOf("app-list")>0?"".concat(e,"(").concat(n,")"):e||"\u672a\u547d\u540d".concat(i)}}};e.default=n}).call(this,n("a9ff")["default"])},"5c49":function(t,e,n){"use strict";n.r(e);var i=n("616b"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"5d37":function(t,e,n){"use strict";n.r(e);var i=n("1434"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"5d61":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-file-picker"),attrs:{_i:0}},[t._$s(1,"i",t.title)?n("view",{staticClass:t._$s(1,"sc","uni-file-picker__header"),attrs:{_i:1}},[n("text",{staticClass:t._$s(2,"sc","file-title"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.title)))]),n("text",{staticClass:t._$s(3,"sc","file-count"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.filesList.length))+t._$s(3,"t0-1",t._s(t.limitLength)))])]):t._e(),t._$s(4,"i","image"===t.fileMediatype&&"grid"===t.showType)?n("upload-image",{attrs:{readonly:t.readonly,"image-styles":t.imageStyles,"files-list":t.filesList,limit:t.limitLength,disablePreview:t.disablePreview,delIcon:t.delIcon,_i:4},on:{uploadFiles:t.uploadFiles,choose:t.choose,delFile:t.delFile}},[t._t("default",[n("view",{staticClass:t._$s(6,"sc","is-add"),attrs:{_i:6}},[n("view",{staticClass:t._$s(7,"sc","icon-add"),attrs:{_i:7}}),n("view",{staticClass:t._$s(8,"sc","icon-add rotate"),attrs:{_i:8}})])],{_i:5})],2):t._e(),t._$s(9,"i","image"!==t.fileMediatype||"grid"!==t.showType)?n("upload-file",{attrs:{readonly:t.readonly,"list-styles":t.listStyles,"files-list":t.filesList,showType:t.showType,delIcon:t.delIcon,_i:9},on:{uploadFiles:t.uploadFiles,choose:t.choose,delFile:t.delFile}},[t._t("default",[n("button",{})],{_i:10})],2):t._e()],1)},r=[]},"5d9c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={options:{virtualHost:!0},props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{uniBreadcrumb:this}}};e.default=i},"5f9b":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("updatePwd.text.title"))))])])]),n("view",{staticClass:t._$s(4,"sc","uni-container"),attrs:{_i:4}},[n("uni-forms",{ref:"resetPwdForm",attrs:{rules:t.rules,_i:5},on:{submit:t.submit},model:{value:t._$s(5,"v-model",t.password),callback:function(e){t.password=e},expression:"password"}},[n("uni-forms-item",{attrs:{label:t.$t("updatePwd.field.oldPassword"),name:"oldPassword",labelWidth:"85",_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password.oldPassword,expression:"password.oldPassword"}],staticClass:t._$s(7,"sc","uni-input-border"),attrs:{placeholder:t._$s(7,"a-placeholder",t.$t("updatePwd.field.oldPassword")),_i:7},domProps:{value:t._$s(7,"v-model",t.password.oldPassword)},on:{input:function(e){e.target.composing||t.$set(t.password,"oldPassword",e.target.value)}}})]),n("uni-forms-item",{attrs:{label:t.$t("updatePwd.field.newPassword"),name:"newPassword",labelWidth:"85",_i:8}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password.newPassword,expression:"password.newPassword"}],staticClass:t._$s(9,"sc","uni-input-border"),attrs:{password:t._$s(9,"a-password",t.showPassword),placeholder:t._$s(9,"a-placeholder",t.$t("updatePwd.field.newPassword")),_i:9},domProps:{value:t._$s(9,"v-model",t.password.newPassword)},on:{input:function(e){e.target.composing||t.$set(t.password,"newPassword",e.target.value)}}})]),n("uni-forms-item",{attrs:{label:t.$t("updatePwd.field.passwordConfirmation"),name:"passwordConfirmation",labelWidth:"85",errorMessage:t.errorMessage,_i:10}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password.passwordConfirmation,expression:"password.passwordConfirmation"}],staticClass:t._$s(11,"sc","uni-input-border"),attrs:{password:t._$s(11,"a-password",t.showPasswordAgain),placeholder:t._$s(11,"a-placeholder",t.$t("updatePwd.field.passwordConfirmation")),_i:11},domProps:{value:t._$s(11,"v-model",t.password.passwordConfirmation)},on:{confirm:t.submitForm,input:function(e){e.target.composing||t.$set(t.password,"passwordConfirmation",e.target.value)}}})]),n("view",{staticClass:t._$s(12,"sc","uni-button-group pointer"),attrs:{_i:12}},[n("button",{staticClass:t._$s(13,"sc","uni-button uni-button-full"),attrs:{disabled:t._$s(13,"a-disabled",t.isLoading),_i:13},on:{click:t.submitForm}},[t._v(t._$s(13,"t0-0",t._s(t.$t("updatePwd.button.save"))))]),t._$s(14,"i",t.hasBackButton)?n("button",{staticClass:t._$s(14,"sc","uni-button login-button-width"),attrs:{disabled:t._$s(14,"a-disabled",t.isLoading),_i:14},on:{click:t.back}},[t._v(t._$s(14,"t0-0",t._s(t.$t("updatePwd.button.back"))))]):t._e()])],1)],1)])},r=[]},"60ab":function(t,e,n){"use strict";n.r(e);var i=n("5043"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"614d":function(t,e,n){"use strict";n.r(e);var i=n("2267"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},6169:function(t,e,n){"use strict";n.r(e);var i=n("4321"),a=n("8af5");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"616b":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("fe19"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){return h(t)||f(t,e)||c(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function h(t){if(Array.isArray(t))return t}var p={data:function(){return{fieldsMap:r.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,currentDimensionTab:0,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_user_count",channelData:[],tabName:"\u65b0\u589e\u7528\u6237"}},computed:{chartTabs:function(){var t=[];return r.default.forEach((function(e){var n=e.field,i=e.title,a=e.hasOwnProperty("value");n&&i&&a&&t.push({_id:n,name:i})})),t},dimensionTabs:function(){var t=[{_id:"hour",name:"\u6309\u65f6"},{_id:"day",name:"\u6309\u65e5"},{_id:"week",name:"\u6309\u5468"},{_id:"month",name:"\u6309\u6708"}];return this.getDays()?(this.query.dimension="day",t.forEach((function(t,e){"hour"===t._id?t.disabled=!0:t.disabled=!1})),this.currentDimensionTab=1):(this.query.dimension="hour",t.forEach((function(t,e){"hour"===t._id?t.disabled=!1:t.disabled=!0})),this.currentDimensionTab=0),t},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},methods:{getDays:function(){if(!this.query.start_time.length)return!0;var t=864e5,e=l(this.query.start_time,2),n=e[0],i=e[1],a=i-n>=t;return a},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,i.code,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n,i,r=864e5;n=(0,a.getTimeOfSomeDayAgo)(t),i=t?(0,a.getTimeOfSomeDayAgo)(0)-1:(0,a.getTimeOfSomeDayAgo)(0)+r-1,this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.getTabelData(this.query)},changeChartTab:function(t,e,n){this.tabName=n,this.getChartData(this.query,t,n)},getAllData:function(t){this.getPanelData(),this.getChartData(t,this.chartTab,this.tabName),this.getTabelData(t)},getChartData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTab,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65b0\u589e\u7528\u6237";t=(0,a.stringifyQuery)(t,!0,["uni_platform"]);var l=this.query.dimension,u=i.database();u.collection("uni-stat-result").where(t).field("".concat((0,a.stringifyField)(r.default,n),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default,n)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var i=t.result,u=(i.count,i.data),c={categories:[],series:[{name:o,data:[]}]},d=r.default.filter((function(t){return t.field===n}));d=JSON.parse(JSON.stringify(d)),delete d[0].value,d[0].formatter="";var f,h=s(u);try{for(h.s();!(f=h.n()).done;){var p=f.value;(0,a.mapfields)(d,p,p);var m=(0,a.formatDate)(p.start_time,l),_=p[n];c.series[0].data.push(_),c.categories.push(m)}}catch(g){h.e(g)}finally{h.f()}e.chartData=c})).catch((function(t){})).finally((function(){e.loading=!1}))},getTabelData:function(t){var e=this,n=this.options.pageCurrent;t=(0,a.stringifyQuery)(t,!0,["uni_platform"]),this.options.pageCurrent=1,this.loading=!0;var o=i.database();o.collection("uni-stat-result").where(t).field((0,a.stringifyField)(r.default)).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default)).orderBy("start_time","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var n,i=t.result,o=i.count,l=i.data,u=s(l);try{for(u.s();!(n=u.n()).done;){var c=n.value,d=c.start_time;if(d){var f=e.query.dimension;c.start_time=(0,a.formatDate)(d,f)}(0,a.mapfields)(r.default,c,c)}}catch(h){u.e(h)}finally{u.f()}e.tableData=[],e.options.total=o,e.tableData=l})).catch((function(t){})).finally((function(){e.loading=!1}))},getPanelData:function(){var t=this,e=JSON.parse(JSON.stringify(this.query));e.dimension="day";var n=(0,a.stringifyQuery)(e,null,["uni_platform"]),o=i.database();o.collection("uni-stat-result").where(n).field("".concat((0,a.stringifyField)(r.default),",stat_date")).groupBy("appid").groupField((0,a.stringifyGroupField)(r.default)).orderBy("stat_date","desc").get().then((function(e){var i=e.result.data[0];i&&(i.total_users=0),t.panelData=[],t.panelData=(0,a.mapfields)(r.default,i),a.getFieldTotal.call(t,n,"total_users")}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(t,e){var n=this;this.query.channel_id="";var a=i.database(),r={};t=t||this.query.appid,t&&(r.appid=t),e=e||this.query.platform_id,e&&(r.platform_id=e);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,a=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),a.push({value:i[r]._id,text:e});n.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=p}).call(this,n("0de9")["default"],n("a9ff")["default"])},"61ca":function(t,e,n){"use strict";n.r(e);var i=n("154e"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},6201:function(t,e,n){"use strict";n.r(e);var i=n("88be"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},6278:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[t._$s(1,"i",1==t.loadingType)?n("Loading1",{attrs:{_i:1}}):t._e(),t._$s(2,"i",2==t.loadingType)?n("Loading2",{attrs:{_i:2}}):t._e(),t._$s(3,"i",3==t.loadingType)?n("Loading3",{attrs:{_i:3}}):t._e(),t._$s(4,"i",4==t.loadingType)?n("Loading4",{attrs:{_i:4}}):t._e(),t._$s(5,"i",5==t.loadingType)?n("Loading5",{attrs:{_i:5}}):t._e()],1)},r=[]},"62af":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(n("ee3b"));var a=o(n("a43a")),r=o(n("3ba2"));function o(t){return t&&t.__esModule?t:{default:t}}function s(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var a in n)for(var r in n[a])n[a].hasOwnProperty(r)&&(t[r]=n[a][r]&&"object"===typeof n[a][r]?s(Array.isArray(n[a][r])?[]:{},t[r],n[a][r]):n[a][r]);return t}function l(t,e){for(var n in t)null!==t[n]&&"object"===typeof t[n]?l(t[n],e):"format"===n&&"string"===typeof t[n]&&(t["formatter"]=e[t[n]]?e[t[n]]:void 0);return t}function u(t){var e="-",n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();i>=1&&i<=9&&(i="0"+i),a>=0&&a<=9&&(a="0"+a);var r=n+e+i+e+a;return r}var c={name:"qiun-data-charts",mixins:[t.mixinDatacom],props:{type:{type:String,default:null},canvasId:{type:String,default:"uchartsid"},canvas2d:{type:Boolean,default:!1},background:{type:String,default:"rgba(0,0,0,0)"},animation:{type:Boolean,default:!0},chartData:{type:Object,default:function(){return{categories:[],series:[]}}},opts:{type:Object,default:function(){return{}}},eopts:{type:Object,default:function(){return{}}},loadingType:{type:Number,default:2},errorShow:{type:Boolean,default:!0},errorReload:{type:Boolean,default:!0},errorMessage:{type:String,default:null},inScrollView:{type:Boolean,default:!1},reshow:{type:Boolean,default:!1},reload:{type:Boolean,default:!1},disableScroll:{type:Boolean,default:!1},ontap:{type:Boolean,default:!0},ontouch:{type:Boolean,default:!1},onmouse:{type:Boolean,default:!0},onmovetip:{type:Boolean,default:!1},echartsH5:{type:Boolean,default:!1},echartsApp:{type:Boolean,default:!1},tooltipShow:{type:Boolean,default:!0},tooltipFormat:{type:String,default:void 0},tooltipCustom:{type:Object,default:void 0},startDate:{type:String,default:void 0},endDate:{type:String,default:void 0},textEnum:{type:Array,default:function(){return[]}},groupEnum:{type:Array,default:function(){return[]}},pageScrollTop:{type:Number,default:0},directory:{type:String,default:"/"},tapLegend:{type:Boolean,default:!0},menus:{type:Array,default:function(){return[]}}},data:function(){return{cid:"uchartsid",inWx:!1,inAli:!1,inTt:!1,inBd:!1,inH5:!1,inApp:!1,inWin:!1,type2d:!0,disScroll:!1,openmouse:!1,pixel:1,cWidth:375,cHeight:250,showchart:!1,echarts:!1,echartsResize:!1,uchartsOpts:{},echartsOpts:{},drawData:{},lastDrawTime:null}},created:function(){if(this.cid=this.canvasId,"uchartsid"==this.canvasId||""==this.canvasId){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e=t.length,n="",i=0;i<32;i++)n+=t.charAt(Math.floor(Math.random()*e));this.cid=n}var a=uni.getSystemInfoSync();"windows"!==a.platform&&"mac"!==a.platform||(this.inWin=!0),this.type2d=!1,this.disScroll=this.disableScroll},mounted:function(){var t=this;this.inApp=!0,!0===this.echartsApp&&(this.echarts=!0,this.openmouse=!1),this.$nextTick((function(){t.beforeInit()}))},destroyed:function(){!0===this.echarts?(delete r.default.option[this.cid],delete r.default.instance[this.cid]):(delete a.default.option[this.cid],delete a.default.instance[this.cid]),uni.offWindowResize((function(){}))},watch:{chartDataProps:{handler:function(t,e){"object"===typeof t?JSON.stringify(t)!==JSON.stringify(e)&&(t.series&&t.series.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage=null)):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1achartData\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},localdata:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(t.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage=null))},immediate:!1,deep:!0},optsProps:{handler:function(t,e){"object"===typeof t?JSON.stringify(t)!==JSON.stringify(e)&&!1===this.echarts&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},eoptsProps:{handler:function(t,e){"object"===typeof t?JSON.stringify(t)!==JSON.stringify(e)&&!0===this.echarts&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aeopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},reshow:function(t,e){var n=this;!0===t&&!1===this.mixinDatacomLoading&&setTimeout((function(){n.mixinDatacomErrorMessage=null,n.echartsResize=!n.echartsResize,n.checkData(n.drawData)}),200)},reload:function(t,e){!0===t&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())},mixinDatacomErrorMessage:function(t,e){t&&(this.emitMsg({name:"error",params:{type:"error",errorShow:this.errorShow,msg:t,id:this.cid}}),this.errorShow)},errorMessage:function(t,e){t&&this.errorShow&&null!==t&&"null"!==t&&""!==t?(this.showchart=!1,this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=t):(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())}},computed:{optsProps:function(){return JSON.parse(JSON.stringify(this.opts))},eoptsProps:function(){return JSON.parse(JSON.stringify(this.eopts))},chartDataProps:function(){return JSON.parse(JSON.stringify(this.chartData))}},methods:{beforeInit:function(){this.mixinDatacomErrorMessage=null,"object"===typeof this.chartData&&null!=this.chartData&&void 0!==this.chartData.series&&this.chartData.series.length>0?(this.drawData=s({},this.chartData),this.mixinDatacomLoading=!1,this.showchart=!0,this.checkData(this.chartData)):this.localdata.length>0?(this.mixinDatacomLoading=!1,this.showchart=!0,this.localdataInit(this.localdata)):""!==this.collection?(this.mixinDatacomLoading=!1,this.getCloudData()):this.mixinDatacomLoading=!0},localdataInit:function(t){if(this.groupEnum.length>0)for(var e=0;e<t.length;e++)for(var n=0;n<this.groupEnum.length;n++)t[e].group===this.groupEnum[n].value&&(t[e].group=this.groupEnum[n].text);if(this.textEnum.length>0)for(var i=0;i<t.length;i++)for(var o=0;o<this.textEnum.length;o++)t[i].text===this.textEnum[o].value&&(t[i].text=this.textEnum[o].text);var l=!1,c={categories:[],series:[]},d=[],f=[];if(l=!0===this.echarts?r.default.categories.includes(this.type):a.default.categories.includes(this.type),!0===l){if(this.chartData&&this.chartData.categories&&this.chartData.categories.length>0)d=this.chartData.categories;else if(this.startDate&&this.endDate){var h=new Date(this.startDate),p=new Date(this.endDate);while(h<=p)d.push(u(h)),h=h.setDate(h.getDate()+1),h=new Date(h)}else{var m={};t.map((function(t,e){void 0==t.text||m[t.text]||(d.push(t.text),m[t.text]=!0)}))}c.categories=d}var _={};if(t.map((function(t,e){void 0==t.group||_[t.group]||(f.push({name:t.group,data:[]}),_[t.group]=!0)})),0==f.length)if(f=[{name:"\u9ed8\u8ba4\u5206\u7ec4",data:[]}],!0===l)for(var g=0;g<d.length;g++){for(var v=0,y=0;y<t.length;y++)t[y].text==d[g]&&(v=t[y].value);f[0].data.push(v)}else for(var b=0;b<t.length;b++)f[0].data.push({name:t[b].text,value:t[b].value});else for(var x=0;x<f.length;x++)if(d.length>0)for(var w=0;w<d.length;w++){for(var $=0,k=0;k<t.length;k++)f[x].name==t[k].group&&t[k].text==d[w]&&($=t[k].value);f[x].data.push($)}else for(var C=0;C<t.length;C++)f[x].name==t[C].group&&f[x].data.push(t[C].value);c.series=f,this.drawData=s({},c),this.checkData(c)},reloading:function(){!1!==this.errorReload&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,""!==this.collection?(this.mixinDatacomLoading=!1,this.onMixinDatacomPropsChange(!0)):this.beforeInit())},checkData:function(t){var e=this,n=this.cid;!0===this.echarts?(r.default.option[n]=s({},this.eopts),r.default.option[n].id=n,r.default.option[n].type=this.type):this.type&&a.default.type.includes(this.type)?(a.default.option[n]=s({},a.default[this.type],this.opts),a.default.option[n].canvasId=n):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aprops\u53c2\u6570\u4e2dtype\u7c7b\u578b\u4e0d\u6b63\u786e");var i=s({},t);void 0!==i.series&&i.series.length>0&&(this.mixinDatacomErrorMessage=null,!0===this.echarts?(r.default.option[n].chartData=i,this.$nextTick((function(){e.init()}))):(a.default.option[n].categories=i.categories,a.default.option[n].series=i.series,this.$nextTick((function(){e.init()}))))},resizeHandler:function(){var t=this,e=Date.now(),n=this.lastDrawTime?this.lastDrawTime:e-3e3,i=e-n;if(!(i<1e3))uni.createSelectorQuery().in(this).select("#ChartBoxId"+this.cid).boundingClientRect((function(e){t.showchart=!0,e.width>0&&e.height>0&&(e.width===t.cWidth&&e.height===t.cHeight||t.checkData(t.drawData))})).exec()},getCloudData:function(){var t=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,t.localdataInit(t.mixinDatacomResData)})).catch((function(e){t.mixinDatacomLoading=!1,t.showchart=!1,t.mixinDatacomErrorMessage="\u8bf7\u6c42\u9519\u8bef\uff1a"+e})))},onMixinDatacomPropsChange:function(t,e){1==t&&""!==this.collection&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this._clearChart(),this.getCloudData())},_clearChart:function(){var t=this.cid;if(!0!==this.echrts){var e=uni.createCanvasContext(t,this);e.clearRect(0,0,this.cWidth,this.cHeight),e.draw()}},init:function(){var t=this,e=this.cid;uni.createSelectorQuery().in(this).select("#ChartBoxId"+e).boundingClientRect((function(n){n.width>0&&n.height>0?(t.mixinDatacomLoading=!1,t.showchart=!0,t.lastDrawTime=Date.now(),t.cWidth=n.width,t.cHeight=n.height,!0!==t.echarts&&(a.default.option[e].background="rgba(0,0,0,0)"==t.background?"#FFFFFF":t.background,a.default.option[e].canvas2d=t.type2d,a.default.option[e].pixelRatio=t.pixel,a.default.option[e].animation=t.animation,a.default.option[e].width=n.width*t.pixel,a.default.option[e].height=n.height*t.pixel,a.default.option[e].ontap=t.ontap,a.default.option[e].ontouch=t.ontouch,a.default.option[e].onmouse=t.openmouse,a.default.option[e].onmovetip=t.onmovetip,a.default.option[e].tooltipShow=t.tooltipShow,a.default.option[e].tooltipFormat=t.tooltipFormat,a.default.option[e].tooltipCustom=t.tooltipCustom,a.default.option[e].inScrollView=t.inScrollView,a.default.option[e].lastDrawTime=t.lastDrawTime,a.default.option[e].tapLegend=t.tapLegend),t.inH5||t.inApp?1==t.echarts?(r.default.option[e].ontap=t.ontap,r.default.option[e].onmouse=t.openmouse,r.default.option[e].tooltipShow=t.tooltipShow,r.default.option[e].tooltipFormat=t.tooltipFormat,r.default.option[e].tooltipCustom=t.tooltipCustom,r.default.option[e].lastDrawTime=t.lastDrawTime,t.echartsOpts=s({},r.default.option[e])):(a.default.option[e].rotateLock=a.default.option[e].rotate,t.uchartsOpts=s({},a.default.option[e])):(a.default.option[e]=l(a.default.option[e],a.default.formatter),t.mixinDatacomErrorMessage=null,t.mixinDatacomLoading=!1,t.showchart=!0,t.$nextTick((function(){if(!0===t.type2d){var i=uni.createSelectorQuery().in(t);i.select("#"+e).fields({node:!0,size:!0}).exec((function(i){if(i[0]){var r=i[0].node,o=r.getContext("2d");a.default.option[e].context=o,r.width=n.width*t.pixel,r.height=n.height*t.pixel,r._width=n.width*t.pixel,r._height=n.height*t.pixel,a.default.option[e].rotateLock=a.default.option[e].rotate,a.default.instance[e]&&a.default.option[e]&&!0===a.default.option[e].update?t._updataUChart(e):setTimeout((function(){a.default.option[e].context.restore(),a.default.option[e].context.save(),t._newChart(e)}),100)}else t.showchart=!1,t.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1a\u5f00\u542f2d\u6a21\u5f0f\u540e\uff0c\u672a\u83b7\u53d6\u5230dom\u8282\u70b9\uff0ccanvas-id:"+e}))}else t.inAli&&(a.default.option[e].rotateLock=a.default.option[e].rotate),a.default.option[e].context=uni.createCanvasContext(e,t),a.default.instance[e]&&a.default.option[e]&&!0===a.default.option[e].update?t._updataUChart(e):setTimeout((function(){a.default.option[e].context.restore(),a.default.option[e].context.save(),t._newChart(e)}),100)})))):(t.mixinDatacomLoading=!1,t.showchart=!1,1==t.reshow&&(t.mixinDatacomErrorMessage="\u5e03\u5c40\u9519\u8bef\uff1a\u672a\u83b7\u53d6\u5230\u7236\u5143\u7d20\u5bbd\u9ad8\u5c3a\u5bf8\uff01canvas-id:"+e))})).exec()},saveImage:function(){uni.canvasToTempFilePath({canvasId:this.cid,success:function(t){uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.showToast({title:"\u4fdd\u5b58\u6210\u529f",duration:2e3})}})}},this)},_error:function(t){this.mixinDatacomErrorMessage=t.detail.errMsg},emitMsg:function(t){this.$emit(t.name,t.params)},getRenderType:function(){!0===this.echarts&&!1===this.mixinDatacomLoading&&this.beforeInit()},toJSON:function(){return this}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},"62dc":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("f9cb"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{tableName:"uni-stat-result",fieldsMap:r.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,currentChartTab:"day",tableData:[],chartData:{},defaultChart:{field:"new_user_count",name:"\u65b0\u589e\u7528\u6237"},channelData:[]}},computed:{chartTabs:function(){var t=[{_id:"day",name:"\u65e5\u6d3b"},{_id:"week",name:"\u5468\u6d3b"},{_id:"month",name:"\u6708\u6d3b"}];return(0,a.maxDeltaDay)(this.query.start_time,7)&&t.forEach((function(t,e){"month"===t._id?t.disabled=!0:t.disabled=!1})),t},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n,i,r=864e5;n=(0,a.getTimeOfSomeDayAgo)(t),i=t?(0,a.getTimeOfSomeDayAgo)(0)-1:(0,a.getTimeOfSomeDayAgo)(0)+r-1,this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,n){this.currentChartTab=t,this.getChartData(this.query,t,n)},getAllData:function(t){this.getChartData(t,this.currentChartTab),this.getTabelData(t)},getChartData:function(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65e5\u6d3b",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_user_count",u={categories:[],series:[{name:o,data:[]}]};e=(0,a.stringifyQuery)(e,null,["uni_platform"]);var c=t.database();"day"===n?c.collection(this.tableName).where(e).field("".concat((0,a.stringifyField)(r.default,l),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default,l)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,n=(e.count,e.data);i.chartData=[];var r,o=s(n);try{for(o.s();!(r=o.n()).done;){var c=r.value,d=(0,a.formatDate)(c.start_time,"day"),f=c[l];u.series[0].data.push(f),u.categories.push(d)}}catch(h){o.e(h)}finally{o.f()}i.chartData=u})).catch((function(t){})):this.getRangeCountData(e,n).then((function(t){var e=n;"week"===n&&(n="isoWeek");var r=t.result,o=(r.count,r.data);i.chartData=[];var c,d=6048e5,f=s(o);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=+new Date(h.year,0)+(Number(h[n])*d-1),m=(0,a.formatDate)(p,e),_=h[n+"_"+l];_&&(u.series[0].data.push(_),u.categories.push(m))}}catch(g){f.e(g)}finally{f.f()}i.chartData=u}))},getTabelData:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active_user_count",o=this.options.pageCurrent;e=(0,a.stringifyQuery)(e,null,["uni_platform"]),this.loading=!0;var l=t.database();l.collection(this.tableName).where(e).field("".concat((0,a.stringifyField)(r.default,i),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default,i)).orderBy("start_time","desc").skip((o-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var i=t.result,o=i.count,l=i.data,u=l,c=o,d=[],f=[];n.getRangeCountData(e,"week").then((function(t){var i=t.result,o=(i.count,i.data);d=o,n.getRangeCountData(e,"month").then((function(t){var e=t.result,i=(e.count,e.data);f=i;var o,l=n.mapWithWeekAndMonth(u,d,f),h=s(l);try{for(h.s();!(o=h.n()).done;){var p=o.value;(0,a.mapfields)(r.default,p,p)}}catch(m){h.e(m)}finally{h.f()}n.tableData=[],n.options.total=c,n.tableData=l})).finally((function(){n.loading=!1}))}))})).catch((function(t){}))},getRangeCountData:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active_user_count";"week"===n&&(n="isoWeek");this.options.pageCurrent;var a=t.database();return a.collection(this.tableName).where(e).field("".concat(i,", start_time, ").concat(n,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(n,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(n)).groupField("sum(".concat(i,") as ").concat(n,"_").concat(i)).orderBy("year asc, ".concat(n," asc")).get({getCount:!0})},mapWithWeekAndMonth:function(t,e,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_user_count",r=s(t);try{for(r.s();!(i=r.n()).done;){var o,l=i.value,u=new Date(l.start_time),c=u.getUTCFullYear(),d=u.getMonth()+1,f=this.getWeekNumber(u),h=s(e);try{for(h.s();!(o=h.n()).done;){var p=o.value;p.isoWeek===f&&p.year===c&&(l["isoWeek_".concat(a)]=p["week_".concat(a)])}}catch(v){h.e(v)}finally{h.f()}var m,_=s(n);try{for(_.s();!(m=_.n()).done;){var g=m.value;g.month===d&&g.year===c&&(l["month_".concat(a)]=g["month_".concat(a)])}}catch(v){_.e(v)}finally{_.f()}}}catch(v){r.e(v)}finally{r.f()}return t},getWeekNumber:function(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),n=Math.ceil(((t-e)/864e5+1)/7);return n},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},"62ea":function(t,e,n){"use strict";n.r(e);var i=n("a49d"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"645d":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t._$s(0,"i",t.show)?n("view",{staticClass:t._$s(0,"sc","uni-noticebar"),style:t._$s(0,"s",{backgroundColor:t.backgroundColor}),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!0===t.showIcon||"true"===t.showIcon)?n("uni-icons",{staticClass:t._$s(1,"sc","uni-noticebar-icon"),attrs:{type:"sound",color:t.color,size:"22",_i:1}}):t._e(),n("view",{ref:"textBox",staticClass:t._$s(2,"sc","uni-noticebar__content-wrapper"),class:t._$s(2,"c",{"uni-noticebar__content-wrapper--scrollable":t.scrollable,"uni-noticebar__content-wrapper--single":!t.scrollable&&(t.single||t.moreText)}),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-noticebar__content"),class:t._$s(3,"c",{"uni-noticebar__content--scrollable":t.scrollable,"uni-noticebar__content--single":!t.scrollable&&(t.single||t.moreText)}),attrs:{id:t._$s(3,"a-id",t.elIdBox),_i:3}},[n("text",{ref:"animationEle",staticClass:t._$s(4,"sc","uni-noticebar__content-text"),class:t._$s(4,"c",{"uni-noticebar__content-text--scrollable":t.scrollable,"uni-noticebar__content-text--single":!t.scrollable&&(t.single||t.showGetMore)}),style:t._$s(4,"s",{color:t.color,width:t.wrapWidth+"px",animationDuration:t.animationDuration,"-webkit-animationDuration":t.animationDuration,animationPlayState:t.webviewHide?"paused":t.animationPlayState,"-webkit-animationPlayState":t.webviewHide?"paused":t.animationPlayState,animationDelay:t.animationDelay,"-webkit-animationDelay":t.animationDelay}),attrs:{id:t._$s(4,"a-id",t.elId),_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.text)))])])]),t._$s(5,"i",!0===t.showGetMore||"true"===t.showGetMore)?n("view",{staticClass:t._$s(5,"sc","uni-noticebar__more uni-cursor-point"),attrs:{_i:5},on:{click:t.clickMore}},[t._$s(6,"i",t.moreText.length>0)?n("text",{staticClass:t._$s(6,"sc","uni-noticebar__more-text"),style:t._$s(6,"s",{color:t.moreColor}),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.moreText)))]):n("uni-icons",{attrs:{type:"right",color:t.moreColor,size:"16",_i:7}})],1):t._e(),t._$s(8,"i",(!0===t.showClose||"true"===t.showClose)&&(!1===t.showGetMore||"false"===t.showGetMore))?n("view",{staticClass:t._$s(8,"sc","uni-noticebar-close uni-cursor-point"),attrs:{_i:8}},[n("uni-icons",{attrs:{type:"closeempty",color:t.color,size:"16",_i:9},on:{click:t.close}})],1):t._e()],1):t._e()},r=[]},6493:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniLink:n("e232").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniIcons:n("bb8e").default,uniPagination:n("2101").default,uniPopup:n("da7a").default,uniPopupDialog:n("6f1a").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}},[n("uni-link",{attrs:{href:"https://ask.dcloud.net.cn/article/35974",text:"\u652f\u6301Android App\u591a\u6e20\u9053\u7edf\u8ba1\u3002\u8bbe\u7f6eApp\u6e20\u9053\u5305\u7684\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003 https://ask.dcloud.net.cn/article/35974\u3002",_i:5}})],1)])],1),n("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[n("view",{staticClass:t._$s(7,"sc","uni-stat--x flex"),attrs:{_i:7}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:8},model:{value:t._$s(8,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",storage:!1,where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform-channel",all:!1,_i:10},on:{change:t.changePlatform},model:{value:t._$s(10,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),n("view",{staticClass:t._$s(11,"sc","flex"),attrs:{_i:11}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:12},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(13,"sc","uni-stat-datetime-picker"),class:t._$s(13,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:13},on:{change:t.useDatetimePicker},model:{value:t._$s(13,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(14,"sc","uni-stat--x"),attrs:{_i:14}},[n("uni-stat-panel",{staticClass:t._$s(15,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:15}}),n("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:18}})],1)],1),n("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[n("view",{staticClass:t._$s(20,"sc","mb-m"),attrs:{_i:20}},[n("uni-link",{attrs:{color:"",href:"https://ask.dcloud.net.cn/article/35974",text:"\u5982\u4f55\u81ea\u5b9a\u4e49\u6e20\u9053\u5305?",_i:21}})],1),n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:22}},[n("uni-tr",{attrs:{_i:23}},[t._l(t._$s(24,"f",{forItems:t.fieldsMap.slice(0,t.fieldsMap.length-1)}),(function(e,i,a,r){return[t._$s("25-"+r,"i",e.title)?n("uni-th",{key:t._$s(24,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"25-"+r}},[t._v(t._$s("25-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(26,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(26,"f",{forIndex:a,key:i}),attrs:{_i:"26-"+r}},[t._l(t._$s("27-"+r,"f",{forItems:t.fieldsMap.slice(0,t.fieldsMap.length-1)}),(function(i,a,o,s){return[t._$s("28-"+r+"-"+s,"i",i.title&&1===a)?n("uni-td",{key:t._$s("27-"+r,"f",{forIndex:o,keyIndex:0,key:i.field}),staticClass:t._$s("28-"+r+"-"+s,"sc","uni-stat-edit--x"),attrs:{_i:"28-"+r+"-"+s}},[t._v(t._$s("28-"+r+"-"+s,"t0-0",t._s(e[i.field]?e[i.field]:"-"))),n("uni-icons",{staticClass:t._$s("29-"+r+"-"+s,"sc","uni-stat-edit--btn"),attrs:{type:"compose",color:"#2979ff",size:"25",_i:"29-"+r+"-"+s},on:{click:function(n){return t.inputDialogToggle(e.channel_code,e.channel_name)}}})],1):n("uni-td",{key:t._$s("27-"+r,"f",{forIndex:o,keyIndex:-1,key:i.field}),attrs:{align:"center",_i:"30-"+r+"-"+s}},[t._v(t._$s("30-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2),n("view",{staticClass:t._$s(31,"sc","uni-pagination-box"),attrs:{_i:31}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.paginationOptions.pageSize,current:t.paginationOptions.pageCurrent,total:t.paginationOptions.total,_i:32},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:33}},[n("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:34},on:{confirm:t.editName},model:{value:t._$s(34,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),n("fix-window",{attrs:{_i:35}})],1)},r=[]},"64aa":function(t,e,n){"use strict";n.r(e);var i=n("33d0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"663d":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,uniStatTable:n("4a21").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("view",{staticClass:t._$s(15,"sc","uni-stat--x p-m"),attrs:{_i:15}},[n("view",{staticClass:t._$s(16,"sc","label-text mb-l"),attrs:{_i:16}}),n("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},on:{change:t.changeChartTab}}),n("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,_i:19}})],1)],1),n("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,tooltip:!0,_i:21}}),n("view",{staticClass:t._$s(22,"sc","uni-pagination-box"),attrs:{_i:22}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:23},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("fix-window",{attrs:{_i:24}})],1)},r=[]},"668f":function(t,e,n){"use strict";n.r(e);var i=n("95cd"),a=n("e364");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"33929875",null,!1,i["a"],o);e["default"]=l.exports},6694:function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"\u9009\u62e9\u65e5\u671f","uni-datetime-picker.selectTime":"\u9009\u62e9\u65f6\u95f4","uni-datetime-picker.selectDateTime":"\u9009\u62e9\u65e5\u671f\u65f6\u95f4","uni-datetime-picker.startDate":"\u5f00\u59cb\u65e5\u671f","uni-datetime-picker.endDate":"\u7ed3\u675f\u65e5\u671f","uni-datetime-picker.startTime":"\u5f00\u59cb\u65f6\u95f4","uni-datetime-picker.endTime":"\u7ed3\u675f\u65f6\u95f4","uni-datetime-picker.ok":"\u786e\u5b9a","uni-datetime-picker.clear":"\u6e05\u9664","uni-datetime-picker.cancel":"\u53d6\u6d88","uni-datetime-picker.year":"\u5e74","uni-datetime-picker.month":"\u6708","uni-calender.SUN":"\u65e5","uni-calender.MON":"\u4e00","uni-calender.TUE":"\u4e8c","uni-calender.WED":"\u4e09","uni-calender.THU":"\u56db","uni-calender.FRI":"\u4e94","uni-calender.SAT":"\u516d","uni-calender.confirm":"\u786e\u8ba4"}')},"66f7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniNavMenu",props:{data:{type:Array,default:function(){return[]}},mode:{type:String,default:"vertical"},collapse:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#fff"},textColor:{type:String,default:"#303133"},activeTextColor:{type:String,default:"#42B983"},activeBackgroundColor:{type:String,default:"inherit"},activeKey:{type:String,default:"id"},active:{type:String,default:""},defaultOpeneds:{type:Array,default:function(){return[]}},uniqueOpened:{type:Boolean,default:!1},menuTrigger:{type:String,default:"hover"},router:{type:Boolean,default:!1},collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.active}},watch:{active:function(t){this.activeIndex=t},activeIndex:function(t,e){if(this.itemChildrens.length>0){for(var n=!1,i=0;i<this.itemChildrens.length;i++){var a=this.itemChildrens[i];if(n=this.isActive(a),n)break}n||this.closeAll()}}},created:function(){this.itemChildrens=[],this.subChildrens=[]},methods:{select:function(t,e){this.$emit("select",t,e)},open:function(t,e){this.$emit("open",t,e)},close:function(t,e){this.$emit("close",t,e)},isActive:function(t){var e="",n=!1;return e="object"===typeof t.index?t.index[this.activeKey]||"":t.index,t.index&&this.activeIndex===e&&(n=!0,t.$subMenu.forEach((function(e,n){e.disabled||t.disabled||(t.indexPath.push(e.index),e.isOpen=!0)})),t.active||t.onClickItem("init")),n},selectMenu:function(t){var e=this;this.subChildrens.forEach((function(n,i){n===t?(t.isOpen=!t.isOpen,t.indexPath.push(t.index)):n.isOpen&&e.uniqueOpened&&(n.isOpen=!1)})),t.$subMenu.forEach((function(e,n){e.isOpen=!0,t.indexPath.unshift(e.index)})),t.isOpen?this.open(t.indexPath[t.indexPath.length-1],t.indexPath):this.close(t.indexPath[t.indexPath.length-1],t.indexPath),t.indexPath=[]},closeOtherActive:function(t){t.indexPath=[],t.$subMenu.forEach((function(e){e.disabled||t.indexPath.push(e.index)})),this.itemChildrens.map((function(t){return t.active&&(t.active=!1),t}))},closeAll:function(){this.subChildrens.forEach((function(t){t.isOpen&&(t.isOpen=!1)}))}}};e.default=i},6726:function(t,e,n){"use strict";n.r(e);var i=n("4adf"),a=n("0285");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"67f1":function(t,e,n){"use strict";n.r(e);var i=n("9b1e"),a=n("b6e0");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"67f4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=r(n("0953"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=a.default.navBar.debug||{},c={data:function(){return{engines:u.engine||[]}},computed:s({},(0,i.mapState)("error",["logs"])),methods:{search:function(t,e){}}};e.default=c},6882:function(t,e,n){"use strict";n.r(e);var i=n("bb51"),a=n("d506");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"68f3":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u522a\u9664\u6578\u64da"}')},"6a4a":function(t,e,n){"use strict";n.r(e);var i=n("c4fa"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"6c10":function(t,e,n){"use strict";n.r(e);var i=n("ad77"),a=n("db93");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"6c9e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.initError=o;var i=r(n("7512")),a=r(n("0953"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=a.default.navBar.debug;if(e&&!0===e.enable){var n=t.config.errorHandler;t.config.errorHandler=function(t,e,a){var r=e.$page&&e.$page.route;return i.default.dispatch("error/add",{err:t.toString(),info:a,route:r,time:(new Date).toLocaleTimeString()}),n(t,e,a)}}}}).call(this,n("0de9")["default"])},"6d0f":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,uniIcons:n("bb8e").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-m"),attrs:{_i:15}},[n("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[n("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.fields,tooltip:!0,_i:17},model:{value:t._$s(17,"v-model",t.field),callback:function(e){t.field=e},expression:"field"}})],1),n("uni-stat-tabs",{staticClass:t._$s(18,"sc","mb-l"),attrs:{type:"box",tabs:t.keys,_i:18},model:{value:t._$s(18,"v-model",t.key),callback:function(e){t.key=e},expression:"key"}}),n("view",{staticClass:t._$s(19,"sc","p-m"),attrs:{_i:19}},[n("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,_i:21}})],1)])],1),n("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[n("view",{staticClass:t._$s(23,"sc","uni-tips mb-s flex"),attrs:{_i:23}},[n("uni-icons",{attrs:{type:"info",_i:24}})],1),n("uni-table",{attrs:{loading:t.loading,stripe:!0,emptyText:t.$t("common.empty"),_i:25}},[n("uni-tr",{attrs:{_i:26}},[t._l(t._$s(27,"f",{forItems:t.fieldsMap}),(function(e,i,a,r){return[t._$s("28-"+r,"i",e.title)?n("uni-th",{key:t._$s(27,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(29,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(29,"f",{forIndex:a,key:i}),attrs:{_i:"29-"+r}},[t._l(t._$s("30-"+r,"f",{forItems:t.fieldsMap}),(function(i,a,o,s){return[t._$s("31-"+r+"-"+s,"i",i.title)?n("uni-td",{key:t._$s("30-"+r,"f",{forIndex:o,keyIndex:0,key:a}),class:t._$s("31-"+r+"-"+s,"c",/[d|w|m]_\d/.test(i.field)&&[e[i.field]?"uni-stat-table-bg":""]),attrs:{align:"center",_i:"31-"+r+"-"+s}},[t._v(t._$s("31-"+r+"-"+s,"t0-0",t._s(e[i.field]?e[i.field]:"")))]):t._e()]}))],2)}))],2),n("view",{staticClass:t._$s(32,"sc","uni-pagination-box"),attrs:{_i:32}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:33},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("fix-window",{attrs:{_i:34}})],1)},r=[]},"6d3d":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-file-picker__container"),attrs:{_i:0}},[t._l(t._$s(1,"f",{forItems:t.filesList}),(function(e,i,a,r){return n("view",{key:t._$s(1,"f",{forIndex:a,key:i}),staticClass:t._$s("1-"+r,"sc","file-picker__box"),style:t._$s("1-"+r,"s",t.boxStyle),attrs:{_i:"1-"+r}},[n("view",{staticClass:t._$s("2-"+r,"sc","file-picker__box-content"),style:t._$s("2-"+r,"s",t.borderStyle),attrs:{_i:"2-"+r}},[n("image",{staticClass:t._$s("3-"+r,"sc","file-image"),attrs:{src:t._$s("3-"+r,"a-src",e.url),_i:"3-"+r},on:{click:function(n){return n.stopPropagation(),t.prviewImage(e,i)}}}),t._$s("4-"+r,"i",t.delIcon&&!t.readonly)?n("view",{staticClass:t._$s("4-"+r,"sc","icon-del-box"),attrs:{_i:"4-"+r},on:{click:function(e){return e.stopPropagation(),t.delFile(i)}}},[n("view",{staticClass:t._$s("5-"+r,"sc","icon-del"),attrs:{_i:"5-"+r}}),n("view",{staticClass:t._$s("6-"+r,"sc","icon-del rotate"),attrs:{_i:"6-"+r}})]):t._e(),t._$s("7-"+r,"i",e.progress&&100!==e.progress||0===e.progress)?n("view",{staticClass:t._$s("7-"+r,"sc","file-picker__progress"),attrs:{_i:"7-"+r}},[n("progress",{staticClass:t._$s("8-"+r,"sc","file-picker__progress-item"),attrs:{percent:t._$s("8-"+r,"a-percent",-1===e.progress?0:e.progress),backgroundColor:t._$s("8-"+r,"a-backgroundColor",e.errMsg?"#ff5a5f":"#EBEBEB"),_i:"8-"+r}})]):t._e(),t._$s("9-"+r,"i",e.errMsg)?n("view",{staticClass:t._$s("9-"+r,"sc","file-picker__mask"),attrs:{_i:"9-"+r},on:{click:function(n){return n.stopPropagation(),t.uploadFiles(e,i)}}}):t._e()])])})),t._$s(10,"i",t.filesList.length<t.limit&&!t.readonly)?n("view",{staticClass:t._$s(10,"sc","file-picker__box"),style:t._$s(10,"s",t.boxStyle),attrs:{_i:10}},[n("view",{staticClass:t._$s(11,"sc","file-picker__box-content is-add"),style:t._$s(11,"s",t.borderStyle),attrs:{_i:11},on:{click:t.choose}},[t._t("default",[n("view",{staticClass:t._$s(13,"sc","icon-add"),attrs:{_i:13}}),n("view",{staticClass:t._$s(14,"sc","icon-add rotate"),attrs:{_i:14}})],{_i:12})],2)]):t._e()],2)},r=[]},"6da0":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("c9b4"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{fieldsMap:r.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),queryId:"",updateValue:"",channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(){this.getPanelData(),this.getTableData()},getTableData:function(e){var n=this;e=(0,a.stringifyQuery)(this.query,null,["uni_platform"]);var i=this.options.pageCurrent;this.loading=!0;var o=t.database(),l=(0,a.stringifyQuery)({appid:this.query.appid}),u=o.collection("uni-stat-pages").where(l).field("_id, title, path").getTemp(),c=o.collection("uni-stat-page-result").where(e).getTemp();o.collection(c,u).field("".concat((0,a.stringifyField)(r.default),", stat_date, page_id")).groupBy("page_id").groupField((0,a.stringifyGroupField)(r.default)).orderBy("visit_times","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,i=e.count,o=e.data;n.options.total=i,n.tableData=[];var l,u=s(o);try{for(u.s();!(l=u.n()).done;){var c=l.value,d=c.page_id;if(Array.isArray(d)){delete c.page_id;var f=d[0];if(f&&Object.keys(f).length)for(var h in f)"_id"!==h&&(c[h]=f[h])}(0,a.mapfields)(r.default,c,c),n.tableData.push(c)}}catch(p){u.e(p)}finally{u.f()}})).catch((function(t){})).finally((function(){n.loading=!1}))},getPanelData:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.stringifyQuery)(this.query,null,["uni_platform"]),i=t.database();i.collection("uni-stat-page-result").where(n).field((0,a.stringifyField)(r.default)).groupBy("appid").groupField((0,a.stringifyGroupField)(r.default)).orderBy("start_time","desc ").get().then((function(t){var n=t.result.data[0];e.panelData=[],e.panelData=(0,a.mapfields)(r.default,n)}))},inputDialogToggle:function(t,e){this.queryId=t,this.updateValue=e,this.$refs.inputDialog.open()},editName:function(e){var n=this,i=t.database();i.collection("uni-stat-pages").where({url:this.queryId}).update({title:e}).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),n.getTableData()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},"6e3e":function(t,e,n){"use strict";n.r(e);var i=n("39e5"),a=n("f5b1");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"6e46":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("3b70")),a=s(n("9fc1")),r=n("37dc"),o=s(n("4908"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return h(t)||f(t,e)||c(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function h(t){if(Array.isArray(t))return t}var p=(0,r.initVueI18n)(o.default),m=p.t,_={name:"UniDatetimePicker",options:{virtualHost:!0},components:{calendar:i.default,timePicker:a.default},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},data:function(){return{isRange:!1,hasTime:!1,mobileRange:!1,singleVal:"",tempSingleDate:"",defSingleDate:"",time:"",caleRange:{startDate:"",startTime:"",endDate:"",endTime:""},range:{startDate:"",endDate:""},tempRange:{startDate:"",startTime:"",endDate:"",endTime:""},startMultipleStatus:{before:"",after:"",data:[],fulldate:""},endMultipleStatus:{before:"",after:"",data:[],fulldate:""},visible:!1,popup:!1,popover:null,isEmitValue:!1,isPhone:!1,isFirstShow:!0}},props:{type:{type:String,default:"datetime"},value:{type:[String,Number,Array,Date],default:""},modelValue:{type:[String,Number,Array,Date],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},placeholder:{type:String,default:""},startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},rangeSeparator:{type:String,default:"-"},border:{type:[Boolean],default:!0},disabled:{type:[Boolean],default:!1},clearIcon:{type:[Boolean],default:!0},hideSecond:{type:[Boolean],default:!1}},watch:{type:{immediate:!0,handler:function(t,e){-1!==t.indexOf("time")?this.hasTime=!0:this.hasTime=!1,-1!==t.indexOf("range")?this.isRange=!0:this.isRange=!1}},value:{immediate:!0,handler:function(t,e){this.isEmitValue?this.isEmitValue=!1:this.initPicker(t)}},start:{immediate:!0,handler:function(t,e){if(t){var n=this.parseDate(t),i=n.defDate,a=n.defTime;this.caleRange.startDate=i,this.hasTime&&(this.caleRange.startTime=a)}}},end:{immediate:!0,handler:function(t,e){if(t){var n=this.parseDate(t),i=n.defDate,a=n.defTime;this.caleRange.endDate=i,this.hasTime&&(this.caleRange.endTime=a)}}}},computed:{reactStartTime:function(){var t=this.isRange?this.tempRange.startDate:this.tempSingleDate,e=t===this.caleRange.startDate?this.caleRange.startTime:"";return e},reactEndTime:function(){var t=this.isRange?this.tempRange.endDate:this.tempSingleDate,e=t===this.caleRange.endDate?this.caleRange.endTime:"";return e},reactMobDefTime:function(){var t={start:this.tempRange.startTime,end:this.tempRange.endTime};return this.isRange?t:this.time},mobSelectableTime:function(){return{start:this.caleRange.startTime,end:this.caleRange.endTime}},datePopupWidth:function(){return this.isRange?653:301},singlePlaceholderText:function(){return this.placeholder||("date"===this.type?this.selectDateText:m("uni-datetime-picker.selectDateTime"))},startPlaceholderText:function(){return this.startPlaceholder||this.startDateText},endPlaceholderText:function(){return this.endPlaceholder||this.endDateText},selectDateText:function(){return m("uni-datetime-picker.selectDate")},selectTimeText:function(){return m("uni-datetime-picker.selectTime")},startDateText:function(){return this.startPlaceholder||m("uni-datetime-picker.startDate")},startTimeText:function(){return m("uni-datetime-picker.startTime")},endDateText:function(){return this.endPlaceholder||m("uni-datetime-picker.endDate")},endTimeText:function(){return m("uni-datetime-picker.endTime")},okText:function(){return m("uni-datetime-picker.ok")},clearText:function(){return m("uni-datetime-picker.clear")},showClearIcon:function(){var t=this.clearIcon,e=this.disabled,n=this.singleVal,i=this.range,a=t&&!e&&(n||i.startDate&&i.endDate);return a}},created:function(){},mounted:function(){this.platform()},methods:{initPicker:function(t){var e=this;if(!t||Array.isArray(t)&&!t.length)this.$nextTick((function(){e.clear(!1)}));else if(Array.isArray(t)||this.isRange){var n=l(t,2),i=n[0],a=n[1];if(!i&&!a)return;var r=this.parseDate(i),o=this.parseDate(a),s=r.defDate,u=o.defDate;this.range.startDate=this.tempRange.startDate=s,this.range.endDate=this.tempRange.endDate=u,this.hasTime&&(this.range.startDate=r.defDate+" "+r.defTime,this.range.endDate=o.defDate+" "+o.defTime,this.tempRange.startTime=r.defTime,this.tempRange.endTime=o.defTime);var c={before:r.defDate,after:o.defDate};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,c,{which:"right"}),this.endMultipleStatus=Object.assign({},this.endMultipleStatus,c,{which:"left"})}else{var d=this.parseDate(t),f=d.defDate,h=d.defTime;this.singleVal=f,this.tempSingleDate=f,this.defSingleDate=f,this.hasTime&&(this.singleVal=f+" "+h,this.time=h)}},updateLeftCale:function(t){var e=this.$refs.left;e.cale.setHoverMultiple(t.after),e.setDate(this.$refs.left.nowDate.fullDate)},updateRightCale:function(t){var e=this.$refs.right;e.cale.setHoverMultiple(t.after),e.setDate(this.$refs.right.nowDate.fullDate)},platform:function(){var t=uni.getSystemInfoSync();this.isPhone=t.windowWidth<=500,this.windowWidth=t.windowWidth},show:function(t){var e=this;if(!this.disabled)if(this.platform(),this.isPhone)this.$refs.mobile.open();else{this.popover={top:"10px"};var n=uni.createSelectorQuery().in(this).select(".uni-date-editor");n.boundingClientRect((function(t){e.windowWidth-t.left<e.datePopupWidth&&(e.popover.right=0)})).exec(),setTimeout((function(){if(e.popup=!e.popup,!e.isPhone&&e.isRange&&e.isFirstShow){e.isFirstShow=!1;var t=e.range,n=t.startDate,i=t.endDate;n&&i?e.diffDate(n,i)<30&&e.$refs.right.next():(e.$refs.right.next(),e.$refs.right.cale.lastHover=!1)}}),50)}},close:function(){var t=this;setTimeout((function(){t.popup=!1,t.$emit("maskClick",t.value)}),20)},setEmit:function(t){"timestamp"!==this.returnType&&"date"!==this.returnType||(Array.isArray(t)?(this.hasTime||(t[0]=t[0]+" 00:00:00",t[1]=t[1]+" 00:00:00"),t[0]=this.createTimestamp(t[0]),t[1]=this.createTimestamp(t[1]),"date"===this.returnType&&(t[0]=new Date(t[0]),t[1]=new Date(t[1]))):(this.hasTime||(t+=" 00:00:00"),t=this.createTimestamp(t),"date"===this.returnType&&(t=new Date(t)))),this.$emit("change",t),this.$emit("input",t),this.$emit("update:modelValue",t),this.isEmitValue=!0},createTimestamp:function(t){return t=this.fixIosDateFormat(t),Date.parse(new Date(t))},singleChange:function(t){this.tempSingleDate=t.fulldate,this.hasTime||this.confirmSingleChange()},confirmSingleChange:function(){this.tempSingleDate?(this.hasTime?this.singleVal=this.tempSingleDate+" "+(this.time?this.time:"00:00:00"):this.singleVal=this.tempSingleDate,this.setEmit(this.singleVal),this.popup=!1):this.popup=!1},leftChange:function(t){var e=t.range,n=e.before,i=e.after;this.rangeChange(n,i);var a={before:t.range.before,after:t.range.after,data:t.range.data,fulldate:t.fulldate};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,a)},rightChange:function(t){var e=t.range,n=e.before,i=e.after;this.rangeChange(n,i);var a={before:t.range.before,after:t.range.after,data:t.range.data,fulldate:t.fulldate};this.endMultipleStatus=Object.assign({},this.endMultipleStatus,a)},mobileChange:function(t){if(this.isRange){var e=t.range,n=e.before,i=e.after;if(this.handleStartAndEnd(n,i,!0),this.hasTime){var a=t.timeRange,r=a.startTime,o=a.endTime;this.tempRange.startTime=r,this.tempRange.endTime=o}this.confirmRangeChange()}else this.hasTime?this.singleVal=t.fulldate+" "+t.time:this.singleVal=t.fulldate,this.setEmit(this.singleVal);this.$refs.mobile.close()},rangeChange:function(t,e){t&&e&&(this.handleStartAndEnd(t,e,!0),this.hasTime||this.confirmRangeChange())},confirmRangeChange:function(){if(this.tempRange.startDate||this.tempRange.endDate){var t,e;this.hasTime?(t=this.range.startDate=this.tempRange.startDate+" "+(this.tempRange.startTime?this.tempRange.startTime:"00:00:00"),e=this.range.endDate=this.tempRange.endDate+" "+(this.tempRange.endTime?this.tempRange.endTime:"00:00:00")):(t=this.range.startDate=this.tempRange.startDate,e=this.range.endDate=this.tempRange.endDate);var n=[t,e];this.setEmit(n),this.popup=!1}else this.popup=!1},handleStartAndEnd:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&e){var i=n?"tempRange":"range";this.dateCompare(t,e)?(this[i].startDate=t,this[i].endDate=e):(this[i].startDate=e,this[i].endDate=t)}},dateCompare:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e},diffDate:function(t,e){t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/"));var n=(e-t)/864e5;return Math.abs(n)},clear:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isRange?(this.range.startDate="",this.range.endDate="",this.tempRange.startDate="",this.tempRange.startTime="",this.tempRange.endDate="",this.tempRange.endTime="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():(this.$refs.left&&this.$refs.left.clearCalender(),this.$refs.right&&this.$refs.right.clearCalender(),this.$refs.right&&this.$refs.right.next()),t&&(this.$emit("change",[]),this.$emit("input",[]),this.$emit("update:modelValue",[]))):(this.singleVal="",this.tempSingleDate="",this.time="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():this.$refs.pcSingle&&this.$refs.pcSingle.clearCalender(),t&&(this.$emit("change",""),this.$emit("input",""),this.$emit("update:modelValue","")))},parseDate:function(t){t=this.fixIosDateFormat(t);var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),l=n+"-"+this.lessTen(i)+"-"+this.lessTen(a),u=this.lessTen(r)+":"+this.lessTen(o)+(this.hideSecond?"":":"+this.lessTen(s));return{defDate:l,defTime:u}},lessTen:function(t){return t<10?"0"+t:t},fixIosDateFormat:function(t){return"string"===typeof t&&(t=t.replace(/-/g,"/")),t},leftMonthSwitch:function(t){},rightMonthSwitch:function(t){}}};e.default=_},"6e58":function(t,e,n){"use strict";n.r(e);var i=n("6d0f"),a=n("198b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"6f1a":function(t,e,n){"use strict";n.r(e);var i=n("8512"),a=n("eb9a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"6f8f":function(t,e,n){"use strict";function i(t){return s(t)||o(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",stat:0}],n=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-",stat:-1}];e&&(t=n).push.apply(t,i(e));var a=[1,2,3,4,5,6,7,14,30],r=a.map((function(t){return{title:"".concat(t,"\u5929\u540e"),field:"d_".concat(t),computed:"d_".concat(t,"/").concat(e[0].field),formatter:"%",tooltip:""}}));return n=n.concat(r),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=u;e.default=c},"709c":function(t,e,n){"use strict";function i(t,e){return o(t)||r(t,e)||l(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function o(t){if(Array.isArray(t))return t}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.filterToWhere=f,e.enumConverter=e.validator=void 0;var c={permission_id:{rules:[{required:!0},{format:"string"}],label:"\u6743\u9650\u6807\u8bc6"},permission_name:{rules:[{required:!0},{format:"string"}],label:"\u6743\u9650\u540d\u79f0"},comment:{rules:[{format:"string"}],label:"\u5907\u6ce8"}};e.validator=c;var d={};function f(t,e){var n={};for(var a in t){var r=t[a],o=r.type,l=r.value;switch(o){case"search":"string"===typeof l&&l.length&&(n[a]=new RegExp(l));break;case"select":if(l.length){var u,c=[],d=s(l);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.push(e.eq(f))}}catch($){d.e($)}finally{d.f()}n[a]=e.or(c)}break;case"range":if(l.length){var h=l[0],p=l[1];n[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(l.length){var m=i(l,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);n[a]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(l.length){var b=i(l,2),x=b[0],w=b[1];n[a]=e.and([e.gte(x),e.lte(w)])}break}}return n}e.enumConverter=d},"70ec":function(t,e,n){"use strict";n.r(e);var i=n("75dd"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"70ee":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.popupFieldsMap=e.fieldsMap=void 0;var i=[{title:"\u6700\u8fd1\u53d1\u751f\u65f6\u95f4",field:"last_time",tooltip:"",formatter:""},{title:"\u9519\u8bef\u6b21\u6570",field:"count",tooltip:"\u76f8\u540c\u9519\u8bef\u5728\u67d0\u65f6\u95f4\u6bb5\u5185\u53d1\u751f\u7684\u6b21\u6570"},{title:"\u9519\u8bef\u5360\u6bd4",computed:"count/total_count",field:"count/total_count",formatter:"%",tooltip:"\u67d0\u4e2a\u9519\u8bef\u53d1\u751f\u7684\u6b21\u6570/\u603b\u9519\u8bef\u6570"},{title:"\u5e73\u53f0",field:"platform",formatter:""},{title:"\u5e73\u53f0\u7248\u672c\u53f7",field:"version",tooltip:"\u539f\u751f\u5e73\u53f0\u4e3a\u5ba2\u6237\u7aef SDK \u7248\u672c\u53f7\uff1b\u5c0f\u7a0b\u5e8f\u5e73\u53f0\u4e3a\u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u3001\u767e\u5ea6\u7b49\u5e94\u7528\u7684\u7248\u672c\u53f7",formatter:""},{title:"\u9519\u8bef\u4fe1\u606f",field:"msg",formatter:""}];e.fieldsMap=i;var a=[{title:"\u521b\u5efa\u65f6\u95f4",field:"create_time",formatter:""},{title:"\u5ba2\u6237\u7aef\u64cd\u4f5c\u7cfb\u7edf",field:"os",formatter:""},{title:"\u5ba2\u6237\u7aef user-agent \u4fe1\u606f",field:"ua",formatter:""}];e.popupFieldsMap=a},"710e":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default,uniTd:n("abd8").default,uniPagination:n("2101").default,uniPopup:n("da7a").default,uniLoadMore:n("6169").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,yesterday:!1,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),n("view",{staticClass:t._$s(14,"sc","uni-stat--x"),attrs:{_i:14}},[n("uni-stat-panel",{staticClass:t._$s(15,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:15}}),n("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:{notMerge:!0},echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:18}})],1)],1),n("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[n("view",{staticClass:t._$s(20,"sc","flex-between"),attrs:{_i:20}},[n("view",{staticClass:t._$s(21,"sc","uni-stat-card-header"),attrs:{_i:21}}),n("view",{staticClass:t._$s(22,"sc","uni-group"),attrs:{_i:22}})]),n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:23}},[n("uni-tr",{attrs:{_i:24}},[t._l(t._$s(25,"f",{forItems:t.fieldsMap}),(function(e,i,a,r){return[t._$s("26-"+r,"i",e.title)?n("uni-th",{key:t._$s(25,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"26-"+r}},[n("uni-tooltip",{attrs:{_i:"27-"+r},scopedSlots:t._u([t._$s("29-"+r,"i",e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("30-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"30-"+r+"-"+o}},[t._v(a._$s("30-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("27-"+r,"t0-0",t._s(e.title))),t._$s("28-"+r,"i",e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"28-"+r}}):t._e()],1)],1):t._e()]})),t._$s(31,"i",t.sourceMapEnabled)?n("uni-th",{attrs:{align:"center",_i:31}},[t._v("")]):t._e()],2),t._l(t._$s(32,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(32,"f",{forIndex:a,key:i}),attrs:{_i:"32-"+r}},[t._l(t._$s("33-"+r,"f",{forItems:t.fieldsMap}),(function(i,a,o,s){return[t._$s("34-"+r+"-"+s,"i","count"===i.field)?n("uni-td",{key:t._$s("33-"+r,"f",{forIndex:o,keyIndex:0,key:i.field}),attrs:{align:"center",_i:"34-"+r+"-"+s}},[n("text",{staticClass:t._$s("35-"+r+"-"+s,"sc","link-btn"),attrs:{_i:"35-"+r+"-"+s},on:{click:function(n){return t.navTo("detail",e)}}},[t._v(t._$s("35-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]):n("uni-td",{key:t._$s("33-"+r,"f",{forIndex:o,keyIndex:-1,key:i.field}),attrs:{align:"center",_i:"36-"+r+"-"+s}},[t._v(t._$s("36-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]})),t._$s("37-"+r,"i",t.sourceMapEnabled)?n("uni-td",{attrs:{_i:"37-"+r}},[n("button",{attrs:{_i:"38-"+r},on:{click:function(n){return t.openErrPopup(e)}}})]):t._e()],2)}))],2),n("view",{staticClass:t._$s(39,"sc","uni-pagination-box"),attrs:{_i:39}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:40},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("uni-popup",{ref:"errMsg",attrs:{type:"center",animation:!1,maskClick:!0,_i:41},on:{change:t.errMsgPopupChange}},[n("view",{staticClass:t._$s(42,"sc","modal black-theme"),attrs:{_i:42}},[n("view",{staticClass:t._$s(43,"sc","modal-header"),attrs:{_i:43}}),n("scroll-view",{},[n("view",{staticClass:t._$s(45,"sc","modal-content"),attrs:{_i:45}},[t._$s(46,"i",t.msgLoading)?n("view",[n("uni-load-more",{staticClass:t._$s(47,"sc","mb-m"),attrs:{showText:!1,status:"loading",_i:47}}),n("view")],1):t._e(),n("text",[t._v(t._$s(49,"t0-0",t._s(t.errMsg)))])])]),n("view",{staticClass:t._$s(50,"sc","dialog-close"),attrs:{_i:50},on:{click:t.closeErrPopup}},[n("view",{staticClass:t._$s(51,"sc","dialog-close-plus"),attrs:{_i:51}}),n("view",{staticClass:t._$s(52,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:52}})])])]),n("fix-window",{attrs:{_i:53}})],1)},r=[]},"71ea":function(t,e,n){"use strict";n.r(e);var i=n("7c28"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},7229:function(t,e,n){"use strict";n.r(e);var i=n("a797"),a=n("209e");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"72c8":function(t,e,n){"use strict";n.r(e);var i=n("039d"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"734d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading1",data:function(){return{}}};e.default=i},7382:function(t,e,n){"use strict";n.r(e);var i=n("d804"),a=n("9686");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"750a":function(t,e,n){"use strict";n.r(e);var i=n("8325"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},7512:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(n("ffdf")),a=l(n("29b7")),r=l(n("4405")),o=l(n("8bbf")),s=l(n("26cb"));function l(t){return t&&t.__esModule?t:{default:t}}o.default.use(s.default);var u=new s.default.Store({modules:{app:i.default,error:a.default,user:r.default}}),c=u;e.default=c},7534:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("1254"));function a(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{searchVal:"",tableData:[],pageSize:10,pageCurrent:1,total:0,loading:!1}},onLoad:function(){this.selectedIndexs=[],this.getData(1)},methods:{selectedItems:function(){var t=this;return this.selectedIndexs.map((function(e){return t.tableData[e]}))},selectionChange:function(t){t.detail.index,this.selectedIndexs=t.detail.index},delTable:function(){this.selectedItems()},change:function(t){this.getData(t.current)},search:function(){this.getData(1,this.searchVal)},getData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.loading=!0,this.pageCurrent=t,this.request({pageSize:this.pageSize,pageCurrent:t,value:n,success:function(t){e.tableData=t.data,e.total=t.total,e.loading=!1}})},request:function(t){var e=t.pageSize,n=t.pageCurrent,a=t.success,r=t.value,o=i.default.length,s=i.default.filter((function(t,i){var a=i-(n-1)*e;return a<e&&a>=0}));r&&(s=[],i.default.forEach((function(t){-1!==t.name.indexOf(r)&&s.push(t)})),o=s.length),setTimeout((function(){"function"===typeof a&&a({data:s,total:o})}),500)}}};e.default=r}).call(this,n("0de9")["default"])},"75ca":function(t,e,n){"use strict";n.r(e);var i=n("a332"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"75dd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("b59f"));function a(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{icons:i.default}},props:{tag:{type:Boolean,default:!0},fixWindow:{type:Boolean,default:!0}},methods:{setClipboardData:function(t,e){var n="uni-icons-"+e;this.tag&&"tag"===t&&(n='<view class="'+n+'"></view>'),uni.setClipboardData({data:n,success:function(t){uni.showToast({icon:"none",title:"\u590d\u5236 "+n+" \u6210\u529f\uff01"})},fail:function(t){uni.showModal({content:"\u590d\u5236 "+n+" \u5931\u8d25\uff01",showCancel:!1})}})}}};e.default=r},"768d":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-badge--x"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.text)?n("text",{staticClass:t._$s(2,"sc","uni-badge"),class:t._$s(2,"c",t.classNames),style:t._$s(2,"s",[t.badgeWidth,t.positionStyle,t.customStyle,t.dotStyle]),attrs:{_i:2},on:{click:function(e){return t.onClick()}}},[t._v(t._$s(2,"t0-0",t._s(t.displayValue)))]):t._e()],2)},r=[]},"779f":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniDataCheckbox:n("a93f").default,showInfo:n("f690").default,uniFilePicker:n("d536").default,uniCard:n("340d").default,uniDateformat:n("6c10").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.type_valuetotext[t.formData.type])))])]),t._$s(5,"i",!t.isStable)?n("view",{staticClass:t._$s(5,"sc","uni-group"),attrs:{_i:5}},[n("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:t.deletePackage}})]):t._e()]),n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",labelWidth:t.labelWidth,_i:7}},[n("uni-forms-item",{attrs:{name:"appid",label:"AppID",required:!0,_i:8}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),n("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",_i:10}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:11},model:{value:t._$s(11,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("uni-forms-item",{attrs:{name:"title",label:"\u66f4\u65b0\u6807\u9898",_i:12}},[n("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u66f4\u65b0\u6807\u9898",_i:13},model:{value:t._$s(13,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),n("uni-forms-item",{attrs:{name:"contents",label:"\u66f4\u65b0\u5185\u5bb9",required:!0,_i:14}},[n("textarea",{staticClass:t._$s(15,"sc","uni-textarea-border"),attrs:{disabled:t._$s(15,"a-disabled",t.detailsState),value:t._$s(15,"a-value",t.formData.contents),_i:15},on:{input:function(e){return t.binddata("contents",e.detail.value)},"update:value":function(e){return t.formData.contents=e}}})]),n("uni-forms-item",{attrs:{name:"platform",label:"\u5e73\u53f0",required:!0,_i:16}},[n("uni-data-checkbox",{attrs:{disabled:!0,multiple:!0,localdata:t.platformLocaldata,_i:17},model:{value:t._$s(17,"v-model",t.formData.platform),callback:function(e){t.$set(t.formData,"platform",e)},expression:"formData.platform"}})],1),n("uni-forms-item",{attrs:{name:"version",label:"\u7248\u672c\u53f7",required:!0,_i:18}},[n("uni-easyinput",{attrs:{disabled:!0,placeholder:"\u5f53\u524d\u5305\u7248\u672c\u53f7\uff0c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u5df2\u4e0a\u7ebf\u7248\u672c\u53f7",_i:19},model:{value:t._$s(19,"v-model",t.formData.version),callback:function(e){t.$set(t.formData,"version",e)},expression:"formData.version"}})],1),t._$s(20,"i",t.isWGT)?n("uni-forms-item",{key:"min_uni_version",attrs:{name:"min_uni_version",label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",required:t.isWGT,_i:20}},[n("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",_i:21},model:{value:t._$s(21,"v-model",t.formData.min_uni_version),callback:function(e){t.$set(t.formData,"min_uni_version",e)},expression:"formData.min_uni_version"}}),n("show-info",{attrs:{content:t.minUniVersionContent,_i:22}})],1):t._e(),t._$s(23,"i",!t.isiOS&&!t.detailsState)?n("uni-forms-item",{attrs:{label:"\u4e0a\u4f20apk\u5305",_i:23}},[n("uni-file-picker",{attrs:{"file-extname":t.fileExtname,disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",_i:24},on:{success:t.packageUploadSuccess,delete:t.packageDelete},model:{value:t._$s(24,"v-model",t.appFileList),callback:function(e){t.appFileList=e},expression:"appFileList"}},[n("button",{attrs:{_i:25},on:{click:t.selectFile}})]),t._$s(26,"i",t.hasPackage)?n("text",[t._v(t._$s(26,"t0-0",t._s(Number(t.appFileList.size/1024/1024).toFixed(2))))]):t._e()],1):t._e(),n("uni-forms-item",{key:"url",attrs:{name:"url",label:t.isiOS?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",required:!0,_i:27}},[n("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u4e0b\u8f7d\u94fe\u63a5",maxlength:-1,_i:28},model:{value:t._$s(28,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),t._$s(29,"i",!t.isiOS&&!t.isWGT&&t.formData.store_list.length)?n("uni-forms-item",{key:"store_list",attrs:{label:"Android\u5e94\u7528\u5e02\u573a",name:"store_list",labelWidth:"120",_i:29}},[n("view",t._l(t._$s(31,"f",{forItems:t.formData.store_list}),(function(e,i,a,r){return n("view",{key:t._$s(31,"f",{forIndex:a,key:e.id})},[n("uni-card",{attrs:{_i:"32-"+r}},[n("view",[n("checkbox-group",{attrs:{_i:"34-"+r},on:{change:function(t){var n=t.detail.value;e.enable=!!n.length}}},[n("label",{staticClass:t._$s("35-"+r,"sc","title_padding"),attrs:{_i:"35-"+r}},[n("checkbox",{attrs:{disabled:t._$s("36-"+r,"a-disabled",t.detailsState),checked:t._$s("36-"+r,"a-checked",e.enable),_i:"36-"+r}}),n("text")])])]),n("uni-forms-item",{attrs:{label:"\u5546\u5e97\u540d\u79f0",_i:"38-"+r}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"39-"+r},model:{value:t._$s("39-"+r,"v-model",e.name),callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),n("uni-forms-item",{attrs:{label:"Scheme",_i:"40-"+r}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"41-"+r},model:{value:t._$s("41-"+r,"v-model",e.scheme),callback:function(n){t.$set(e,"scheme",n)},expression:"item.scheme"}})],1),n("uni-forms-item",{attrs:{label:"\u4f18\u5148\u7ea7",_i:"42-"+r}},[n("uni-easyinput",{attrs:{disabled:t.detailsState,type:"number",_i:"43-"+r},model:{value:t._$s("43-"+r,"v-model",e.priority),callback:function(n){t.$set(e,"priority",n)},expression:"item.priority"}}),n("show-info",{attrs:{top:-100,left:-180,content:t.priorityContent,_i:"44-"+r}})],1)],1)],1)})),0)]):t._e(),t._$s(45,"i",t.isWGT)?n("uni-forms-item",{key:"is_silently",attrs:{name:"is_silently",label:"\u9759\u9ed8\u66f4\u65b0",_i:45}},[n("switch",{attrs:{disabled:t._$s(46,"a-disabled",t.detailsState),checked:t._$s(46,"a-checked",t.formData.is_silently),_i:46},on:{change:function(e){t.binddata("is_silently",e.detail.value),t.formData.is_silently=e.detail.value}}}),n("show-info",{attrs:{top:-80,content:t.silentlyContent,_i:47}})],1):t._e(),t._$s(48,"i",!t.isiOS)?n("uni-forms-item",{key:"is_mandatory",attrs:{name:"is_mandatory",label:"\u5f3a\u5236\u66f4\u65b0",_i:48}},[n("switch",{attrs:{disabled:t._$s(49,"a-disabled",t.detailsState),checked:t._$s(49,"a-checked",t.formData.is_mandatory),_i:49},on:{change:function(e){t.binddata("is_mandatory",e.detail.value),t.formData.is_mandatory=e.detail.value}}}),n("show-info",{attrs:{width:"230",top:-30,content:t.mandatoryContent,_i:50}})],1):t._e(),n("uni-forms-item",{attrs:{name:"stable_publish",label:"\u4e0a\u7ebf\u53d1\u884c",_i:51}},[n("switch",{attrs:{disabled:t._$s(52,"a-disabled",t.detailsState||t.isStable),checked:t._$s(52,"a-checked",t.formData.stable_publish),_i:52},on:{change:function(e){t.binddata("stable_publish",e.detail.value),t.formData.stable_publish=e.detail.value}}}),t._$s(53,"i",t.isStable)?n("show-info",{attrs:{top:-50,width:"350",content:t.stablePublishContent,_i:53}}):n("show-info",{attrs:{top:-40,content:t.stablePublishContent2,_i:54}})],1),n("uni-forms-item",{attrs:{name:"create_date",label:"\u4e0a\u4f20\u65f6\u95f4",_i:55}},[n("uni-dateformat",{attrs:{format:"yyyy-MM-dd hh:mm:ss",date:t.formData.create_date,threshold:[0,0],_i:56}})],1),n("uni-forms-item",{directives:[{name:"show",rawName:"v-show",value:t._$s(57,"v-show",!1),expression:"_$s(57,'v-show',false)"}],attrs:{name:"type",label:"\u5b89\u88c5\u5305\u7c7b\u578b",_i:57}},[n("uni-data-checkbox",{attrs:{localdata:t.formOptions.type_localdata,_i:58},model:{value:t._$s(58,"v-model",t.formData.type),callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),n("view",{staticClass:t._$s(59,"sc","uni-button-group"),attrs:{_i:59}},[t._$s(60,"i",t.detailsState)?n("button",{staticClass:t._$s(60,"sc","uni-button"),attrs:{_i:60},on:{click:function(e){t.detailsState=!1}}}):t._e(),t._$s(61,"i",!t.detailsState)?n("button",{staticClass:t._$s(61,"sc","uni-button"),attrs:{_i:61},on:{click:t.submit}}):t._e(),t._$s(62,"i",!t.detailsState)?n("button",{staticClass:t._$s(62,"sc","uni-button"),attrs:{_i:62},on:{click:t.cancelEdit}}):t._e(),n("navigator",{},[n("button",{staticClass:t._$s(64,"sc","uni-button"),attrs:{_i:64}})])])],1)],1)},r=[]},"77f7":function(t){t.exports=JSON.parse('{"login":{"text":{"title":"System Login","prompt":"If there is no administrator account, please create an administrator first..."},"field":{"username":"Account","password":"Password","captcha":"Captcha"},"button":{"login":"Log In"}},"topwindow":{"text":{"doc":"Admin doc","plugin":"More admin plugin","changeLanguage":"Language","changePwd":"ChangePwd","signOut":"Sign out"}},"index":{"text":{"prompt":"Main content, customizable content and style","vesion":"The current version can be viewed in the console and package.json"}},"updatePwd":{"text":{"title":"Change Password"},"field":{"oldPassword":"Old password","newPassword":"New password","passwordConfirmation":"Confirm password"},"button":{"save":"Save","back":"Back"}},"common":{"placeholder":{"query":"Enter search content"},"button":{"search":"Search","add":"Add","edit":"Edit","delete":"Delete","batchDelete":"Batch Delete","exportExcel":"Export Excel","submit":"Submit","back":"Back","tagManager":"Tag Manager","publish":"Publish page management","version":"version manager"},"empty":"No more data","piecePerPage":"piece/page"},"user":{"text":{"userManager":"Users Manager"}},"role":{"text":{"roleManager":"Roles Manager"}},"permission":{"text":{"permissionManager":"Permissions Manager"}},"app":{"text":{"appManager":"App Manager","describle":"Manage the apps that users can login"}},"menu":{"text":{"menuManager":"Menus Manager","additiveMenu":"Additive Menu"},"button":{"addFirstLevelMenu":"Add First-level Menu","addChildMenu":"Submenu"}},"demo":{"icons":{"title":"Icons","describle":"Click icons to copy the icon code"},"table":{"title":"Table"}}}')},"781d":function(t,e,n){"use strict";n.r(e);var i=n("b0ff"),a=n("2fc7");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},7870:function(t,e,n){"use strict";n.r(e);var i=n("cd9e"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"78ab":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=n("3d7b"),o=n("57e2");function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){return h(t)||f(t,e)||c(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function h(t){if(Array.isArray(t))return t}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=[{title:"\u5d29\u6e83\u603b\u6570",field:"count",value:0,formatter:",",tooltip:"\u6307\u539f\u751f\u5e94\u7528\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u51fa\u73b0\u5d29\u6e83\u7684\u603b\u6570"},{title:"\u5d29\u6e83\u7387",field:"count/app_launch_count",computed:"count/app_launch_count",formatter:"%",value:0,tooltip:"\u65f6\u95f4\u8303\u56f4\u5185\u7684\u603b\u5d29\u6e83\u6570/\u539f\u751f\u5e94\u7528\u542f\u52a8\u6b21\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0.01%\uff0c\u9ed8\u8ba4\u663e\u793a\u4e3a0"}],v=t.database(),y="create_time desc",b=[],x=20,w=1,$={ascending:"asc",descending:"desc"},k={data:function(){var t;return t={fieldsMap:r.fieldsMap,query:{type:"crash",dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},options:{pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100]},loading:!1,popupLoading:!1,currentDateTab:0,tableData:[],popupTableData:[],panelData:JSON.parse(JSON.stringify(g)),chartData:{},chartTab:"errorCount",chartTabs:[{_id:"errorCount",name:"\u5d29\u6e83\u6b21\u6570"},{_id:"errorRate",name:"\u5d29\u6e83\u7387"}],collectionList:"uni-stat-app-crash-logs",schemaQuery:"",where:this.tableData,orderby:y,orderByFieldName:"",selectedIndexs:[]},_(t,"options",m({pageSize:x,pageCurrent:w,filterData:{}},o.enumConverter)),_(t,"exportExcel",{filename:"uni-stat-app-crash-logs.xls",type:"xls",fields:{appid:"appid",version:"version",platform:"platform",channel:"channel",sdk_version:"sdk_version",device_id:"device_id",device_net:"device_net",device_os:"device_os",device_os_version:"device_os_version",device_vendor:"device_vendor",device_model:"device_model",device_is_root:"device_is_root",device_os_name:"device_os_name",device_batt_level:"device_batt_level",device_batt_temp:"device_batt_temp",device_memory_use_size:"device_memory_use_size",device_memory_total_size:"device_memory_total_size",device_disk_use_size:"device_disk_use_size",device_disk_total_size:"device_disk_total_size",device_abis:"device_abis",app_count:"app_count",app_use_memory_size:"app_use_memory_size",app_webview_count:"app_webview_count",app_use_duration:"app_use_duration",app_run_fore:"app_run_fore",package_name:"package_name",package_version:"package_version",page_url:"page_url",error_msg:"error_msg",create_time:"create_time"}}),_(t,"exportExcelData",[]),t},computed:{queryStr:function(){return(0,a.stringifyQuery)(this.query)},tableQuery:function(){var t=this.query,e=t.appid,n=t.platform_id,i=t.version_id,r=t.start_time,o=uni.getStorageSync("platform_channel_last_data"),s=uni.getStorageSync("uni-stat-app-versions_last_data"),l=Array.isArray(o)&&o.find((function(t){return t._id===n})),u=Array.isArray(s)&&s.find((function(t){return t._id===i})),c=(0,a.stringifyQuery)({appid:e,create_time:r,platform:l&&l.code||"",version:u&&u.text||""});return c},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n,type:"native_app"});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){t.getAllData(t.queryStr),t.where=t.tableQuery,t.$nextTick((function(){t.$refs.udb&&t.$refs.udb.loadData()}),200)}))},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},chartTab:function(t){this.getChartData(this.queryStr)}},onLoad:function(){this._filter={}},methods:{onqueryload:function(t){this.exportExcelData=t,this.tableData=t},getWhere:function(){var t=this.schemaQuery.trim();if(!t)return"";var e=new RegExp(t,"i");return b.map((function(t){return e+".test("+t+")"})).join(" || ")},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},sortChange:function(t,e){var n=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+$[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){n.$refs.udb.loadData()}))},filterChange:function(t,e){var n=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,o.filterToWhere)(this._filter,v.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){n.$refs.udb.loadData()}))},useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,n,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},getAllData:function(t){this.getPanelData(t),this.getChartData(t)},getPanelData:function(e){var n=this,i=(0,a.stringifyQuery)(this.query,!1,["uni_platform"]),r=t.database();r.collection("uni-stat-error-result").where(i).field("count as temp_count, app_launch_count as temp_app_launch_count, appid").groupBy("appid").groupField("sum(temp_count) as count, sum(temp_app_launch_count) as app_launch_count").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data,t.result.data[0]),r=Object.assign({},n.query);delete r.type,n.getTotalLaunch((0,a.stringifyQuery)(r,!1,["uni_platform"])).then((function(t){var e=t.result.data[0],r=e&&e.total_app_launch_count;i.app_launch_count=r,n.panelData=(0,a.mapfields)(g,i)}))}))},getTotalLaunch:function(e){var n=t.database();return n.collection("uni-stat-result").where(e).groupBy("appid").groupField("sum(app_launch_count) as total_app_launch_count").get()},getChartData:function(e){var n=this,i=(0,a.stringifyQuery)(this.query,!1,["uni_platform"]);this.chartData={};this.options.pageCurrent;var r=t.database(),o=l(this.query.start_time,2),u=o[0],c=o[1],d=(0,a.getAllDateCN)(new Date(u),new Date(c));r.collection("uni-stat-error-result").where(i).field("count as temp_count, app_launch_count as temp_app_launch_count, start_time").groupBy("start_time").groupField("sum(temp_count) as count, sum(temp_app_launch_count) as app_launch_count").orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data),r=[];d.forEach((function(t){var e=i.find((function(e){return e.start_time===t}));e?r.push(e):r.push({app_launch_count:0,count:0,start_time:t})}));var o={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]};if("errorCount"===n.chartTab){var l,u=o.series[0]={name:"\u5d29\u6e83\u6b21\u6570",data:[]},c=o.categories,f=s(r);try{for(f.s();!(l=f.n()).done;){var h=l.value,p=h.start_time,m=(0,a.formatDate)(p,"day"),_=h.count;c.push(m),u.data.push(_)}}catch(S){f.e(S)}finally{f.f()}n.chartData=o}else{var g,v=o.series[0]={name:"\u5d29\u6e83\u7387(%)",data:[],lineStyle:{color:"#EE6666",width:1},itemStyle:{borderWidth:1,borderColor:"#EE6666",color:"#EE6666"},areaStyle:{color:{colorStops:[{offset:0,color:"#EE6666"},{offset:1,color:"#FFFFFF"}]}}},y=o.categories,b=s(r);try{for(b.s();!(g=b.n()).done;){var x=g.value,w=x.count,$=x.app_launch_count,k=x.start_time,C=(0,a.formatDate)(k,"day");y.push(C);var D=w/$;D=D?D.toFixed(2):0,v.data.push(D)}}catch(S){b.e(S)}finally{b.f()}n.chartData=o}})).finally((function(){}))}}};e.default=k}).call(this,n("a9ff")["default"],n("0de9")["default"])},"790c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))])])],1),n("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[n("unicloud-db",{ref:"udb",attrs:{collection:t.collectionName,orderby:"create_date desc",field:"type, ip, create_date, user_id{username}[0].username as username",options:t.options,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,_i:7},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=e.pagination,s=e.loading,l=e.error;return[n("uni-table",{attrs:{loading:s,emptyText:l.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,_i:"8-"+a}},[n("uni-tr",{attrs:{_i:"9-"+a}},[n("uni-th",{attrs:{align:"center",_i:"10-"+a}},[t._v("\u5e8f\u53f7")]),n("uni-th",{attrs:{align:"center",_i:"11-"+a}},[t._v("\u7528\u6237")]),n("uni-th",{attrs:{align:"center",_i:"12-"+a}},[t._v("\u5185\u5bb9")]),n("uni-th",{attrs:{align:"center",_i:"13-"+a}},[t._v("IP")]),n("uni-th",{attrs:{align:"center",_i:"14-"+a}},[t._v("\u65f6\u95f4")])],1),t._l(i._$s("15-"+a,"f",{forItems:r}),(function(e,r,s,l){return n("uni-tr",{key:i._$s("15-"+a,"f",{forIndex:s,key:r}),attrs:{_i:"15-"+a+l}},[n("uni-td",{attrs:{align:"center",_i:"16-"+a+l}},[t._v(i._$s("16-"+a+l,"t0-0",t._s((o.current-1)*o.size+(r+1))))]),n("uni-td",{attrs:{align:"center",_i:"17-"+a+l}},[t._v(i._$s("17-"+a+l,"t0-0",t._s(e.user_id[0]&&e.user_id[0].username||"-")))]),n("uni-td",{attrs:{align:"center",_i:"18-"+a+l}},[t._v(i._$s("18-"+a+l,"t0-0",t._s(e.type)))]),n("uni-td",{attrs:{align:"center",_i:"19-"+a+l}},[t._v(i._$s("19-"+a+l,"t0-0",t._s(e.ip)))]),n("uni-td",{attrs:{align:"center",_i:"20-"+a+l}},[n("uni-dateformat",{attrs:{date:e.create_date,threshold:[0,0],_i:"21-"+a+l}})],1)],1)}))],2),n("view",{staticClass:i._$s("22-"+a,"sc","uni-pagination-box"),attrs:{_i:"22-"+a}},[n("uni-pagination",{attrs:{"show-icon":!0,"page-size":o.size,total:o.count,_i:"23-"+a},on:{change:t.onPageChanged},model:{value:t._$s("23-"+a,"v-model",o.current),callback:function(e){t.$set(o,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)])},r=[]},7915:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default,uniTd:n("abd8").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("uni-stat-panel",{attrs:{items:t.panelData,_i:15}}),n("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[n("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,i,a,r){return[t._$s("20-"+r,"i",e.title)?n("uni-th",{key:t._$s(19,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"20-"+r}},[n("uni-tooltip",{attrs:{_i:"21-"+r},scopedSlots:t._u([t._$s("23-"+r,"i",0===i&&e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("24-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"24-"+r+"-"+o}},[t._v(a._$s("24-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("21-"+r,"t0-0",t._s(e.title))),t._$s("22-"+r,"i",0===i&&e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"22-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(25,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(25,"f",{forIndex:a,key:i}),attrs:{_i:"25-"+r}},[t._l(t._$s("26-"+r,"f",{forItems:t.fieldsMap}),(function(i,a,o,s){return[n("uni-td",{key:t._$s("26-"+r,"f",{forIndex:o,keyIndex:0,key:"26-"+r+"-0"+s}),attrs:{align:0===a?"left":"center",_i:"27-"+r+"-"+s}},[t._v(t._$s("27-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2),n("view",{staticClass:t._$s(28,"sc","uni-pagination-box"),attrs:{_i:28}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:29},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),n("fix-window",{attrs:{_i:30}})],1)},r=[]},"7b47":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f"},{title:"\u9875\u9762\u540d\u79f0",field:"title"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u5165\u53e3\u9875\u6b21\u6570",field:"entry_count",tooltip:"\u4f5c\u4e3a\u8bbf\u95ee\u4f1a\u8bdd\u7b2c\u4e00\u4e2a\u8bbf\u95ee\u9875\u9762\uff08\u5373\u7740\u9646\u9875\uff09\u7684\u6b21\u6570",value:0},{title:"\u8df3\u51fa\u7387",field:"bounce_rate",formatter:"%%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,stat:"avg"},{title:"\u8bbf\u95ee\u603b\u65f6\u957f",field:"duration",disabled:!0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",computed:"duration/visit_times",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",computed:"duration/visit_devices",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u8bbf\u95ee\u8bbe\u5907\u6570",value:0}];e.default=i},"7b90":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("0db7");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l=(s.command,"uni-id-tag");function u(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var c={data:function(){var t={tagid:"",name:"",description:""};return{formData:t,formOptions:{},rules:r({},u(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){return t.submitForm(e)})).catch((function(){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;return s.collection(l).doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),s.collection(l).doc(t).field("tagid,name,description").get().then((function(t){var n=t.result.data[0];n&&(e.formData=n)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,n("a9ff")["default"])},"7c28":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(n("c762")),a=l(n("e040")),r=l(n("9fc1")),o=n("37dc"),s=l(n("4908"));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return p(t)||h(t,e)||d(t,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function p(t){if(Array.isArray(t))return t}var m=(0,o.initVueI18n)(s.default),_=m.t,g={components:{calendarItem:a.default,timePicker:r.default},props:{date:{type:String,default:""},defTime:{type:[String,Object],default:""},selectableTimes:{type:[Object],default:function(){return{}}},selected:{type:Array,default:function(){return[]}},lunar:{type:Boolean,default:!1},startDate:{type:String,default:""},endDate:{type:String,default:""},range:{type:Boolean,default:!1},typeHasTime:{type:Boolean,default:!1},insert:{type:Boolean,default:!0},showMonth:{type:Boolean,default:!0},clearDate:{type:Boolean,default:!0},left:{type:Boolean,default:!0},right:{type:Boolean,default:!0},checkHover:{type:Boolean,default:!0},hideSecond:{type:[Boolean],default:!1},pleStatus:{type:Object,default:function(){return{before:"",after:"",data:[],fulldate:""}}}},data:function(){return{show:!1,weeks:[],calendar:{},nowDate:"",aniMaskShow:!1,firstEnter:!0,time:"",timeRange:{startTime:"",endTime:""},tempSingleDate:"",tempRange:{before:"",after:""}}},watch:{date:{immediate:!0,handler:function(t,e){var n=this;this.range||(this.tempSingleDate=t,setTimeout((function(){n.init(t)}),100))}},defTime:{immediate:!0,handler:function(t,e){this.range?(this.timeRange.startTime=t.start,this.timeRange.endTime=t.end):this.time=t}},startDate:function(t){this.cale.resetSatrtDate(t),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks},endDate:function(t){this.cale.resetEndDate(t),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks},selected:function(t){this.cale.setSelectInfo(this.nowDate.fullDate,t),this.weeks=this.cale.weeks},pleStatus:{immediate:!0,handler:function(t,e){var n=this,i=t.before,a=t.after,r=t.fulldate,o=t.which;this.tempRange.before=i,this.tempRange.after=a,setTimeout((function(){if(r)if(n.cale.setHoverMultiple(r),i&&a){if(n.cale.lastHover=!0,n.rangeWithinMonth(a,i))return;n.setDate(i)}else n.cale.setMultiple(r),n.setDate(n.nowDate.fullDate),n.calendar.fullDate="",n.cale.lastHover=!1;else n.cale.setDefaultMultiple(i,a),"left"===o?(n.setDate(i),n.weeks=n.cale.weeks):(n.setDate(a),n.weeks=n.cale.weeks),n.cale.lastHover=!0}),16)}}},computed:{reactStartTime:function(){var t=this.range?this.tempRange.before:this.calendar.fullDate,e=t===this.startDate?this.selectableTimes.start:"";return e},reactEndTime:function(){var t=this.range?this.tempRange.after:this.calendar.fullDate,e=t===this.endDate?this.selectableTimes.end:"";return e},selectDateText:function(){return _("uni-datetime-picker.selectDate")},startDateText:function(){return this.startPlaceholder||_("uni-datetime-picker.startDate")},endDateText:function(){return this.endPlaceholder||_("uni-datetime-picker.endDate")},okText:function(){return _("uni-datetime-picker.ok")},yearText:function(){return _("uni-datetime-picker.year")},monthText:function(){return _("uni-datetime-picker.month")},MONText:function(){return _("uni-calender.MON")},TUEText:function(){return _("uni-calender.TUE")},WEDText:function(){return _("uni-calender.WED")},THUText:function(){return _("uni-calender.THU")},FRIText:function(){return _("uni-calender.FRI")},SATText:function(){return _("uni-calender.SAT")},SUNText:function(){return _("uni-calender.SUN")},confirmText:function(){return _("uni-calender.confirm")}},created:function(){this.cale=new i.default({selected:this.selected,startDate:this.startDate,endDate:this.endDate,range:this.range}),this.init(this.date)},methods:{leaveCale:function(){this.firstEnter=!0},handleMouse:function(t){if(!t.disable&&!this.cale.lastHover){var e=this.cale.multipleStatus,n=e.before;e.after;n&&(this.calendar=t,this.cale.setHoverMultiple(this.calendar.fullDate),this.weeks=this.cale.weeks,this.firstEnter&&(this.$emit("firstEnterCale",this.cale.multipleStatus),this.firstEnter=!1))}},rangeWithinMonth:function(t,e){var n=t.split("-"),i=u(n,2),a=i[0],r=i[1],o=e.split("-"),s=u(o,2),l=s[0],c=s[1];return a===l&&r===c},clean:function(){this.close()},clearCalender:function(){this.range?(this.timeRange.startTime="",this.timeRange.endTime="",this.tempRange.before="",this.tempRange.after="",this.cale.multipleStatus.before="",this.cale.multipleStatus.after="",this.cale.multipleStatus.data=[],this.cale.lastHover=!1):(this.time="",this.tempSingleDate=""),this.calendar.fullDate="",this.setDate()},bindDateChange:function(t){var e=t.detail.value+"-1";this.init(e)},init:function(t){this.cale.setDate(t),this.weeks=this.cale.weeks,this.nowDate=this.calendar=this.cale.getInfo(t)},open:function(){var t=this;this.clearDate&&!this.insert&&(this.cale.cleanMultipleStatus(),this.init(this.date)),this.show=!0,this.$nextTick((function(){setTimeout((function(){t.aniMaskShow=!0}),50)}))},close:function(){var t=this;this.aniMaskShow=!1,this.$nextTick((function(){setTimeout((function(){t.show=!1,t.$emit("close")}),300)}))},confirm:function(){this.setEmit("confirm"),this.close()},change:function(){this.insert&&this.setEmit("change")},monthSwitch:function(){var t=this.nowDate,e=t.year,n=t.month;this.$emit("monthSwitch",{year:e,month:Number(n)})},setEmit:function(t){var e=this.calendar,n=e.year,i=e.month,a=e.date,r=e.fullDate,o=e.lunar,s=e.extraInfo;this.$emit(t,{range:this.cale.multipleStatus,year:n,month:i,date:a,time:this.time,timeRange:this.timeRange,fulldate:r,lunar:o,extraInfo:s||{}})},choiceDate:function(t){t.disable||(this.calendar=t,this.calendar.userChecked=!0,this.cale.setMultiple(this.calendar.fullDate,!0),this.weeks=this.cale.weeks,this.tempSingleDate=this.calendar.fullDate,this.tempRange.before=this.cale.multipleStatus.before,this.tempRange.after=this.cale.multipleStatus.after,this.change())},backtoday:function(){var t=this.cale.getDate(new Date).fullDate;this.init(t),this.change()},dateCompare:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e},pre:function(){var t=this.cale.getDate(this.nowDate.fullDate,-1,"month").fullDate;this.setDate(t),this.monthSwitch()},next:function(){var t=this.cale.getDate(this.nowDate.fullDate,1,"month").fullDate;this.setDate(t),this.monthSwitch()},setDate:function(t){this.cale.setDate(t),this.weeks=this.cale.weeks,this.nowDate=this.cale.getInfo(t)}}};e.default=g},"7d53":function(t,e,n){"use strict";n.r(e);var i=n("e141"),a=n("4491");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"7d96":function(t,e,n){"use strict";n.r(e);var i=n("8b8a"),a=n("d86c");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"7da7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("d475")),a=r(n("6882"));function r(t){return t&&t.__esModule?t:{default:t}}var o={name:"UniDataPicker",emits:["popupopened","popupclosed","nodeclick","input","change","update:modelValue"],mixins:[i.default],components:{DataPickerView:a.default},props:{options:{type:[Object,Array],default:function(){return{}}},popupTitle:{type:String,default:"\u8bf7\u9009\u62e9"},placeholder:{type:String,default:"\u8bf7\u9009\u62e9"},heightMobile:{type:String,default:""},readonly:{type:Boolean,default:!1},clearIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!0},split:{type:String,default:"/"},ellipsis:{type:Boolean,default:!0}},data:function(){return{isOpened:!1,inputSelected:[]}},created:function(){var t=this;this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this)),this.$nextTick((function(){t.load()}))},methods:{clear:function(){this.inputSelected.splice(0),this._dispatchEvent([])},onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var t=this;this.readonly?this._processReadonly(this.localdata,this.dataValue):this.isLocaldata?(this.loadData(),this.inputSelected=this.selected.slice(0)):this.parentField||this.selfField||!this.hasValue?this.hasValue&&this.getTreePath((function(){t.inputSelected=t.selected.slice(0)})):this.getNodeData((function(){t.inputSelected=t.selected.slice(0)}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,n=e.$options.name;while(n!==t){if(e=e.$parent,!e)return!1;n=e.$options.name}return e},show:function(){var t=this;this.isOpened=!0,setTimeout((function(){t.$refs.pickerView.updateData({treeData:t._treeData,selected:t.selected,selectedIndex:t.selectedIndex})}),200),this.$emit("popupopened")},hide:function(){this.isOpened=!1,this.$emit("popupclosed")},handleInput:function(){this.readonly||this.show()},handleClose:function(t){this.hide()},onnodeclick:function(t){this.$emit("nodeclick",t)},ondatachange:function(t){this._treeData=this.$refs.pickerView._treeData},onchange:function(t){this.hide(),this.inputSelected=t,this._dispatchEvent(t)},_processReadonly:function(t,e){var n,i=t.findIndex((function(t){return t.children}));if(i>-1)return Array.isArray(e)?(n=e[e.length-1],"object"===typeof n&&n.value&&(n=n.value)):n=e,void(this.inputSelected=this._findNodePath(n,this.localdata));if(this.hasValue){for(var a=[],r=0;r<e.length;r++){var o=e[r],s=t.find((function(t){return t.value==o}));s&&a.push(s)}a.length&&(this.inputSelected=a)}else this.inputSelected=[]},_filterForArray:function(t,e){for(var n=[],i=0;i<e.length;i++){var a=e[i],r=t.find((function(t){return t.value==a}));r&&n.push(r)}return n},_dispatchEvent:function(t){var e={};if(t.length){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=t[i].value;e=t[t.length-1]}else e.value="";this.formItem&&this.formItem.setValue(e.value),this.$emit("input",e.value),this.$emit("update:modelValue",e.value),this.$emit("change",{detail:{value:t}})}}};e.default=o},"7de3":function(t,e,n){"use strict";n.r(e);var i=n("fd93"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"7e35":function(t,e,n){"use strict";n.r(e);var i=n("bd2a"),a=n("a17c");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"7f0d":function(t,e,n){"use strict";n.r(e);var i=n("bbeb"),a=n("fc06");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"7f1b":function(t,e,n){"use strict";n.r(e);var i=n("f6d6"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"7f2b":function(t,e,n){"use strict";n.r(e);var i=n("9958"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"7f3c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("b59f"));function a(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{icons:i.default}},props:{tag:{type:Boolean,default:!0},fixWindow:{type:Boolean,default:!0}},methods:{setClipboardData:function(t,e){var n="uni-icons-"+e;this.tag&&"tag"===t&&(n='<view class="'+n+'"></view>'),uni.setClipboardData({data:n,success:function(t){uni.showToast({icon:"none",title:"\u590d\u5236 "+n+" \u6210\u529f\uff01"})},fail:function(t){uni.showModal({content:"\u590d\u5236 "+n+" \u5931\u8d25\uff01",showCancel:!1})}})}}};e.default=r},8062:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[t._l(t._$s(1,"f",{forItems:t.uploadTasks}),(function(e,i,a,r){return[n("view",{key:t._$s(1,"f",{forIndex:a,keyIndex:0,key:"1-0"+r}),staticClass:t._$s("2-"+r,"sc","upload-task-body"),attrs:{_i:"2-"+r}},[n("view",{staticClass:t._$s("3-"+r,"sc","upload-task-item"),attrs:{_i:"3-"+r}},[n("text",{staticClass:t._$s("4-"+r,"sc","upload-task-item-name"),attrs:{_i:"4-"+r}},[t._v(t._$s("4-"+r,"t0-0",t._s(e.name)))]),t._$s("5-"+r,"i",t.showProgress)?n("progress",{staticClass:t._$s("5-"+r,"sc","upload-task-item-progress"),attrs:{activeColor:t._$s("5-"+r,"a-activeColor",-1!==e.state?"#42b983":"#ff5a5f"),percent:t._$s("5-"+r,"a-percent",100*e.progress),_i:"5-"+r}}):t._e(),n("view",{staticClass:t._$s("6-"+r,"sc","flex"),attrs:{_i:"6-"+r}},[n("text",{staticClass:t._$s("7-"+r,"sc","upload-task-item-size"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.size)))]),n("text",{staticClass:t._$s("8-"+r,"sc","upload-task-item-size"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(-1!==e.state?"":"\u5931\u8d25")))])])])])]}))],2)},r=[]},8093:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("update-password",{attrs:{hasBackButton:!0,_i:1}}),n("fix-window",{attrs:{_i:2}})],1)},r=[]},"81c9":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniDataCheckbox:n("a93f").default,showInfo:n("f690").default,uniFilePicker:n("d536").default,uniCard:n("340d").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.type_valuetotext[t.formData.type])))])])]),n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",labelWidth:t.labelWidth,_i:5}},[n("uni-forms-item",{attrs:{name:"appid",label:"AppID",required:!0,_i:6}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),n("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",_i:8}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("uni-forms-item",{attrs:{name:"title",label:"\u66f4\u65b0\u6807\u9898",_i:10}},[n("uni-easyinput",{attrs:{placeholder:"\u66f4\u65b0\u6807\u9898",_i:11},model:{value:t._$s(11,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),n("uni-forms-item",{attrs:{name:"contents",label:"\u66f4\u65b0\u5185\u5bb9",required:!0,_i:12}},[n("textarea",{staticClass:t._$s(13,"sc","uni-textarea-border"),attrs:{value:t._$s(13,"a-value",t.formData.contents),_i:13},on:{input:function(e){return t.binddata("contents",e.detail.value)},"update:value":function(e){return t.formData.contents=e}}})]),n("uni-forms-item",{attrs:{name:"platform",label:"\u5e73\u53f0",required:!0,_i:14}},[n("uni-data-checkbox",{attrs:{multiple:t.isWGT,localdata:t.platformLocaldata,_i:15},model:{value:t._$s(15,"v-model",t.formData.platform),callback:function(e){t.$set(t.formData,"platform",e)},expression:"formData.platform"}})],1),n("uni-forms-item",{attrs:{name:"version",label:"\u7248\u672c\u53f7",required:!0,_i:16}},[n("uni-easyinput",{attrs:{placeholder:"\u5f53\u524d\u5305\u7248\u672c\u53f7\uff0c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248\u672c\u53f7",_i:17},model:{value:t._$s(17,"v-model",t.formData.version),callback:function(e){t.$set(t.formData,"version",e)},expression:"formData.version"}})],1),t._$s(18,"i",t.isWGT)?n("uni-forms-item",{key:"min_uni_version",attrs:{name:"min_uni_version",label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",required:t.isWGT,_i:18}},[n("uni-easyinput",{attrs:{placeholder:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",_i:19},model:{value:t._$s(19,"v-model",t.formData.min_uni_version),callback:function(e){t.$set(t.formData,"min_uni_version",e)},expression:"formData.min_uni_version"}}),n("show-info",{attrs:{content:t.minUniVersionContent,_i:20}})],1):t._e(),t._$s(21,"i",!t.isiOS)?n("uni-forms-item",{attrs:{label:"\u4e0a\u4f20apk\u5305",_i:21}},[n("uni-file-picker",{attrs:{"file-extname":t.fileExtname,disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",_i:22},on:{success:t.packageUploadSuccess,delete:t.packageDelete},model:{value:t._$s(22,"v-model",t.appFileList),callback:function(e){t.appFileList=e},expression:"appFileList"}},[n("view",{staticClass:t._$s(23,"sc","flex"),attrs:{_i:23}},[n("button",{attrs:{_i:24},on:{click:t.selectFile}}),n("text")])]),t._$s(26,"i",t.hasPackage)?n("text",[t._v(t._$s(26,"t0-0",t._s(Number(t.appFileList.size/1024/1024).toFixed(2))))]):t._e()],1):t._e(),n("uni-forms-item",{key:"url",attrs:{name:"url",label:t.isiOS?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",required:!0,_i:27}},[n("uni-easyinput",{attrs:{placeholder:"\u94fe\u63a5",maxlength:-1,_i:28},model:{value:t._$s(28,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),t._$s(29,"i",!t.isiOS&&!t.isWGT&&t.formData.store_list.length)?n("uni-forms-item",{key:"store_list",attrs:{label:"Android\u5e94\u7528\u5e02\u573a",labelWidth:"125px",name:"store_list",_i:29}},[n("view",t._l(t._$s(31,"f",{forItems:t.formData.store_list}),(function(e,i,a,r){return n("view",{key:t._$s(31,"f",{forIndex:a,key:e.id})},[n("uni-card",{attrs:{_i:"32-"+r}},[n("view",[n("checkbox-group",{attrs:{_i:"34-"+r},on:{change:function(t){var n=t.detail.value;e.enable=!!n.length}}},[n("label",{staticClass:t._$s("35-"+r,"sc","title_padding"),attrs:{_i:"35-"+r}},[n("checkbox",{attrs:{checked:t._$s("36-"+r,"a-checked",e.enable),_i:"36-"+r}}),n("text")])])]),n("uni-forms-item",{attrs:{label:"\u5546\u5e97\u540d\u79f0",_i:"38-"+r}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"39-"+r},model:{value:t._$s("39-"+r,"v-model",e.name),callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),n("uni-forms-item",{attrs:{label:"Scheme",_i:"40-"+r}},[n("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:"41-"+r},model:{value:t._$s("41-"+r,"v-model",e.scheme),callback:function(n){t.$set(e,"scheme",n)},expression:"item.scheme"}})],1),n("uni-forms-item",{attrs:{label:"\u4f18\u5148\u7ea7",_i:"42-"+r}},[n("uni-easyinput",{attrs:{type:"number",_i:"43-"+r},model:{value:t._$s("43-"+r,"v-model",e.priority),callback:function(n){t.$set(e,"priority",n)},expression:"item.priority"}}),n("show-info",{attrs:{top:-100,left:-180,content:t.priorityContent,_i:"44-"+r}})],1)],1)],1)})),0)]):t._e(),t._$s(45,"i",t.isWGT)?n("uni-forms-item",{key:"is_silently",attrs:{name:"is_silently",label:"\u9759\u9ed8\u66f4\u65b0",_i:45}},[n("switch",{attrs:{checked:t._$s(46,"a-checked",t.formData.is_silently),_i:46},on:{change:function(e){return t.binddata("is_silently",e.detail.value)}}}),n("show-info",{attrs:{top:-80,content:t.silentlyContent,_i:47}})],1):t._e(),t._$s(48,"i",!t.isiOS)?n("uni-forms-item",{key:"is_mandatory",attrs:{name:"is_mandatory",label:"\u5f3a\u5236\u66f4\u65b0",_i:48}},[n("switch",{attrs:{checked:t._$s(49,"a-checked",t.formData.is_mandatory),_i:49},on:{change:function(e){return t.binddata("is_mandatory",e.detail.value)}}}),n("show-info",{attrs:{content:t.mandatoryContent,_i:50}})],1):t._e(),n("uni-forms-item",{attrs:{name:"stable_publish",label:"\u4e0a\u7ebf\u53d1\u884c",_i:51}},[n("switch",{attrs:{checked:t._$s(52,"a-checked",t.formData.stable_publish),_i:52},on:{change:function(e){return t.binddata("stable_publish",e.detail.value)}}}),n("show-info",{attrs:{top:-40,content:t.stablePublishContent2,_i:53}})],1),n("uni-forms-item",{directives:[{name:"show",rawName:"v-show",value:t._$s(54,"v-show",!1),expression:"_$s(54,'v-show',false)"}],attrs:{name:"type",label:"\u5b89\u88c5\u5305\u7c7b\u578b",_i:54}},[n("uni-data-checkbox",{attrs:{localdata:t.formOptions.type_localdata,_i:55},model:{value:t._$s(55,"v-model",t.formData.type),callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),n("view",{staticClass:t._$s(56,"sc","uni-button-group"),attrs:{_i:56}},[n("button",{staticClass:t._$s(57,"sc","uni-button"),attrs:{_i:57},on:{click:t.submit}}),n("button",{staticClass:t._$s(58,"sc","uni-button"),attrs:{_i:58},on:{click:t.back}})])],1)],1)},r=[]},"82c0":function(t,e,n){"use strict";n.r(e);var i=n("67f4"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},8325:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("416f");function a(t){return l(t)||s(t)||o(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}t.database();var c="create_date asc",d=2e4,f=1,h=[];function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.forEach((function(i){i.menu_id===e&&i.parent_id&&(n=n+1+p(t,i.parent_id,n))})),n}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.find((function(t){return t.parent_id===e}))&&t.forEach((function(i){i.parent_id===e&&(n.push(i._id),m(t,i.menu_id,n))})),n}var _={data:function(){return{query:"",where:"",orderby:c,options:{pageSize:d,pageCurrent:f},selectedIndexs:[],loading:!0,menus:[],errMsg:"",currentTab:"menus",selectedPluginMenuIndexs:[]}},computed:{pluginMenus:function(){var t=[];if(!this.$hasRole("admin"))return t;var e=this.menus;return e.length?(h.forEach((function(n){e.find((function(t){return t.menu_id===n.menu_id}))||t.push(n)})),t):t}},watch:{pluginMenus:function(t){t.length||(this.currentTab="menus")}},methods:{getSortMenu:function(t){return t.map((function(e){t.some((function(t){return t.parent_id===e.menu_id}))||(e.isLeafNode=!0)})),(0,i.buildMenus)(t)},onqueryload:function(t){for(var e=0;e<t.length;e++){var n=t[e],i=p(t,n.menu_id);n.name=(i?"\u3000".repeat(i)+"|-":"")+n.name}var a=this.getSortMenu(t),r=[];this.patTree(a,r),t.length=0,t.push.apply(t,r),this.menus=t},patTree:function(t,e){var n=this;return t.forEach((function(t){e.push(t),t.children.length&&n.patTree(t.children,e)})),e},switchTab:function(t){this.currentTab=t},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},navigateTo:function(t,e){var n=this;uni.navigateTo({url:t,events:{refreshData:function(){n.loadData(e)}}})},confirmDelete:function(t){var e=this,n=t._id,i="\u662f\u5426\u5220\u9664\u8be5\u83dc\u5355\uff1f",r=m(this.menus,t.menu_id);r.length&&(i="\u662f\u5426\u5220\u9664\u8be5\u83dc\u5355\u53ca\u5176\u5b50\u83dc\u5355\uff1f"),n=[n].concat(a(r)),uni.showModal({title:"\u63d0\u793a",content:i,success:function(t){t.confirm&&e.$refs.udb.remove(n,{needConfirm:!1})}})},pluginMenuSelectChange:function(t){this.selectedPluginMenuIndexs=t.detail.index},addPluginMenus:function(e){var n=this;if(!this.selectedPluginMenuIndexs.length)return uni.showModal({title:"\u63d0\u793a",content:"\u8bf7\u9009\u62e9\u8981\u6dfb\u52a0\u7684\u83dc\u5355\uff01",showCancel:!1});var i=this.pluginMenus,a=[];this.selectedPluginMenuIndexs.forEach((function(t){var e=i[t];if(e){var n=JSON.parse(JSON.stringify(e));delete n.json,a.push(n)}})),uni.showModal({title:"\u63d0\u793a",content:"\u60a8\u786e\u8ba4\u8981\u6dfb\u52a0\u5df2\u9009\u4e2d\u7684\u83dc\u5355\u5417\uff1f",success:function(e){if(e.confirm){uni.showLoading({mask:!0});var r=a.length===i.length;t.database().collection("opendb-admin-menus").add(a).then((function(t){n.init(),uni.showModal({title:"\u63d0\u793a",content:"\u6dfb\u52a0\u83dc\u5355\u6210\u529f\uff01",showCancel:!1,success:function(){n.$refs.pluginMenusTable.clearSelection(),r&&(n.currentTab="menus"),n.loadData()}})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})})).finally((function(){uni.hideLoading()}))}}})}}};e.default=_}).call(this,n("a9ff")["default"])},"83a6":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-table-td"),class:t._$s(0,"c",{"table--border":t.border}),style:t._$s(0,"s",{width:t.width+"px","text-align":t.align}),attrs:{_i:0}},[t._t("default",null,{_i:1})],2)},r=[]},"848e":function(t,e,n){"use strict";n.r(e);var i=n("f6b0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"849b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-stat-tabs",data:function(){return{currentTab:0,renderTabs:[]}},props:{type:{type:String,default:"line"},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},current:{type:[String,Number],default:0},mode:{type:String,default:""},today:{type:Boolean,default:!1},yesterday:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!1},all:{type:Boolean,default:!0},label:{type:String,default:""},placeholder:{type:String,default:"\u6682\u65e0\u9009\u9879"},tabs:{type:Array,default:function(){return[]}}},created:function(){this.last="".concat(this.mode.replace("-","_"),"_last_data")},mounted:function(){this.init()},watch:{current:function(t){this.currentTab=t},tabs:{immediate:!1,handler:function(t){this.init()}},renderTabs:function(t){var e=this.current;this.mode&&t.length&&e>=0&&this.$nextTick((function(){var t=this.renderTabs[e];this.change(t,e)}))}},methods:{init:function(){if(this.mode.indexOf("platform")>-1)this.renderTabs=uni.getStorageSync(this.last),this.getPlatform();else if("date"===this.mode){var t=[{_id:7,name:"\u6700\u8fd1\u4e03\u5929"},{_id:30,name:"\u6700\u8fd130\u5929"},{_id:90,name:"\u6700\u8fd190\u5929"}];this.yesterday&&t.unshift({_id:1,name:"\u6628\u5929"}),this.today&&t.unshift({_id:0,name:"\u4eca\u5929"}),this.renderTabs=t}else this.renderTabs=this.tabs},change:function(t,e){if(!t.disabled){var n=t._id,i=t.name;this.currentTab=e,this.emit(n,e,i,t)}},emit:function(t,e,n,i){this.$emit("change",t,e,n,i),this.$emit("input",t,e,n),this.$emit("update:modelValue",t,e,n)},getPlatform:function(){var e=this,n=t.database();n.collection("uni-stat-app-platforms").get().then((function(t){var n=t.result.data;if(n=n.filter((function(t){return!t.hasOwnProperty("enable")||t.enable})),n.sort((function(t,e){return t.order-e.order})),"platform-channel"===e.mode){n=n.filter((function(t){return/^android|ios$/.test(t.code)}));var i=n.map((function(t){return'platform_id == "'.concat(t._id,'"')})).join(" || ");i="(".concat(i,")"),e.setAllItem(n,i)}else if("platform-scene"===e.mode){n=n.filter((function(t){return/mp-/.test(t.code)}));var a=n.map((function(t){return'platform_id == "'.concat(t._id,'"')})).join(" || ");a="(".concat(a,")"),e.setAllItem(n,a)}else e.setAllItem(n);uni.setStorageSync(e.last,n),e.renderTabs=n}))},setAllItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u5168\u90e8";this.all&&t.unshift({name:n,_id:e})}}};e.default=n}).call(this,n("a9ff")["default"])},8512:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-popup-dialog"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-dialog-title"),attrs:{_i:1}},[n("text",{staticClass:t._$s(2,"sc","uni-dialog-title-text"),class:t._$s(2,"c",["uni-popup__"+t.dialogType]),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.titleText)))])]),t._$s(3,"i","base"===t.mode)?n("view",{staticClass:t._$s(3,"sc","uni-dialog-content"),attrs:{_i:3}},[t._t("default",[n("text",{staticClass:t._$s(5,"sc","uni-dialog-content-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.content)))])],{_i:4})],2):n("view",{staticClass:t._$s(6,"sc","uni-dialog-content"),attrs:{_i:6}},[t._t("default",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:t._$s(8,"sc","uni-dialog-input"),attrs:{placeholder:t._$s(8,"a-placeholder",t.placeholderText),focus:t._$s(8,"a-focus",t.focus),_i:8},domProps:{value:t._$s(8,"v-model",t.val)},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})],{_i:7})],2),n("view",{staticClass:t._$s(9,"sc","uni-dialog-button-group"),attrs:{_i:9}},[n("view",{staticClass:t._$s(10,"sc","uni-dialog-button"),attrs:{_i:10},on:{click:t.closeDialog}},[n("text",{staticClass:t._$s(11,"sc","uni-dialog-button-text"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.closeText)))])]),n("view",{staticClass:t._$s(12,"sc","uni-dialog-button uni-border-left"),attrs:{_i:12},on:{click:t.onOk}},[n("text",{staticClass:t._$s(13,"sc","uni-dialog-button-text uni-button-color"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.okText)))])])])])},r=[]},"852b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"",stat:-1},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{field:"bounce_times",disable:!0},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}];e.default=i},"85e9":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t._$s(0,"i",t.text)?n("text",{staticClass:t._$s(0,"sc","uni-tag"),class:t._$s(0,"c",t.classes),style:t._$s(0,"s",t.customStyle),attrs:{_i:0},on:{click:t.onClick}},[t._v(t._$s(0,"t0-0",t._s(t.text)))]):t._e()},r=[]},8634:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u540d\u79f0",field:"name",tooltip:"",formatter:""},{title:"\u8bbf\u95ee\u4eba\u6570",field:"visit_devices",tooltip:"\u8bbf\u95ee\u4eba\u6570\uff08\u6d3b\u8dc3\u7528\u6237\u6570\uff09\uff1a\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u4eba\u6570\u5360\u6bd4",field:"visit_devices/total_visit_devices",computed:"visit_devices/total_visit_devices",formatter:"%"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u8bbf\u95ee\u6b21\u6570\u5360\u6bd4",field:"visit_times/total_visit_times",computed:"visit_times/total_visit_times",formatter:"%",tooltip:""}];e.default=i},"866b":function(t,e,n){"use strict";n.r(e);var i=n("d43e"),a=n("4ec9");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},8887:function(t,e,n){"use strict";n.r(e);var i=n("eb0f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"88be":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},onLoad:function(t){this.errMsg=t.errMsg||""},methods:{}};e.default=i},"892e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.entFieldsMap=e.resFieldsMap=e.fieldsMap=void 0;var i=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u7528\u6237\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{title:"\u6d3b\u8dc3\u7528\u6237",field:"active_user_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff0c\u4eca\u65e5\u6570\u636e\u4e3a\u6bcf\u5c0f\u65f6\u6d3b\u8dc3\u7528\u6237\u7d2f\u52a0\uff08\u672a\u8651\u91cd\uff09\uff0c\u6628\u65e5\u6570\u636e\u4e3a\u5168\u5929\u6d3b\u8dc3\u7528\u6237\u8651\u91cd\u540e\u7ed3\u679c\u3002",value:0,contrast:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,contrast:0,stat:"avg"},{title:"\u4eba\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u7528\u6237\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u7528\u6237",value:0,contrast:0,stat:"avg"},{title:"\u603b\u7528\u6237\u6570",field:"total_users",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.fieldsMap=i;var a=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u7528\u6237\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u7528\u6237\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"visit_times/total_app_access",tooltip:"\u67d0\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.resFieldsMap=a;var r=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u7528\u6237\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u7528\u6237\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"entry_count",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"entry_count/total_app_access",tooltip:"\u67d0\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.entFieldsMap=r},8932:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniDataCheckbox:n("a93f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[n("uni-forms-item",{attrs:{name:"username",label:"\u7528\u6237\u540d",required:!0,_i:2}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",_i:3},model:{value:t._$s(3,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),n("uni-forms-item",{attrs:{name:"password",label:"\u521d\u59cb\u5bc6\u7801",required:!0,_i:4}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u521d\u59cb\u5bc6\u7801",_i:5},model:{value:t._$s(5,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),n("uni-forms-item",{staticClass:t._$s(6,"sc","flex-center-x"),attrs:{name:"role",label:"\u89d2\u8272\u5217\u8868",_i:6}},[n("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.roles,_i:7},model:{value:t._$s(7,"v-model",t.formData.role),callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}})],1),n("uni-forms-item",{staticClass:t._$s(8,"sc","flex-center-x"),attrs:{name:"tags",label:"\u7528\u6237\u6807\u7b7e",labelWidth:"100",_i:8}},[n("uni-data-checkbox",{ref:"checkbox",attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:9},model:{value:t._$s(9,"v-model",t.formData.tags),callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}}),n("span",{staticClass:t._$s(10,"sc","link-btn"),attrs:{_i:10},on:{click:t.gotoTagAdd}}),n("span",{staticClass:t._$s(11,"sc","link-btn"),attrs:{_i:11},on:{click:t.gotoTagList}})],1),n("uni-forms-item",{staticClass:t._$s(12,"sc","flex-center-x"),attrs:{name:"dcloud_appid",label:"\u53ef\u767b\u5f55\u5e94\u7528",labelWidth:"100",_i:12}},[n("uni-data-checkbox",{attrs:{multiple:!0,collection:"opendb-app-list",field:"appid as value, name as text",_i:13},model:{value:t._$s(13,"v-model",t.formData.dcloud_appid),callback:function(e){t.$set(t.formData,"dcloud_appid",e)},expression:"formData.dcloud_appid"}}),n("span",{staticClass:t._$s(14,"sc","link-btn"),attrs:{_i:14},on:{click:t.gotoAppList}})],1),n("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",_i:15}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:16},model:{value:t._$s(16,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),n("uni-forms-item",{attrs:{name:"email",label:"\u90ae\u7bb1",_i:17}},[n("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:18},model:{value:t._$s(18,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),n("uni-forms-item",{attrs:{name:"status",label:"\u662f\u5426\u542f\u7528",_i:19}},[n("switch",{attrs:{checked:t._$s(20,"a-checked",t.formData.status),_i:20},on:{change:function(e){return t.binddata("status",e.detail.value)}}})]),n("view",{staticClass:t._$s(21,"sc","uni-button-group"),attrs:{_i:21}},[n("button",{staticClass:t._$s(22,"sc","uni-button"),attrs:{_i:22},on:{click:t.submitForm}},[t._v(t._$s(22,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(24,"sc","uni-button"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},8948:function(t,e,n){"use strict";n.r(e);var i=n("89ec"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"89ec":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("421e"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{fieldsMap:r.default,query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},loading:!1,currentDateTab:1,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},type:"visit_depth_data",types:[{_id:"visit_depth_data",name:"\u8bbf\u95ee\u9875\u6570"},{_id:"duration_data",name:"\u8bbf\u95ee\u65f6\u957f"}],field:"visit_users",fields:[{_id:"visit_users",name:"\u8bbf\u95ee\u4eba\u6570"},{_id:"visit_times",name:"\u8bbf\u95ee\u6b21\u6570"}],options:{visit_depth_data:{prefix:"p",title:"\u9875",value:[1,2,3,4,5,10]},duration_data:{prefix:"s",title:"\u79d2",value:[0,3,6,11,21,31,51,100]}},channelData:[]}},computed:{fieldName:function(){var t=this;return this.fields.forEach((function(e){if(e._id===t.field)return e.name}))},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}},type:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},createStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visit_depth_data",n=t.length,i=this.options[e].prefix,a=this.options[e].value,r=a.map((function(a){return t.map((function(t){return"sum(".concat(e,".").concat(t,".").concat(i+"_"+a,") as ").concat(n>1?t+"_"+i+"_"+a:i+"_"+a)}))})),o=r.join();return o},parseChars:function(t){t=t.split("_");var e=this.options[this.type],n=e.title;e.value.forEach((function(i,a){var r=e.value[a+1];i===Number(t[t.length-1])&&(n=r?i+1===r?i+n:i+"-"+(r-1)+n:i+"+"+n)}));return n},getAllData:function(t){this.getChartData(t,this.field,this.fieldName),this.getTabelData(t)},getChartData:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.field;arguments.length>2&&void 0!==arguments[2]||this.fields.find((function(t){return t._id===n.field})).name;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);var r=this.createStr([i],this.type),o=t.database();o.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(r).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);i=i[0];var a={series:[{data:[]}]};for(var r in i)if("appid"!==r){var o=n.parseChars(r),s=i[r];a.series[0].data.push({name:o,value:s})}n.chartData=a})).catch((function(t){})).finally((function(){n.loading=!1}))},getTabelData:function(e){var n=this;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);var i=this.createStr(["visit_users","visit_times"],this.type);this.fieldsMap[0].title=this.types.find((function(t){return t._id===n.type})).name,this.loading=!0;var o=t.database();o.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(i).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data),o=n.type,l=[],u=n.options[o].prefix;u="_".concat(u,"_");var c,d=s(i);try{for(d.s();!(c=d.n()).done;){var f=c.value;for(var h in f)if("appid"!==h){var p={},m=h.split(u);p.name=m[1],p[m[0]]=f[h],l.push(p)}}}catch(k){d.e(k)}finally{d.f()}var _=[],g={},v=function(t,e){return t+e},y=l.filter((function(t){return t.visit_users})).map((function(t){return t.visit_users}));y=y.length?y.reduce(v):0;var b=l.filter((function(t){return t.visit_times})).map((function(t){return t.visit_times}));b=b.length?b.reduce(v):0,g.visit_times=b,g.visit_users=y,n.options[o].value.forEach((function(t){var e={};e.name=t+"p",l.forEach((function(n){if(Number(n.name)===t)for(var i in n)i!==name&&(e[i]=n[i],e["total_"+i]=g[i])})),e.name=n.parseChars(String(t)),_.push(e)}));for(var x=0,w=_;x<w.length;x++){var $=w[x];(0,a.mapfields)(r.default,$,$)}n.tableData=[],n.tableData=_})).catch((function(t){})).finally((function(){n.loading=!1}))},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},"8a0e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-"},{title:"\u65e5\u6d3b",field:"active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u5f53\u5929\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u5468\u6d3b",field:"week_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u5468\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u5468\u6d3b",field:"active_device_count/week_active_device_count",computed:"active_device_count/week_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u5468\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"},{title:"\u6708\u6d3b",field:"month_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u6708\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u6708\u6d3b",field:"active_device_count/month_active_device_count",computed:"active_device_count/month_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u6708\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"}];e.default=i},"8af5":function(t,e,n){"use strict";n.r(e);var i=n("aa4f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"8b68":function(t,e,n){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var i=uni.requireGlobal();ArrayBuffer=i.ArrayBuffer,Int8Array=i.Int8Array,Uint8Array=i.Uint8Array,Uint8ClampedArray=i.Uint8ClampedArray,Int16Array=i.Int16Array,Uint16Array=i.Uint16Array,Int32Array=i.Int32Array,Uint32Array=i.Uint32Array,Float32Array=i.Float32Array,Float64Array=i.Float64Array,BigInt64Array=i.BigInt64Array,BigUint64Array=i.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("d022").default)})),__definePage("pages/login/login",(function(){return Vue.extend(n("3c22").default)})),__definePage("pages/error/404",(function(){return Vue.extend(n("3942").default)})),__definePage("pages/changepwd/changepwd",(function(){return Vue.extend(n("03fa").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/list",(function(){return Vue.extend(n("9566").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/add",(function(){return Vue.extend(n("296c").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/detail",(function(){return Vue.extend(n("ed6b").default)})),__definePage("pages/system/menu/list",(function(){return Vue.extend(n("596a").default)})),__definePage("pages/system/menu/add",(function(){return Vue.extend(n("ffa1").default)})),__definePage("pages/system/menu/edit",(function(){return Vue.extend(n("3d3b").default)})),__definePage("pages/system/permission/list",(function(){return Vue.extend(n("eb15").default)})),__definePage("pages/system/permission/add",(function(){return Vue.extend(n("437a").default)})),__definePage("pages/system/permission/edit",(function(){return Vue.extend(n("a8bb").default)})),__definePage("pages/system/role/add",(function(){return Vue.extend(n("7f0d").default)})),__definePage("pages/system/role/edit",(function(){return Vue.extend(n("59f8").default)})),__definePage("pages/system/role/list",(function(){return Vue.extend(n("b579").default)})),__definePage("pages/system/user/add",(function(){return Vue.extend(n("90da").default)})),__definePage("pages/system/user/edit",(function(){return Vue.extend(n("23f9").default)})),__definePage("pages/system/user/list",(function(){return Vue.extend(n("866b").default)})),__definePage("pages/system/app/add",(function(){return Vue.extend(n("6e3e").default)})),__definePage("pages/system/app/list",(function(){return Vue.extend(n("7229").default)})),__definePage("pages/system/app/uni-portal/uni-portal",(function(){return Vue.extend(n("f8da").default)})),__definePage("pages/system/tag/add",(function(){return Vue.extend(n("4881").default)})),__definePage("pages/system/tag/edit",(function(){return Vue.extend(n("cb8a").default)})),__definePage("pages/system/tag/list",(function(){return Vue.extend(n("781d").default)})),__definePage("pages/system/safety/list",(function(){return Vue.extend(n("e68f").default)})),__definePage("pages/demo/init/init",(function(){return Vue.extend(n("7d53").default)})),__definePage("pages/demo/icons/icons",(function(){return Vue.extend(n("4386").default)})),__definePage("pages/demo/table/table",(function(){return Vue.extend(n("e209").default)})),__definePage("pages/uni-stat/page-res/page-res",(function(){return Vue.extend(n("f5b4").default)})),__definePage("pages/uni-stat/page-ent/page-ent",(function(){return Vue.extend(n("ad7d").default)})),__definePage("pages/uni-stat/scene/scene",(function(){return Vue.extend(n("4714").default)})),__definePage("pages/uni-stat/channel/channel",(function(){return Vue.extend(n("4ac6").default)})),__definePage("pages/uni-stat/error/js/js",(function(){return Vue.extend(n("bfba").default)})),__definePage("pages/uni-stat/error/js/detail",(function(){return Vue.extend(n("cc66").default)})),__definePage("pages/uni-stat/error/app/app",(function(){return Vue.extend(n("5a06").default)})),__definePage("pages/uni-stat/event/event",(function(){return Vue.extend(n("a185").default)})),__definePage("pages/uni-stat/device/overview/overview",(function(){return Vue.extend(n("0976").default)})),__definePage("pages/uni-stat/device/activity/activity",(function(){return Vue.extend(n("6726").default)})),__definePage("pages/uni-stat/device/trend/trend",(function(){return Vue.extend(n("d202").default)})),__definePage("pages/uni-stat/device/retention/retention",(function(){return Vue.extend(n("a937").default)})),__definePage("pages/uni-stat/device/comparison/comparison",(function(){return Vue.extend(n("c700").default)})),__definePage("pages/uni-stat/device/stickiness/stickiness",(function(){return Vue.extend(n("a75d").default)})),__definePage("pages/uni-stat/user/overview/overview",(function(){return Vue.extend(n("590c").default)})),__definePage("pages/uni-stat/user/activity/activity",(function(){return Vue.extend(n("8dfa").default)})),__definePage("pages/uni-stat/user/trend/trend",(function(){return Vue.extend(n("8d59").default)})),__definePage("pages/uni-stat/user/retention/retention",(function(){return Vue.extend(n("6e58").default)})),__definePage("pages/uni-stat/user/comparison/comparison",(function(){return Vue.extend(n("67f1").default)})),__definePage("pages/uni-stat/user/stickiness/stickiness",(function(){return Vue.extend(n("c06e").default)}))},"8b8a":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-breadcrumb"),attrs:{_i:0}},[t._t("default",null,{_i:1})],2)},r=[]},"8bbf":function(t,e){t.exports=Vue},"8c58":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-forms"),attrs:{_i:0}},[n("form",[t._t("default",null,{_i:2})],2)])},r=[]},"8d59":function(t,e,n){"use strict";n.r(e);var i=n("2e56"),a=n("5c49");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"8dfa":function(t,e,n){"use strict";n.r(e);var i=n("663d"),a=n("941e");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"8e2f":function(t,e,n){"use strict";n.r(e);var i=n("9b48"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"8e6e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("a34a")),a=s(n("f2d0")),r=n("25c7"),o=s(n("8bbf"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){l(r,i,a,o,s,"next",t)}function s(t){l(r,i,a,o,s,"throw",t)}o(void 0)}))}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o.default.prototype.binddata=function(e,n,i){if(i)this.$refs[i].setValue(e,n);else{var a;for(var r in this.$refs){var o=this.$refs[r];if(o&&o.$options&&"uniForms"===o.$options.name){a=o;break}}if(!a)return t("error","\u5f53\u524d uni-froms \u7ec4\u4ef6\u7f3a\u5c11 ref \u5c5e\u6027"," at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:38");a.setValue(e,n)}};var d={name:"uniForms",emits:["validate","submit"],options:{virtualHost:!0},props:{value:{type:Object,default:function(){return null}},modelValue:{type:Object,default:function(){return null}},model:{type:Object,default:function(){return null}},rules:{type:Object,default:function(){return{}}},errShowType:{type:String,default:"undertext"},validateTrigger:{type:String,default:"submit"},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:"left"},border:{type:Boolean,default:!1}},provide:function(){return{uniForm:this}},data:function(){return{formData:{},formRules:{}}},computed:{localData:function(){var t=this.model||this.modelValue||this.value;return t?(0,r.deepCopy)(t):{}}},watch:{rules:{handler:function(t,e){this.setRules(t)},deep:!0,immediate:!0}},created:function(){this.childrens=[],this.inputChildrens=[],this.setRules(this.rules)},methods:{setRules:function(t){this.formRules=Object.assign({},this.formRules,t),this.validator=new a.default(t)},setValue:function(t,e){var n=this.childrens.find((function(e){return e.name===t}));return n?(this.formData[t]=(0,r.getValue)(t,e,this.formRules[t]&&this.formRules[t].rules||[]),n.onFieldChange(this.formData[t])):null},validate:function(t,e){return this.checkAll(this.formData,t,e)},validateField:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;e=[].concat(e);var i={};return this.childrens.forEach((function(n){var a=(0,r.realName)(n.name);-1!==e.indexOf(a)&&(i=Object.assign({},i,c({},a,t.formData[a])))})),this.checkAll(i,[],n)},clearValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t=[].concat(t),this.childrens.forEach((function(e){if(0===t.length)e.errMsg="";else{var n=(0,r.realName)(e.name);-1!==t.indexOf(n)&&(e.errMsg="")}}))},submit:function(t,e,n){var i=this,a=function(t){var e=i.childrens.find((function(e){return e.name===t}));e&&void 0===i.formData[t]&&(i.formData[t]=i._getValue(t,i.dataValue[t]))};for(var r in this.dataValue)a(r);return this.checkAll(this.formData,t,e,"submit")},checkAll:function(t,e,n,a){var o=this;return u(i.default.mark((function s(){var l,u,c,d,f,h,p,m,_,g,v;return i.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(o.validator){s.next=2;break}return s.abrupt("return");case 2:for(c in l=[],u=function(t){var e=o.childrens.find((function(e){return(0,r.realName)(e.name)===t}));e&&l.push(e)},t)u(c);n||"function"!==typeof e||(n=e),!n&&"function"!==typeof n&&Promise&&(d=new Promise((function(t,e){n=function(n,i){n?e(n):t(i)}}))),f=[],h=JSON.parse(JSON.stringify(t)),s.t0=i.default.keys(l);case 10:if((s.t1=s.t0()).done){s.next=23;break}return p=s.t1.value,m=l[p],_=(0,r.realName)(m.name),s.next=16,m.onFieldChange(h[_]);case 16:if(g=s.sent,!g){s.next=21;break}if(f.push(g),"toast"!==o.errShowType&&"modal"!==o.errShowType){s.next=21;break}return s.abrupt("break",23);case 21:s.next=10;break;case 23:if(Array.isArray(f)&&0===f.length&&(f=null),Array.isArray(e)&&e.forEach((function(t){var e=(0,r.realName)(t),n=(0,r.getDataValue)(t,o.localData);void 0!==n&&(h[e]=n)})),"submit"===a?o.$emit("submit",{detail:{value:h,errors:f}}):o.$emit("validate",f),v={},v=(0,r.rawData)(h,o.name),n&&"function"===typeof n&&n(f,v),!d||!n){s.next=33;break}return s.abrupt("return",d);case 33:return s.abrupt("return",null);case 34:case"end":return s.stop()}}),s)})))()},validateCheck:function(t){this.$emit("validate",t)},_getValue:r.getValue,_isRequiredField:r.isRequiredField,_setDataValue:r.setDataValue,_getDataValue:r.getDataValue,_realName:r.realName,_isRealName:r.isRealName,_isEqual:r.isEqual}};e.default=d}).call(this,n("0de9")["default"])},"8eda":function(t,e,n){"use strict";n.r(e);var i=n("a66a"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"8f57":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("c35f"));function a(t){return t&&t.__esModule?t:{default:t}}var r={name:"uniMenuItem",mixins:[i.default],props:{index:{type:[String,Object],default:function(){return""}},disabled:{type:Boolean,default:!1}},data:function(){return{active:!1,activeTextColor:"#42B983",textColor:"#303133",activeBackgroundColor:""}},computed:{paddingLeft:function(){return 20+20*this.rootMenu.SubMenu.length+"px"}},created:function(){this.init()},destroyed:function(){var t=this;if(this.$menuParent){var e=this.$menuParent.itemChildrens.findIndex((function(e){return e===t}));this.$menuParent.itemChildrens.splice(e,1)}},methods:{init:function(){this.rootMenu={NavMenu:[],SubMenu:[]},this.indexPath=[],this.getParentAll("SubMenu",this),this.$menuParent=this.getParent("uniNavMenu",this),this.$subMenu=this.rootMenu.SubMenu,this.activeTextColor=this.$menuParent.activeTextColor,this.textColor=this.$menuParent.textColor,this.activeBackgroundColor=this.$menuParent.activeBackgroundColor,this.$menuParent&&(this.$menuParent.itemChildrens.push(this),this.$menuParent.isActive(this))},onClickItem:function(t){this.disabled||(this.$menuParent.closeOtherActive(this),this.active=!0,this.indexPath.unshift(this.index),this.indexPath.reverse(),"init"!==t&&this.$menuParent.select(this.index,this.indexPath))}}};e.default=r},"8f7b":function(t,e,n){"use strict";n.r(e);var i=n("c545"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"8f86":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=r(n("0953"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{isLoading:!1,showPassword:!0,showPasswordAgain:!0,errorMessage:"",password:{oldPassword:"",newPassword:"",passwordConfirmation:""},rules:{oldPassword:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801"}]},newPassword:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{minLength:6,errorMessage:"\u5bc6\u7801\u957f\u5ea6\u6700\u5c0f{minLength}\u4e2a\u5b57\u7b26"}]},passwordConfirmation:{rules:[{required:!0,errorMessage:"\u8bf7\u786e\u8ba4\u65b0\u5bc6\u7801"},{minLength:6,errorMessage:"\u5bc6\u7801\u957f\u5ea6\u6700\u5c0f{minLength}\u4e2a\u5b57\u7b26"}]}}}},props:{hasBackButton:{type:Boolean,default:!1},isPhone:{type:Boolean,default:!0}},computed:s({},(0,i.mapState)("user",["userInfo"])),methods:s(s({},(0,i.mapMutations)({removeToken:function(t){t("user/REMOVE_TOKEN")}})),{},{submit:function(t){var e=t.detail,n=e.errors,i=e.value;n||(i.newPassword===i.passwordConfirmation?this.save(i):this.errorMessage="\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u76f8\u540c")},confirmForm:function(t,e){this.binddata(t,e),this.submitForm()},submitForm:function(){this.errorMessage="",this.$refs.resetPwdForm.submit()},save:function(t){var e=this;this.isLoading=!0,this.$request("updatePwd",t,{functionName:"uni-id-cf"}).then((function(t){e.isLoading=!1,0===t.code?uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1,success:function(t){t.confirm&&(e.$emit("closePasswordPopup"),e.removeToken(),uni.reLaunch({url:a.default.login.url}))}}):uni.showToast({title:t.message,icon:"none",duration:2e3})})).catch((function(t){})).finally((function(t){e.isLoading=!1}))},back:function(){uni.navigateBack()},changePassword:function(){this.showPassword=!this.showPassword},changePasswordAgain:function(){this.showPasswordAgain=!this.showPasswordAgain}})};e.default=u},"8fa3":function(t,e,n){"use strict";n.r(e);var i=n("d1ef"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"90da":function(t,e,n){"use strict";n.r(e);var i=n("8932"),a=n("7de3");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},9246:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=u(n("a34a")),r=n("e99b"),o=n("0417"),s=u(n("94aa")),l=u(n("0868"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return p(t)||h(t)||f(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if(t){if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function h(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t){if(Array.isArray(t))return m(t)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){y(r,i,a,o,s,"next",t)}function s(t){y(r,i,a,o,s,"throw",t)}o(void 0)}))}}var x={name:"uniFilePicker",components:{uploadImage:s.default,uploadFile:l.default},emits:["select","success","fail","progress","delete","update:modelValue","input"],props:{value:{type:[Array,Object],default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},delIcon:{type:Boolean,default:!0},autoUpload:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},mode:{type:String,default:"grid"},fileMediatype:{type:String,default:"image"},fileExtname:{type:[Array,String],default:function(){return[]}},title:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto"}}},readonly:{type:Boolean,default:!1},returnType:{type:String,default:"array"},sizeType:{type:Array,default:function(){return["original","compressed"]}}},data:function(){return{files:[],localValue:[]}},watch:{value:{handler:function(t,e){this.setValue(t,e)},immediate:!0}},computed:{filesList:function(){var t=[];return this.files.forEach((function(e){t.push(e)})),t},showType:function(){return"image"===this.fileMediatype?this.mode:"list"},limitLength:function(){return"object"===this.returnType?1:this.limit?this.limit>=9?9:this.limit:1}},created:function(){t.config&&t.config.provider||(this.noSpace=!0,t.chooseAndUploadFile=r.chooseAndUploadFile),this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.form&&this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{clearFiles:function(t){var e=this;0===t||t?this.files.splice(t,1):(this.files=[],this.$nextTick((function(){e.setEmit()}))),this.$nextTick((function(){e.setEmit()}))},upload:function(){var t=[];this.files.forEach((function(e,n){"ready"!==e.status&&"error"!==e.status||t.push(Object.assign({},e))})),this.uploadFiles(t)},setValue:function(t,e){var n=this;return b(a.default.mark((function e(){var i,r,o,s;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=function(){var t=b(a.default.mark((function t(e){var i,r;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=/cloud:\/\/([\w.]+\/?)\S*/,r="",r=e.fileID?e.fileID:e.url,!i.test(r)){t.next=8;break}return e.fileID=r,t.next=7,n.getTempFileURL(r);case 7:e.url=t.sent;case 8:return e.url&&(e.path=e.url),t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),"object"!==n.returnType){e.next=10;break}if(!t){e.next=7;break}return e.next=5,i(t);case 5:e.next=8;break;case 7:t={};case 8:e.next=19;break;case 10:t||(t=[]),r=0;case 12:if(!(r<t.length)){e.next=19;break}return o=t[r],e.next=16,i(o);case 16:r++,e.next=12;break;case 19:n.localValue=t,n.form&&n.formItem&&!n.is_reset&&(n.is_reset=!1,n.formItem.setValue(n.localValue)),s=Object.keys(t).length>0?t:[],n.files=[].concat(s);case 23:case"end":return e.stop()}}),e)})))()},choose:function(){this.disabled||(this.files.length>=Number(this.limitLength)&&"grid"!==this.showType&&"array"===this.returnType?uni.showToast({title:"\u60a8\u6700\u591a\u9009\u62e9 ".concat(this.limitLength," \u4e2a\u6587\u4ef6"),icon:"none"}):this.chooseFiles())},chooseFiles:function(){var e=this,n=(0,o.get_extname)(this.fileExtname);t.chooseAndUploadFile({type:this.fileMediatype,compressed:!1,sizeType:this.sizeType,extension:n.length>0?n:void 0,count:this.limitLength-this.files.length,onChooseFile:this.chooseFileCallback,onUploadProgress:function(t){e.setProgress(t,t.index)}}).then((function(t){e.setSuccessAndError(t.tempFiles)})).catch((function(t){}))},chooseFileCallback:function(t){var e=this;return b(a.default.mark((function n(){var i,r,s,l,u,c,d,f;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=(0,o.get_extname)(e.fileExtname),r=1===Number(e.limitLength)&&e.disablePreview&&!e.disabled||"object"===e.returnType,r&&(e.files=[]),s=(0,o.get_files_and_is_max)(t,i),l=s.filePaths,u=s.files,i&&i.length>0||(l=t.tempFilePaths,u=t.tempFiles),c=[],d=0;case 7:if(!(d<u.length)){n.next=21;break}if(!(e.limitLength-e.files.length<=0)){n.next=10;break}return n.abrupt("break",21);case 10:return u[d].uuid=Date.now(),n.next=13,(0,o.get_file_data)(u[d],e.fileMediatype);case 13:f=n.sent,f.progress=0,f.status="ready",e.files.push(f),c.push(g(g({},f),{},{file:u[d]}));case 18:d++,n.next=7;break;case 21:e.$emit("select",{tempFiles:c,tempFilePaths:l}),t.tempFiles=u,e.autoUpload&&!e.noSpace||(t.tempFiles=[]);case 24:case"end":return n.stop()}}),n)})))()},uploadFiles:function(t){var e=this;t=[].concat(t),r.uploadCloudFiles.call(this,t,5,(function(t){e.setProgress(t,t.index,!0)})).then((function(t){e.setSuccessAndError(t)})).catch((function(t){}))},setSuccessAndError:function(t,e){var n=this;return b(a.default.mark((function e(){var i,r,o,s,l,u,c;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=[],r=[],o=[],s=[],l=a.default.mark((function e(l){var u,c,d;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=t[l],c=u.uuid?n.files.findIndex((function(t){return t.uuid===u.uuid})):u.index,-1!==c&&n.files){e.next=4;break}return e.abrupt("return","break");case 4:if("request:fail"!==u.errMsg){e.next=12;break}n.files[c].url=u.path,n.files[c].status="error",n.files[c].errMsg=u.errMsg,r.push(n.files[c]),s.push(n.files[c].url),e.next=26;break;case 12:if(n.files[c].errMsg="",n.files[c].fileID=u.url,d=/cloud:\/\/([\w.]+\/?)\S*/,!d.test(u.url)){e.next=21;break}return e.next=18,n.getTempFileURL(u.url);case 18:n.files[c].url=e.sent,e.next=22;break;case 21:n.files[c].url=u.url;case 22:n.files[c].status="success",n.files[c].progress+=1,i.push(n.files[c]),o.push(n.files[c].fileID);case 26:case"end":return e.stop()}}),e)})),u=0;case 6:if(!(u<t.length)){e.next=14;break}return e.delegateYield(l(u),"t0",8);case 8:if(c=e.t0,"break"!==c){e.next=11;break}return e.abrupt("break",14);case 11:u++,e.next=6;break;case 14:i.length>0&&(n.setEmit(),n.$emit("success",{tempFiles:n.backObject(i),tempFilePaths:o})),r.length>0&&n.$emit("fail",{tempFiles:n.backObject(r),tempFilePaths:s});case 16:case"end":return e.stop()}}),e)})))()},setProgress:function(t,e,n){this.files.length;var i=Math.round(100*t.loaded/t.total),a=e;n||(a=this.files.findIndex((function(e){return e.uuid===t.tempFile.uuid}))),-1!==a&&this.files[a]&&(this.files[a].progress=i-1,this.$emit("progress",{index:a,progress:parseInt(i),tempFile:this.files[a]}))},delFile:function(t){var e=this;this.$emit("delete",{tempFile:this.files[t],tempFilePath:this.files[t].url}),this.files.splice(t,1),this.$nextTick((function(){e.setEmit()}))},getFileExt:function(t){var e=t.lastIndexOf("."),n=t.length;return{name:t.substring(0,e),ext:t.substring(e+1,n)}},setEmit:function(){var t=[];"object"===this.returnType?(t=this.backObject(this.files)[0],this.localValue=t||null):(t=this.backObject(this.files),this.localValue||(this.localValue=[]),this.localValue=c(t)),this.$emit("input",this.localValue)},backObject:function(t){var e=[];return t.forEach((function(t){e.push({extname:t.extname,fileType:t.fileType,image:t.image,name:t.name,path:t.path,size:t.size,fileID:t.fileID,url:t.url})})),e},getTempFileURL:function(e){return b(a.default.mark((function n(){var i;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e={fileList:[].concat(e)},n.next=3,t.getTempFileURL(e);case 3:return i=n.sent,n.abrupt("return",i.fileList[0].tempFileURL||"");case 5:case"end":return n.stop()}}),n)})))()},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,n=e.$options.name;while(n!==t){if(e=e.$parent,!e)return!1;n=e.$options.name}return e}}};e.default=x}).call(this,n("a9ff")["default"],n("0de9")["default"])},"93bd":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-table"),attrs:{_i:0}},[n("uni-table",{attrs:{border:!0,stripe:!0,_i:1}},[n("uni-tr",{attrs:{_i:2}},[n("uni-th",{attrs:{align:"center",_i:3}},[t._v("")]),n("uni-th",{attrs:{width:"100",align:"center",_i:4}},[t._v("")]),n("uni-th",{attrs:{width:"100",align:"center",_i:5}},[t._v("")]),n("uni-th",{attrs:{width:"100",align:"center",_i:6}},[t._v("")])],1),t._l(t._$s(7,"f",{forItems:t.logs}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(7,"f",{forIndex:a,key:i}),attrs:{_i:"7-"+r}},[n("uni-td",{attrs:{_i:"8-"+r}},[n("text",{staticClass:t._$s("9-"+r,"sc","err-msg"),attrs:{_i:"9-"+r}},[t._v(t._$s("9-"+r,"t0-0",t._s(e.info))+t._$s("9-"+r,"t0-1",t._s(e.err)))])]),n("uni-td",{attrs:{_i:"10-"+r}},[n("navigator",{staticClass:t._$s("11-"+r,"sc","err-route"),attrs:{url:t._$s("11-"+r,"a-url",e.route),_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(e.route)))])]),n("uni-td",{attrs:{_i:"12-"+r}},[n("text",[t._v(t._$s("13-"+r,"t0-0",t._s(e.time)))])]),n("uni-td",{attrs:{_i:"14-"+r}})],1)}))],2)],1)},r=[]},"93d1":function(t,e,n){"use strict";function i(t,e,n){var a,r,o=window,s="application/octet-stream",l=n||s,u=t,c=!e&&!n&&u,d=document.createElement("a"),f=function(t){return String(t)},h=o.Blob||o.MozBlob||o.WebKitBlob||f,p=e||"download";if(h=h.call?h.bind(o):Blob,"true"===String(this)&&(u=[u,l],l=u[0],u=u[1]),c&&c.length<2048&&(p=c.split("/").pop().split("?")[0],d.href=c,-1!==d.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(t){i(t.target.response,p,s)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&h!==f))return navigator.msSaveBlob?navigator.msSaveBlob(y(u),p):b(u);u=y(u),l=u.type||s}else if(/([\x80-\xff])/.test(u)){var _=0,g=new Uint8Array(u.length),v=g.length;for(_;_<v;++_)g[_]=u.charCodeAt(_);u=new h([g],{type:l})}function y(t){var e=t.split(/[:;,]/),n=e[1],i="base64"==e[2]?atob:decodeURIComponent,a=i(e.pop()),r=a.length,o=0,s=new Uint8Array(r);for(o;o<r;++o)s[o]=a.charCodeAt(o);return new h([s],{type:n})}function b(t,e){if("download"in d)return d.href=t,d.setAttribute("download",p),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===e&&setTimeout((function(){o.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),n.src=t,setTimeout((function(){document.body.removeChild(n)}),333)}if(a=u instanceof h?u:new h([u],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(a,p);if(o.URL)b(o.URL.createObjectURL(a),!0);else{if("string"===typeof a||a.constructor===f)try{return b("data:"+l+";base64,"+o.btoa(a))}catch(x){return b("data:"+l+","+encodeURIComponent(a))}r=new FileReader,r.onload=function(t){b(this.result)},r.readAsDataURL(a)}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"941e":function(t,e,n){"use strict";n.r(e);var i=n("62dc"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},9438:function(t,e,n){"use strict";n.r(e);var i=n("a49c"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"94aa":function(t,e,n){"use strict";n.r(e);var i=n("6d3d"),a=n("6a4a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},9566:function(t,e,n){"use strict";n.r(e);var i=n("397b"),a=n("21a6");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},"95cd":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","container loading5"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),n("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},r=[]},"960d":function(t,e,n){"use strict";n.r(e);var i=n("c1ae"),a=n("848e");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},9628:function(t){t.exports=JSON.parse('{"login":{"text":{"title":"\u7cfb\u7d71\u767b\u9304","prompt":"\u5982\u7121\u7ba1\u7406\u54e1\u8cec\u865f\uff0c\u8acb\u5148\u5275\u5efa\u7ba1\u7406\u54e1..."},"field":{"username":"\u8cec\u865f","password":"\u5bc6\u78bc","captcha":"\u9a57\u8b49\u78bc"},"button":{"login":"\u767b\u9304"}},"topwindow":{"text":{"doc":"Admin \u6846\u67b6\u6587\u6a94","plugin":"\u700f\u89bd\u66f4\u591a Admin \u63d2\u4ef6","changeLanguage":"\u5207\u6362\u8bed\u8a00","changePwd":"\u4fee\u6539\u5bc6\u78bc","signOut":"\u9000\u51fa"}},"index":{"text":{"prompt":"\u5167\u5bb9\u4e3b\u9ad4\uff0c\u53ef\u81ea\u5b9a\u7fa9\u5167\u5bb9\u53ca\u6a23\u5f0f","vesion":"\u53ef\u5728\u63a7\u5236\u53f0\u548c package.json \u4e2d\u67e5\u770b\u7576\u524d\u7684\u7248\u672c"}},"updatePwd":{"text":{"title":"\u4fee\u6539\u5bc6\u78bc"},"field":{"oldPassword":"\u820a\u5bc6\u78bc","newPassword":"\u65b0\u5bc6\u78bc","passwordConfirmation":"\u78ba\u8a8d\u65b0\u5bc6\u78bc"},"button":{"save":"\u4fdd\u5b58","back":"\u8fd4\u56de"}},"common":{"placeholder":{"query":"\u8acb\u8f38\u5165\u641c\u7d22\u5167\u5bb9"},"button":{"search":"\u641c\u7d22","add":"\u65b0\u589e","edit":"\u4fee\u6539","delete":"\u522a\u9664","batchDelete":"\u6279\u91cf\u522a\u9664","exportExcel":"\u5c0e\u51fa Excel","submit":"\u63d0\u4ea4","back":"\u8fd4\u56de","tagManager":"\u6a19\u7c3d\u7ba1\u7406","publish":"\u767c\u5e03\u9801\u7ba1\u7406","version":"\u7248\u672c\u7ba1\u7406"},"empty":"\u6c92\u6709\u66f4\u591a\u6578\u64da","piecePerPage":"\u689d/\u9801"},"user":{"text":{"userManager":"\u7528\u6236\u7ba1\u7406"}},"role":{"text":{"roleManager":"\u89d2\u8272\u7ba1\u7406"}},"permission":{"text":{"permissionManager":"\u6b0a\u9650\u7ba1\u7406"}},"app":{"text":{"appManager":"\u61c9\u7528\u7ba1\u7406","describle":"\u7ba1\u7406\u7528\u6236\u53ef\u767b\u9304\u7684\u61c9\u7528"}},"menu":{"text":{"menuManager":"\u83dc\u55ae\u5217\u8868","additiveMenu":"\u5f85\u6dfb\u52a0\u83dc\u55ae"},"button":{"addFirstLevelMenu":"\u65b0\u589e\u4e00\u7d1a\u589e","addChildMenu":"\u5b50\u83dc\u55ae"}},"demo":{"icons":{"title":"\u5716\u6a19","describle":"\u9ede\u64ca\u5716\u6a19\u5373\u53ef\u8907\u88fd\u5716\u6a19\u4ee3\u78bc"},"table":{"title":"\u8868\u683c"}}}')},9686:function(t,e,n){"use strict";n.r(e);var i=n("e18f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"96cf":function(t,e){!function(e){"use strict";var n,i=Object.prototype,a=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",u="object"===typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{c=e.regeneratorRuntime=u?t.exports:{},c.wrap=b;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={},_={};_[o]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(M([])));v&&v!==i&&a.call(v,o)&&(_=v);var y=k.prototype=w.prototype=Object.create(_);$.prototype=y.constructor=k,k.constructor=$,k[l]=$.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===$||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(y),t},c.awrap=function(t){return{__await:t}},C(D.prototype),D.prototype[s]=function(){return this},c.AsyncIterator=D,c.async=function(t,e,n,i){var a=new D(b(t,e,n,i));return c.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(y),y[l]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=M,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,a){return s.type="throw",s.arg=t,e.next=i,a&&(e.method="next",e.arg=n),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:M(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),m}}}function b(t,e,n,i){var a=e&&e.prototype instanceof w?e:w,r=Object.create(a.prototype),o=new A(i||[]);return r._invoke=S(t,n,o),r}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}function w(){}function $(){}function k(){}function C(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function D(t){function e(n,i,r,o){var s=x(t[n],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&a.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,r,o)}),(function(t){e("throw",t,r,o)})):Promise.resolve(u).then((function(t){l.value=t,r(l)}),(function(t){return e("throw",t,r,o)}))}o(s.arg)}var n;function i(t,i){function a(){return new Promise((function(n,a){e(t,i,n,a)}))}return n=n?n.then(a,a):a()}this._invoke=i}function S(t,e,n){var i=d;return function(a,r){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===a)throw r;return I()}n.method=a,n.arg=r;while(1){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var l=x(t,e,n);if("normal"===l.type){if(i=n.done?p:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}function T(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,T(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=x(i,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,m;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function M(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){while(++i<t.length)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"96e1":function(t,e,n){"use strict";n.r(e);var i=n("27ab"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},9713:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next","uni-pagination.piecePerPage":"piece/page"}')},"976f":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-table-th"),class:t._$s(0,"c",{"table--border":t.border}),style:t._$s(0,"s",{width:t.customWidth+"px","text-align":t.align}),attrs:{_i:0}},[t._t("default",null,{_i:1})],2)},r=[]},9780:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"TableCheckbox",emits:["checkboxSelected"],props:{indeterminate:{type:Boolean,default:!1},checked:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1},index:{type:Number,default:-1},cellData:{type:Object,default:function(){return{}}}},watch:{checked:function(t){"boolean"===typeof this.checked?this.isChecked=t:this.isChecked=!0},indeterminate:function(t){this.isIndeterminate=t}},data:function(){return{isChecked:!1,isDisabled:!1,isIndeterminate:!1}},created:function(){"boolean"===typeof this.checked&&(this.isChecked=this.checked),this.isDisabled=this.disabled},methods:{selected:function(){this.isDisabled||(this.isIndeterminate=!1,this.isChecked=!this.isChecked,this.$emit("checkboxSelected",{checked:this.isChecked,data:this.cellData}))}}};e.default=i},9799:function(t,e,n){"use strict";n.r(e);var i=n("85e9"),a=n("369c");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0deef532",null,!1,i["a"],o);e["default"]=l.exports},"98a1":function(t,e,n){"use strict";n.r(e);var i=n("4e41"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"98c7":function(t,e,n){"use strict";n.r(e);var i=n("3f82"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},9958:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("709c");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l="create_date desc",u=["permission_id","permission_name"],c=20,d=1,f={ascending:"asc",descending:"desc"},h={data:function(){return{query:"",where:"",orderby:l,orderByFieldName:"",selectedIndexs:[],options:r({pageSize:c,pageCurrent:d,filterData:{}},i.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-permissions.xls",type:"xls",fields:{"\u6743\u9650ID":"permission_id","\u6743\u9650\u540d\u79f0":"permission_name","\u5907\u6ce8":"comment"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return u.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var n=this;uni.navigateTo({url:t,events:{refreshData:function(){n.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var n=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+f[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){n.$refs.udb.loadData()}))},filterChange:function(t,e){var n=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,i.filterToWhere)(this._filter,s.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){n.$refs.udb.loadData()}))}}};e.default=h}).call(this,n("a9ff")["default"])},"99b8":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","container loading1"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),n("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},r=[]},"99f6":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","charts-error"),attrs:{_i:1}}),n("view",{staticClass:t._$s(2,"sc","charts-font"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(null==t.errorMessage?"\u8bf7\u70b9\u51fb\u91cd\u8bd5":t.errorMessage)))])])},r=[]},"9a4a":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9ae2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("77f7")),a=o(n("4202")),r=o(n("9628"));function o(t){return t&&t.__esModule?t:{default:t}}var s={en:i.default,"zh-Hans":a.default,"zh-Hant":r.default};e.default=s},"9af0":function(t,e,n){"use strict";n.r(e);var i=n("78ab"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9b14":function(t,e,n){"use strict";n.r(e);var i=n("12d6"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9b17":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"Success","uniCloud.component.update.success":"Success","uniCloud.component.remove.showModal.title":"Tips","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9b1e":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex mb-m"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("view",{staticClass:t._$s(10,"sc","ml-m label-text hide-on-phone"),attrs:{_i:10}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":!!t.query.start_time}),attrs:{type:"date",returnType:"timestamp",clearIcon:!1,_i:11},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","dispaly-grid"),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.chartsData}),(function(e,i,a,r){return n("view",{key:t._$s(13,"f",{forIndex:a,key:i}),staticClass:t._$s("13-"+r,"sc","uni-stat--x uni-charts-box1"),attrs:{_i:"13-"+r}},[n("view",{staticClass:t._$s("14-"+r,"sc","label-text"),attrs:{_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(t.chartsData[i].title)))]),n("qiun-data-charts",{attrs:{type:"ring",chartData:t.chartsData[i],echartsH5:!0,echartsApp:!0,_i:"15-"+r}})],1)})),0)]),n("fix-window",{attrs:{_i:16}})],1)},r=[]},"9b48":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniMenuSidebar",props:{data:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},methods:{}};e.default=i},"9ba8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u6e20\u9053\u503c",field:"channel_code",tooltip:"",formatter:""},{title:"\u6e20\u9053\u540d\u79f0",field:"channel_name",tooltip:"",formatter:""},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}];e.default=i},"9c0c":function(t,e,n){"use strict";n.r(e);var i=n("b078"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9cfe":function(t,e,n){"use strict";n.r(e);var i=n("0def"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9d91":function(t,e,n){"use strict";n.r(e);var i=n("734d"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9fc1":function(t,e,n){"use strict";n.r(e);var i=n("cd13"),a=n("f319");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a06b:function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"\u9078\u64c7\u65e5\u671f","uni-datetime-picker.selectTime":"\u9078\u64c7\u6642\u9593","uni-datetime-picker.selectDateTime":"\u9078\u64c7\u65e5\u671f\u6642\u9593","uni-datetime-picker.startDate":"\u958b\u59cb\u65e5\u671f","uni-datetime-picker.endDate":"\u7d50\u675f\u65e5\u671f","uni-datetime-picker.startTime":"\u958b\u59cb\u65f6\u95f4","uni-datetime-picker.endTime":"\u7d50\u675f\u65f6\u95f4","uni-datetime-picker.ok":"\u78ba\u5b9a","uni-datetime-picker.clear":"\u6e05\u9664","uni-datetime-picker.cancel":"\u53d6\u6d88","uni-datetime-picker.year":"\u5e74","uni-datetime-picker.month":"\u6708","uni-calender.SUN":"\u65e5","uni-calender.MON":"\u4e00","uni-calender.TUE":"\u4e8c","uni-calender.WED":"\u4e09","uni-calender.THU":"\u56db","uni-calender.FRI":"\u4e94","uni-calender.SAT":"\u516d","uni-calender.confirm":"\u78ba\u8a8d"}')},a0e3:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("b3bc"),a=n("70ee");function r(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw r}}}}function o(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l={data:function(){return{popupFieldsMap:a.popupFieldsMap,options:{pageSize:20,pageCurrent:1,total:0},query:{error_hash:"",create_time:[]},loading:!1,tableData:[]}},onLoad:function(t){var e=t.error_hash,n=t.create_time;e&&(n=Number(n),this.query.error_hash=e,this.query.create_time=[n,n+864e5],this.getTableData((0,i.stringifyQuery)(this.query)))},methods:{changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData((0,i.stringifyQuery)(this.query))},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData((0,i.stringifyQuery)(this.query))},getTableData:function(e){var n=this,a=this.options.pageCurrent;this.loading=!0;var o=t.database();o.collection("uni-stat-error-logs").where(e).orderBy("create_time","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,a=e.count,o=e.data;n.options.total=a;var s,l=r(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.create_time=(0,i.parseDateTime)(u.create_time,"dateTime")}}catch(c){l.e(c)}finally{l.f()}n.tableData=o})).finally((function(){n.loading=!1}))}}};e.default=l}).call(this,n("a9ff")["default"])},a17c:function(t,e,n){"use strict";n.r(e);var i=n("f2ca"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},a185:function(t,e,n){"use strict";n.r(e);var i=n("c895"),a=n("e412");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a26e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(n("9713")),a=l(n("cb1d")),r=l(n("e0fb")),o=l(n("e5ed")),s=l(n("4222"));function l(t){return t&&t.__esModule?t:{default:t}}var u={en:i.default,es:a.default,fr:r.default,"zh-Hans":o.default,"zh-Hant":s.default};e.default=u},a332:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTd",options:{virtualHost:!0},props:{width:{type:[String,Number],default:""},align:{type:String,default:"left"},rowspan:{type:[Number,String],default:1},colspan:{type:[Number,String],default:1}},data:function(){return{border:!1}},created:function(){this.root=this.getTable(),this.border=this.root.border},methods:{getTable:function(){var t=this.$parent,e=t.$options.name;while("uniTable"!==e){if(t=t.$parent,!t)return!1;e=t.$options.name}return t}}};e.default=i},a34a:function(t,e,n){t.exports=n("bbdd")},a3cb:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.icons.title"))))]),n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.$t("demo.icons.describle"))))])])]),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","icons"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.icons}),(function(e,i,a,r){return n("view",{key:t._$s(7,"f",{forIndex:a,key:i}),staticClass:t._$s("7-"+r,"sc","icon-item pointer"),attrs:{_i:"7-"+r}},[n("view",{class:t._$s("8-"+r,"c","uni-icons-"+e),attrs:{_i:"8-"+r},on:{click:function(n){return t.setClipboardData("tag",e)}}}),n("text",{staticClass:t._$s("9-"+r,"sc","icon-text"),attrs:{_i:"9-"+r},on:{click:function(n){return t.setClipboardData("class",e)}}},[t._v(t._$s("9-"+r,"t0-0",t._s(e)))])])})),0)]),t._$s(10,"i",t.fixWindow)?n("fix-window",{attrs:{_i:10}}):t._e()],1)},r=[]},a43a:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],a=function(t,e){var n=new Date;n.setTime(1e3*t);var i=n.getFullYear(),a=n.getMonth()+1;a=a<10?"0"+a:a;var r=n.getDate();r=r<10?"0"+r:r;var o=n.getHours();o=o<10?"0"+o:o;var s=n.getMinutes(),l=n.getSeconds();return s=s<10?"0"+s:s,l=l<10?"0"+l:l,"full"==e?i+"-"+a+"-"+r+" "+o+":"+s+":"+l:"y-m-d"==e?i+"-"+a+"-"+r:"h:m"==e?o+":"+s:"h:m:s"==e?o+":"+s+":"+l:[i,a,r,o,s,l]},r={type:["pie","ring","rose","word","funnel","map","arcbar","line","column","bar","area","radar","gauge","candle","mix","tline","tarea","scatter","bubble","demotype"],range:["\u997c\u72b6\u56fe","\u5706\u73af\u56fe","\u73ab\u7470\u56fe","\u8bcd\u4e91\u56fe","\u6f0f\u6597\u56fe","\u5730\u56fe","\u5706\u5f27\u8fdb\u5ea6\u6761","\u6298\u7ebf\u56fe","\u67f1\u72b6\u56fe","\u6761\u72b6\u56fe","\u533a\u57df\u56fe","\u96f7\u8fbe\u56fe","\u4eea\u8868\u76d8","K\u7ebf\u56fe","\u6df7\u5408\u56fe","\u65f6\u95f4\u8f74\u6298\u7ebf","\u65f6\u95f4\u8f74\u533a\u57df","\u6563\u70b9\u56fe","\u6c14\u6ce1\u56fe","\u81ea\u5b9a\u4e49\u7c7b\u578b"],categories:["line","column","bar","area","radar","gauge","candle","mix","demotype"],instance:{},option:{},formatter:{yAxisDemo1:function(t){return t+"\u5143"},yAxisDemo2:function(t){return t.toFixed(2)},xAxisDemo1:function(t){return t+"\u5e74"},xAxisDemo2:function(t){return a(t,"h:m")},seriesDemo1:function(t){return t+"\u5143"},tooltipDemo1:function(t,e,n,i){return 0==n?"\u968f\u4fbf\u7528"+t.data+"\u5e74":"\u5176\u4ed6\u6211\u6ca1\u6539"+t.data+"\u5929"},pieDemo:function(t,e,n){if(void 0!==e)return n[e].name+"\uff1a"+n[e].data+"\u5143"},tooltipCustom:function(t,e,n,i){return 0==n?"\u968f\u4fbf\u7528"+t.data+"\u5e74":"\u5176\u4ed6\u6211\u6ca1\u6539"+t.data+"\u5929"}},demotype:{type:"line",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"curve",width:2}}},pie:{type:"pie",color:i,padding:[5,5,5,5],extra:{pie:{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},ring:{type:"ring",color:i,padding:[5,5,5,5],rotate:!1,dataLabel:!0,legend:{show:!0,position:"right",lineHeight:25},title:{name:"\u6536\u76ca\u7387",fontSize:15,color:"#666666"},subtitle:{name:"70%",fontSize:25,color:"#7cb5ec"},extra:{ring:{ringWidth:30,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},rose:{type:"rose",color:i,padding:[5,5,5,5],legend:{show:!0,position:"left",lineHeight:25},extra:{rose:{type:"area",minRadius:50,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF"}}},word:{type:"word",color:i,extra:{word:{type:"normal",autoColors:!1}}},funnel:{type:"funnel",color:i,padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right"}}},map:{type:"map",color:i,padding:[0,0,0,0],dataLabel:!0,extra:{map:{border:!0,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#F04864",activeFillColor:"#FACC14",activeFillOpacity:1}}},arcbar:{type:"arcbar",color:i,title:{name:"\u767e\u5206\u6bd4",fontSize:25,color:"#00FF00"},subtitle:{name:"\u9ed8\u8ba4\u6807\u9898",fontSize:15,color:"#666666"},extra:{arcbar:{type:"default",width:12,backgroundColor:"#E9E9E9",startAngle:.75,endAngle:.25,gap:2}}},line:{type:"line",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"straight",width:2}}},tline:{type:"line",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!1,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{line:{type:"curve",width:2}}},tarea:{type:"area",color:i,padding:[15,10,0,15],xAxis:{disableGrid:!0,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2,gradient:!0}}},column:{type:"column",color:i,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{disabled:!0,data:[{min:0}]},legend:{},extra:{column:{type:"group",width:30,activeBgColor:"#000000",activeBgOpacity:.08}}},bar:{type:"bar",color:i,padding:[15,30,0,5],xAxis:{boundaryGap:"justify",disableGrid:!1,min:0,axisLine:!1},yAxis:{},legend:{},extra:{bar:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08}}},area:{type:"area",color:i,padding:[35,45,15,45],dataLabel:!1,dataPointShape:!1,xAxis:{disableGrid:!0,labelCount:2,min:1,max:3},yAxis:{disabled:!0,gridType:"dash"},legend:{type:"scroll"},extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2,gradient:!0}}},radar:{type:"radar",color:i,padding:[5,5,5,5],dataLabel:!1,legend:{show:!0,position:"right",lineHeight:25},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:3,opacity:.2,max:200}}},gauge:{type:"gauge",color:i,title:{name:"66Km/H",fontSize:25,color:"#2fc25b",offsetY:50},subtitle:{name:"\u5b9e\u65f6\u901f\u5ea6",fontSize:15,color:"#1890ff",offsetY:-50},extra:{gauge:{type:"default",width:30,labelColor:"#666666",startAngle:.75,endAngle:.25,startNumber:0,endNumber:100,labelFormat:"",splitLine:{fixRadius:0,splitNumber:10,width:30,color:"#FFFFFF",childNumber:5,childWidth:12},pointer:{width:24,color:"auto"}}}},candle:{type:"candle",color:i,padding:[15,15,0,15],enableScroll:!0,enableMarkLine:!0,dataLabel:!1,xAxis:{labelCount:4,itemCount:40,disableGrid:!0,gridColor:"#CCCCCC",gridType:"solid",dashLength:4,scrollShow:!0,scrollAlign:"left",scrollColor:"#A6A6A6",scrollBackgroundColor:"#EFEBEF"},yAxis:{},legend:{},extra:{candle:{color:{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},average:{show:!0,name:["MA5","MA10","MA30"],day:[5,10,20],color:["#1890ff","#2fc25b","#facc14"]}},markLine:{type:"dash",dashLength:5,data:[{value:2150,lineColor:"#f04864",showLabel:!0},{value:2350,lineColor:"#f04864",showLabel:!0}]}}},mix:{type:"mix",color:i,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{disabled:!1,disableGrid:!1,splitNumber:5,gridType:"dash",dashLength:4,gridColor:"#CCCCCC",padding:10,showTitle:!0,data:[]},legend:{},extra:{mix:{column:{width:20}}}},scatter:{type:"scatter",color:i,padding:[15,15,0,15],dataLabel:!1,xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0},yAxis:{disableGrid:!1,gridType:"dash"},legend:{},extra:{scatter:{}}},bubble:{type:"bubble",color:i,padding:[15,15,0,15],xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0,max:250},yAxis:{disableGrid:!1,gridType:"dash",data:[{min:0,max:150}]},legend:{},extra:{bubble:{border:2,opacity:.5}}}},o=r;e.default=o},a49c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{id:""}},onLoad:function(t){var e=t.id;this.id=e},methods:{publish:function(){this.id?this.$request("createPublishHtml",{id:this.id},{functionName:"uni-portal",showModal:!1}).then((function(t){})).catch((function(t){uni.showModal({content:t.errMsg,showCancel:!1})})):uni.showModal({content:"\u9875\u9762\u51fa\u9519\uff0c\u8bf7\u8fd4\u56de\u91cd\u8fdb",showCancel:!1,success:function(t){uni.redirectTo({url:"/pages/system/app/list"})}})}}};e.default=i},a49d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(t){this.$emit("click",t)}}};e.default=i},a56e:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-table-tr"),attrs:{_i:0}},[t._$s(1,"i","selection"===t.selection)?n("view",{staticClass:t._$s(1,"sc","checkbox"),class:t._$s(1,"c",{"tr-table--border":t.border}),attrs:{_i:1}},[n("table-checkbox",{attrs:{checked:t.checked,indeterminate:t.indeterminate,disabled:t.disabled,_i:2},on:{checkboxSelected:t.checkboxSelected}})],1):t._e(),t._t("default",null,{_i:3})],2)},r=[]},a66a:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36)),e="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:t,elIdBox:e,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}},mounted:function(){var t=this,e=getCurrentPages(),n=e[e.length-1],i=n.$getAppWebview();i.addEventListener("hide",(function(){t.webviewHide=!0})),i.addEventListener("show",(function(){t.webviewHide=!1})),this.$nextTick((function(){t.initSize()}))},methods:{initSize:function(){var t=this;if(this.scrollable){var e=[],n=new Promise((function(e,n){uni.createSelectorQuery().in(t).select("#".concat(t.elId)).boundingClientRect().exec((function(n){t.textWidth=n[0].width,e()}))})),i=new Promise((function(e,n){uni.createSelectorQuery().in(t).select("#".concat(t.elIdBox)).boundingClientRect().exec((function(n){t.boxWidth=n[0].width,e()}))}));e.push(n),e.push(i),Promise.all(e).then((function(){t.animationDuration="".concat(t.textWidth/t.speed,"s"),t.animationDelay="-".concat(t.boxWidth/t.speed,"s"),setTimeout((function(){t.animationPlayState="running"}),1e3)}))}},loopAnimation:function(){},clickMore:function(){this.$emit("getmore")},close:function(){this.show=!1,this.$emit("close")},onClick:function(){this.$emit("click")}}};e.default=i},a6f0:function(t,e,n){"use strict";n.r(e);var i=n("b229"),a=n("eb08");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a71a:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-breadcrumb-item"),attrs:{_i:0}},[n("view",{class:t._$s(1,"c",{"uni-breadcrumb-item--slot":!0,"uni-breadcrumb-item--slot-link":t.to&&t.currentPage!==t.to}),attrs:{_i:1},on:{click:t.navTo}},[t._t("default",null,{_i:2})],2),t._$s(3,"i",t.separatorClass)?n("i",{staticClass:t._$s(3,"sc","uni-breadcrumb-item--separator"),class:t._$s(3,"c",t.separatorClass),attrs:{_i:3}}):n("text",{staticClass:t._$s(4,"sc","uni-breadcrumb-item--separator"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.separator)))])])},r=[]},a75d:function(t,e,n){"use strict";n.r(e);var i=n("44af"),a=n("2f48");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a773:function(t,e,n){"use strict";n.r(e);var i=n("8062"),a=n("eb1a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a797:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),n("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),n("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),n("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[n("unicloud-db",{ref:"udb",attrs:{collection:"opendb-app-list",field:"appid,name,description,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=e.pagination,s=e.loading,l=e.error;e.options;return[n("uni-table",{ref:"table",staticClass:i._$s("10-"+a,"sc","table-pc"),attrs:{loading:s||t.addAppidLoading,emptyText:l.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+a},on:{"selection-change":t.selectionChange}},[n("uni-tr",{attrs:{_i:"11-"+a}},[n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+a},on:{"filter-change":function(e){return t.filterChange(e,"appid")},"sort-change":function(e){return t.sortChange(e,"appid")}}},[t._v("AppID")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+a},on:{"filter-change":function(e){return t.filterChange(e,"name")},"sort-change":function(e){return t.sortChange(e,"name")}}},[t._v("\u5e94\u7528\u540d\u79f0")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,width:t.descriptionThWidth,_i:"14-"+a},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u5e94\u7528\u63cf\u8ff0")]),n("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"15-"+a},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),n("uni-th",{attrs:{align:"center",width:t.buttonThWidth,_i:"16-"+a}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("17-"+a,"f",{forItems:r}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("17-"+a,"f",{forIndex:o,key:r}),attrs:{disabled:e.appid===t.appid,_i:"17-"+a+s}},[n("uni-td",{attrs:{align:"center",_i:"18-"+a+s}},[t._v(i._$s("18-"+a+s,"t0-0",t._s(e.appid)))]),n("uni-td",{attrs:{align:"center",_i:"19-"+a+s}},[t._v(i._$s("19-"+a+s,"t0-0",t._s(e.name)))]),n("uni-td",{attrs:{align:"left",_i:"20-"+a+s}},[t._v(i._$s("20-"+a+s,"t0-0",t._s(e.description)))]),n("uni-td",{attrs:{align:"center",_i:"21-"+a+s}},[n("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"22-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"23-"+a+s}},[i._$s("24-"+a+s,"i",e.appid===t.appid)?n("view",{attrs:{_i:"24-"+a+s}},[t._v("-")]):n("view",{staticClass:i._$s("25-"+s,"sc","uni-group"),attrs:{_i:"25-"+s}},[n("button",{staticClass:i._$s("26-"+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"26-"+s},on:{click:function(n){return t.publish(e._id)}}},[t._v(i._$s("26-"+s+a,"t0-0",t._s(t.$t("common.button.publish"))))]),n("button",{staticClass:i._$s("27-"+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"27-"+s},on:{click:function(n){return t.navigateTo("/uni_modules/uni-upgrade-center/pages/version/list?appid="+e.appid,!1)}}},[t._v(i._$s("27-"+s+a,"t0-0",t._s(t.$t("common.button.version"))))]),n("button",{staticClass:i._$s("28-"+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"28-"+s},on:{click:function(n){return t.navigateTo("./add?id="+e.appid,!1)}}},[t._v(i._$s("28-"+s+a,"t0-0",t._s(t.$t("common.button.edit"))))]),n("button",{staticClass:i._$s("29-"+s,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"29-"+s},on:{click:function(n){return t.confirmDelete(e._id)}}},[t._v(i._$s("29-"+s+a,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),n("view",{staticClass:i._$s("30-"+a,"sc","uni-pagination-box"),attrs:{_i:"30-"+a}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":o.size,total:o.count,_i:"31-"+a},on:{change:t.onPageChanged,pageSizeChange:t.pageSizeChange},model:{value:t._$s("31-"+a,"v-model",o.current),callback:function(e){t.$set(o,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),n("fix-window",{attrs:{_i:32}})],1)},r=[]},a83e:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-file-picker__files"),attrs:{_i:0}},[t._$s(1,"i",!t.readonly)?n("view",{staticClass:t._$s(1,"sc","files-button"),attrs:{_i:1},on:{click:t.choose}},[t._t("default",null,{_i:2})],2):t._e(),t._$s(3,"i",t.list.length>0)?n("view",{staticClass:t._$s(3,"sc","uni-file-picker__lists is-text-box"),style:t._$s(3,"s",t.borderStyle),attrs:{_i:3}},t._l(t._$s(4,"f",{forItems:t.list}),(function(e,i,a,r){return n("view",{key:t._$s(4,"f",{forIndex:a,key:i}),staticClass:t._$s("4-"+r,"sc","uni-file-picker__lists-box"),class:t._$s("4-"+r,"c",{"files-border":0!==i&&t.styles.dividline}),style:t._$s("4-"+r,"s",0!==i&&t.styles.dividline&&t.borderLineStyle),attrs:{_i:"4-"+r}},[n("view",{staticClass:t._$s("5-"+r,"sc","uni-file-picker__item"),attrs:{_i:"5-"+r}},[n("view",{staticClass:t._$s("6-"+r,"sc","files__name"),attrs:{_i:"6-"+r}},[t._v(t._$s("6-"+r,"t0-0",t._s(e.name)))]),t._$s("7-"+r,"i",t.delIcon&&!t.readonly)?n("view",{staticClass:t._$s("7-"+r,"sc","icon-del-box icon-files"),attrs:{_i:"7-"+r},on:{click:function(e){return t.delFile(i)}}},[n("view",{staticClass:t._$s("8-"+r,"sc","icon-del icon-files"),attrs:{_i:"8-"+r}}),n("view",{staticClass:t._$s("9-"+r,"sc","icon-del rotate"),attrs:{_i:"9-"+r}})]):t._e()]),t._$s("10-"+r,"i",e.progress&&100!==e.progress||0===e.progress)?n("view",{staticClass:t._$s("10-"+r,"sc","file-picker__progress"),attrs:{_i:"10-"+r}},[n("progress",{staticClass:t._$s("11-"+r,"sc","file-picker__progress-item"),attrs:{percent:t._$s("11-"+r,"a-percent",-1===e.progress?0:e.progress),backgroundColor:t._$s("11-"+r,"a-backgroundColor",e.errMsg?"#ff5a5f":"#EBEBEB"),_i:"11-"+r}})]):t._e(),t._$s("12-"+r,"i","error"===e.status)?n("view",{staticClass:t._$s("12-"+r,"sc","file-picker__mask"),attrs:{_i:"12-"+r},on:{click:function(n){return n.stopPropagation(),t.uploadFiles(e,i)}}}):t._e()])})),0):t._e()])},r=[]},a85c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{content:String,top:{type:[Number,String],default:-60},left:{type:[Number,String],default:-100},width:{type:[Number,String],default:200}},data:function(){return{showStableInfo:!1,arrowStyle:{}}},methods:{mouseenter:function(t){this.showStableInfo=!0}}};e.default=i},a8bb:function(t,e,n){"use strict";n.r(e);var i=n("fc08"),a=n("ffc4");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a925:function(t,e,n){"use strict";n.r(e);
/*!
 * vue-i18n v8.24.1 
 * (c) 2021 kazuya kawaguchi
 * Released under the MIT License.
 */
var i=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function a(t,e){}function r(t,e){}var o=Array.isArray;function s(t){return null!==t&&"object"===typeof t}function l(t){return"boolean"===typeof t}function u(t){return"string"===typeof t}var c=Object.prototype.toString,d="[object Object]";function f(t){return c.call(t)===d}function h(t){return null===t||void 0===t}function p(t){return"function"===typeof t}function m(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=null,i=null;return 1===t.length?s(t[0])||o(t[0])?i=t[0]:"string"===typeof t[0]&&(n=t[0]):2===t.length&&("string"===typeof t[0]&&(n=t[0]),(s(t[1])||o(t[1]))&&(i=t[1])),{locale:n,params:i}}function _(t){return JSON.parse(JSON.stringify(t))}function g(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function v(t,e){return!!~t.indexOf(e)}var y=Object.prototype.hasOwnProperty;function b(t,e){return y.call(t,e)}function x(t){for(var e=arguments,n=Object(t),i=1;i<arguments.length;i++){var a=e[i];if(void 0!==a&&null!==a){var r=void 0;for(r in a)b(a,r)&&(s(a[r])?n[r]=x(n[r],a[r]):n[r]=a[r])}}return n}function w(t,e){if(t===e)return!0;var n=s(t),i=s(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var a=o(t),r=o(e);if(a&&r)return t.length===e.length&&t.every((function(t,n){return w(t,e[n])}));if(a||r)return!1;var l=Object.keys(t),u=Object.keys(e);return l.length===u.length&&l.every((function(n){return w(t[n],e[n])}))}catch(c){return!1}}function $(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function k(t){return null!=t&&Object.keys(t).forEach((function(e){"string"==typeof t[e]&&(t[e]=$(t[e]))})),t}function C(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var i=this.$i18n;return i._t.apply(i,[t,i.locale,i._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){var n=[],i=arguments.length-2;while(i-- >0)n[i]=arguments[i+2];var a=this.$i18n;return a._tc.apply(a,[t,a.locale,a._getMessages(),this,e].concat(n))},t.prototype.$te=function(t,e){var n=this.$i18n;return n._te(t,n.locale,n._getMessages(),e)},t.prototype.$d=function(t){var e,n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];return(e=this.$i18n).d.apply(e,[t].concat(n))},t.prototype.$n=function(t){var e,n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];return(e=this.$i18n).n.apply(e,[t].concat(n))}}var D={beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n)if(t.i18n instanceof kt){if(t.__i18n)try{var e=t.i18n&&t.i18n.messages?t.i18n.messages:{};t.__i18n.forEach((function(t){e=x(e,JSON.parse(t))})),Object.keys(e).forEach((function(n){t.i18n.mergeLocaleMessage(n,e[n])}))}catch(o){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(f(t.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof kt?this.$root.$i18n:null;if(n&&(t.i18n.root=this.$root,t.i18n.formatter=n.formatter,t.i18n.fallbackLocale=n.fallbackLocale,t.i18n.formatFallbackMessages=n.formatFallbackMessages,t.i18n.silentTranslationWarn=n.silentTranslationWarn,t.i18n.silentFallbackWarn=n.silentFallbackWarn,t.i18n.pluralizationRules=n.pluralizationRules,t.i18n.preserveDirectiveContent=n.preserveDirectiveContent),t.__i18n)try{var i=t.i18n&&t.i18n.messages?t.i18n.messages:{};t.__i18n.forEach((function(t){i=x(i,JSON.parse(t))})),t.i18n.messages=i}catch(o){0}var a=t.i18n,r=a.sharedMessages;r&&f(r)&&(t.i18n.messages=x(t.i18n.messages,r)),this._i18n=new kt(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof kt?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof kt&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n?(t.i18n instanceof kt||f(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof kt||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof kt)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:function(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)},beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)}))}}},S={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var n=e.data,i=e.parent,a=e.props,r=e.slots,o=i.$i18n;if(o){var s=a.path,l=a.locale,u=a.places,c=r(),d=o.i(s,l,T(c)||u?P(c.default,u):c),f=a.tag&&!0!==a.tag||!1===a.tag?a.tag:"span";return f?t(f,n,d):d}}};function T(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}function P(t,e){var n=e?O(e):{};if(!t)return n;t=t.filter((function(t){return t.tag||""!==t.text.trim()}));var i=t.every(I);return t.reduce(i?A:M,n)}function O(t){return Array.isArray(t)?t.reduce(M,{}):Object.assign({},t)}function A(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function M(t,e,n){return t[n]=e,t}function I(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var j,F={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var n=e.props,a=e.parent,r=e.data,o=a.$i18n;if(!o)return null;var l=null,c=null;u(n.format)?l=n.format:s(n.format)&&(n.format.key&&(l=n.format.key),c=Object.keys(n.format).reduce((function(t,e){var a;return v(i,e)?Object.assign({},t,(a={},a[e]=n.format[e],a)):t}),null));var d=n.locale||o.locale,f=o._ntp(n.value,d,l,c),h=f.map((function(t,e){var n,i=r.scopedSlots&&r.scopedSlots[t.type];return i?i((n={},n[t.type]=t.value,n.index=e,n.parts=f,n)):t.value})),p=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return p?t(p,{attrs:r.attrs,class:r["class"],staticClass:r.staticClass},h):h}};function E(t,e,n){R(t,n)&&B(t,e,n)}function L(t,e,n,i){if(R(t,n)){var a=n.context.$i18n;N(t,n)&&w(e.value,e.oldValue)&&w(t._localeMessage,a.getLocaleMessage(a.locale))||B(t,e,n)}}function q(t,e,n,i){var r=n.context;if(r){var o=n.context.$i18n||{};e.modifiers.preserve||o.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t["_vt"],t._locale=void 0,delete t["_locale"],t._localeMessage=void 0,delete t["_localeMessage"]}else a("Vue instance does not exists in VNode context")}function R(t,e){var n=e.context;return n?!!n.$i18n||(a("VueI18n instance does not exists in Vue instance"),!1):(a("Vue instance does not exists in VNode context"),!1)}function N(t,e){var n=e.context;return t._locale===n.$i18n.locale}function B(t,e,n){var i,r,o=e.value,s=z(o),l=s.path,u=s.locale,c=s.args,d=s.choice;if(l||u||c)if(l){var f=n.context;t._vt=t.textContent=null!=d?(i=f.$i18n).tc.apply(i,[l,d].concat(W(u,c))):(r=f.$i18n).t.apply(r,[l].concat(W(u,c))),t._locale=f.$i18n.locale,t._localeMessage=f.$i18n.getLocaleMessage(f.$i18n.locale)}else a("`path` is required in v-t directive");else a("value type not supported")}function z(t){var e,n,i,a;return u(t)?e=t:f(t)&&(e=t.path,n=t.locale,i=t.args,a=t.choice),{path:e,locale:n,args:i,choice:a}}function W(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||f(e))&&n.push(e),n}function U(t){U.installed=!0,j=t;j.version&&Number(j.version.split(".")[0]);C(j),j.mixin(D),j.directive("t",{bind:E,update:L,unbind:q}),j.component(S.name,S),j.component(F.name,F);var e=j.config.optionMergeStrategies;e.i18n=function(t,e){return void 0===e?t:e}}var V=function(){this._caches=Object.create(null)};V.prototype.interpolate=function(t,e){if(!e)return[t];var n=this._caches[t];return n||(n=J(t),this._caches[t]=n),Q(n,e)};var G=/^(?:\d)+/,H=/^(?:\w)+/;function J(t){var e=[],n=0,i="";while(n<t.length){var a=t[n++];if("{"===a){i&&e.push({type:"text",value:i}),i="";var r="";a=t[n++];while(void 0!==a&&"}"!==a)r+=a,a=t[n++];var o="}"===a,s=G.test(r)?"list":o&&H.test(r)?"named":"unknown";e.push({value:r,type:s})}else"%"===a?"{"!==t[n]&&(i+=a):i+=a}return i&&e.push({type:"text",value:i}),e}function Q(t,e){var n=[],i=0,a=Array.isArray(e)?"list":s(e)?"named":"unknown";if("unknown"===a)return n;while(i<t.length){var r=t[i];switch(r.type){case"text":n.push(r.value);break;case"list":n.push(e[parseInt(r.value,10)]);break;case"named":"named"===a&&n.push(e[r.value]);break;case"unknown":0;break}i++}return n}var K=0,Y=1,X=2,Z=3,tt=0,et=1,nt=2,it=3,at=4,rt=5,ot=6,st=7,lt=8,ut=[];ut[tt]={ws:[tt],ident:[it,K],"[":[at],eof:[st]},ut[et]={ws:[et],".":[nt],"[":[at],eof:[st]},ut[nt]={ws:[nt],ident:[it,K],0:[it,K],number:[it,K]},ut[it]={ident:[it,K],0:[it,K],number:[it,K],ws:[et,Y],".":[nt,Y],"[":[at,Y],eof:[st,Y]},ut[at]={"'":[rt,K],'"':[ot,K],"[":[at,X],"]":[et,Z],eof:lt,else:[at,K]},ut[rt]={"'":[at,K],eof:lt,else:[rt,K]},ut[ot]={'"':[at,K],eof:lt,else:[ot,K]};var ct=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function dt(t){return ct.test(t)}function ft(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function ht(t){if(void 0===t||null===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function pt(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(dt(e)?ft(e):"*"+e)}function mt(t){var e,n,i,a,r,o,s,l=[],u=-1,c=tt,d=0,f=[];function h(){var e=t[u+1];if(c===rt&&"'"===e||c===ot&&'"'===e)return u++,i="\\"+e,f[K](),!0}f[Y]=function(){void 0!==n&&(l.push(n),n=void 0)},f[K]=function(){void 0===n?n=i:n+=i},f[X]=function(){f[K](),d++},f[Z]=function(){if(d>0)d--,c=at,f[K]();else{if(d=0,void 0===n)return!1;if(n=pt(n),!1===n)return!1;f[Y]()}};while(null!==c)if(u++,e=t[u],"\\"!==e||!h()){if(a=ht(e),s=ut[c],r=s[a]||s["else"]||lt,r===lt)return;if(c=r[0],o=f[r[1]],o&&(i=r[2],i=void 0===i?e:i,!1===o()))return;if(c===st)return l}}var _t=function(){this._cache=Object.create(null)};_t.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=mt(t),e&&(this._cache[t]=e)),e||[]},_t.prototype.getPathValue=function(t,e){if(!s(t))return null;var n=this.parsePath(e);if(0===n.length)return null;var i=n.length,a=t,r=0;while(r<i){var o=a[n[r]];if(void 0===o||null===o)return null;a=o,r++}return a};var gt,vt=/<\/?[\w\s="/.':;#-\/]+>/,yt=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,bt=/^@(?:\.([a-z]+))?:/,xt=/[()]/g,wt={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},$t=new V,kt=function(t){var e=this;void 0===t&&(t={}),!j&&"undefined"!==typeof window&&window.Vue&&U(window.Vue);var n=t.locale||"en-US",i=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),a=t.messages||{},r=t.dateTimeFormats||{},o=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||$t,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new _t,this._dataListeners=[],this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this._escapeParameterHtml=t.escapeParameterHtml||!1,this.getChoiceIndex=function(t,n){var i=Object.getPrototypeOf(e);if(i&&i.getChoiceIndex){var a=i.getChoiceIndex;return a.call(e,t,n)}var r=function(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0};return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,n]):r(t,n)},this._exist=function(t,n){return!(!t||!n)&&(!h(e._path.getPathValue(t,n))||!!t[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(a).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,a[t])})),this._initVM({locale:n,fallbackLocale:i,messages:a,dateTimeFormats:r,numberFormats:o})},Ct={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0}};kt.prototype._checkLocaleMessage=function(t,e,n){var i=[],s=function(t,e,n,i){if(f(n))Object.keys(n).forEach((function(a){var r=n[a];f(r)?(i.push(a),i.push("."),s(t,e,r,i),i.pop(),i.pop()):(i.push(a),s(t,e,r,i),i.pop())}));else if(o(n))n.forEach((function(n,a){f(n)?(i.push("["+a+"]"),i.push("."),s(t,e,n,i),i.pop(),i.pop()):(i.push("["+a+"]"),s(t,e,n,i),i.pop())}));else if(u(n)){var l=vt.test(n);if(l){var c="Detected HTML in message '"+n+"' of keypath '"+i.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===t?a(c):"error"===t&&r(c)}}};s(e,t,n,i)},kt.prototype._initVM=function(t){var e=j.config.silent;j.config.silent=!0,this._vm=new j({data:t}),j.config.silent=e},kt.prototype.destroyVM=function(){this._vm.$destroy()},kt.prototype.subscribeDataChanging=function(t){this._dataListeners.push(t)},kt.prototype.unsubscribeDataChanging=function(t){g(this._dataListeners,t)},kt.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){var e=t._dataListeners.length;while(e--)j.nextTick((function(){t._dataListeners[e]&&t._dataListeners[e].$forceUpdate()}))}),{deep:!0})},kt.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var t=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){t.$set(t,"locale",e),t.$forceUpdate()}),{immediate:!0})},kt.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},Ct.vm.get=function(){return this._vm},Ct.messages.get=function(){return _(this._getMessages())},Ct.dateTimeFormats.get=function(){return _(this._getDateTimeFormats())},Ct.numberFormats.get=function(){return _(this._getNumberFormats())},Ct.availableLocales.get=function(){return Object.keys(this.messages).sort()},Ct.locale.get=function(){return this._vm.locale},Ct.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},Ct.fallbackLocale.get=function(){return this._vm.fallbackLocale},Ct.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},Ct.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Ct.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},Ct.missing.get=function(){return this._missing},Ct.missing.set=function(t){this._missing=t},Ct.formatter.get=function(){return this._formatter},Ct.formatter.set=function(t){this._formatter=t},Ct.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Ct.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},Ct.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Ct.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},Ct.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Ct.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},Ct.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Ct.warnHtmlInMessage.set=function(t){var e=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,n!==t&&("warn"===t||"error"===t)){var i=this._getMessages();Object.keys(i).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,i[t])}))}},Ct.postTranslation.get=function(){return this._postTranslation},Ct.postTranslation.set=function(t){this._postTranslation=t},kt.prototype._getMessages=function(){return this._vm.messages},kt.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},kt.prototype._getNumberFormats=function(){return this._vm.numberFormats},kt.prototype._warnDefault=function(t,e,n,i,a,r){if(!h(n))return n;if(this._missing){var o=this._missing.apply(null,[t,e,i,a]);if(u(o))return o}else 0;if(this._formatFallbackMessages){var s=m.apply(void 0,a);return this._render(e,r,s.params,e)}return e},kt.prototype._isFallbackRoot=function(t){return!t&&!h(this._root)&&this._fallbackRoot},kt.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},kt.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},kt.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},kt.prototype._interpolate=function(t,e,n,i,a,r,s){if(!e)return null;var l,c=this._path.getPathValue(e,n);if(o(c)||f(c))return c;if(h(c)){if(!f(e))return null;if(l=e[n],!u(l)&&!p(l))return null}else{if(!u(c)&&!p(c))return null;l=c}return u(l)&&(l.indexOf("@:")>=0||l.indexOf("@.")>=0)&&(l=this._link(t,e,l,i,"raw",r,s)),this._render(l,a,r,n)},kt.prototype._link=function(t,e,n,i,a,r,s){var l=n,u=l.match(yt);for(var c in u)if(u.hasOwnProperty(c)){var d=u[c],f=d.match(bt),h=f[0],p=f[1],m=d.replace(h,"").replace(xt,"");if(v(s,m))return l;s.push(m);var _=this._interpolate(t,e,m,i,"raw"===a?"string":a,"raw"===a?void 0:r,s);if(this._isFallbackRoot(_)){if(!this._root)throw Error("unexpected error");var g=this._root.$i18n;_=g._translate(g._getMessages(),g.locale,g.fallbackLocale,m,i,a,r)}_=this._warnDefault(t,m,_,i,o(r)?r:[r],a),this._modifiers.hasOwnProperty(p)?_=this._modifiers[p](_):wt.hasOwnProperty(p)&&(_=wt[p](_)),s.pop(),l=_?l.replace(d,_):l}return l},kt.prototype._createMessageContext=function(t){var e=o(t)?t:[],n=s(t)?t:{},i=function(t){return e[t]},a=function(t){return n[t]};return{list:i,named:a}},kt.prototype._render=function(t,e,n,i){if(p(t))return t(this._createMessageContext(n));var a=this._formatter.interpolate(t,n,i);return a||(a=$t.interpolate(t,n,i)),"string"!==e||u(a)?a:a.join("")},kt.prototype._appendItemToChain=function(t,e,n){var i=!1;return v(t,e)||(i=!0,e&&(i="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),n&&n[e]&&(i=n[e]))),i},kt.prototype._appendLocaleToChain=function(t,e,n){var i,a=e.split("-");do{var r=a.join("-");i=this._appendItemToChain(t,r,n),a.splice(-1,1)}while(a.length&&!0===i);return i},kt.prototype._appendBlockToChain=function(t,e,n){for(var i=!0,a=0;a<e.length&&l(i);a++){var r=e[a];u(r)&&(i=this._appendLocaleToChain(t,r,n))}return i},kt.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[t];if(!n){e||(e=this.fallbackLocale),n=[];var i,a=[t];while(o(a))a=this._appendBlockToChain(n,a,e);i=o(e)?e:s(e)?e["default"]?e["default"]:null:e,a=u(i)?[i]:i,a&&this._appendBlockToChain(n,a,null),this._localeChainCache[t]=n}return n},kt.prototype._translate=function(t,e,n,i,a,r,o){for(var s,l=this._getLocaleChain(e,n),u=0;u<l.length;u++){var c=l[u];if(s=this._interpolate(c,t[c],i,a,r,o,[i]),!h(s))return s}return null},kt.prototype._t=function(t,e,n,i){var a,r=[],o=arguments.length-4;while(o-- >0)r[o]=arguments[o+4];if(!t)return"";var s=m.apply(void 0,r);this._escapeParameterHtml&&(s.params=k(s.params));var l=s.locale||e,u=this._translate(n,l,this.fallbackLocale,t,i,"string",s.params);if(this._isFallbackRoot(u)){if(!this._root)throw Error("unexpected error");return(a=this._root).$t.apply(a,[t].concat(r))}return u=this._warnDefault(l,t,u,i,r,"string"),this._postTranslation&&null!==u&&void 0!==u&&(u=this._postTranslation(u,t)),u},kt.prototype.t=function(t){var e,n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(n))},kt.prototype._i=function(t,e,n,i,a){var r=this._translate(n,e,this.fallbackLocale,t,i,"raw",a);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,a)}return this._warnDefault(e,t,r,i,[a],"raw")},kt.prototype.i=function(t,e,n){return t?(u(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,n)):""},kt.prototype._tc=function(t,e,n,i,a){var r,o=[],s=arguments.length-5;while(s-- >0)o[s]=arguments[s+5];if(!t)return"";void 0===a&&(a=1);var l={count:a,n:a},u=m.apply(void 0,o);return u.params=Object.assign(l,u.params),o=null===u.locale?[u.params]:[u.locale,u.params],this.fetchChoice((r=this)._t.apply(r,[t,e,n,i].concat(o)),a)},kt.prototype.fetchChoice=function(t,e){if(!t||!u(t))return null;var n=t.split("|");return e=this.getChoiceIndex(e,n.length),n[e]?n[e].trim():t},kt.prototype.tc=function(t,e){var n,i=[],a=arguments.length-2;while(a-- >0)i[a]=arguments[a+2];return(n=this)._tc.apply(n,[t,this.locale,this._getMessages(),null,e].concat(i))},kt.prototype._te=function(t,e,n){var i=[],a=arguments.length-3;while(a-- >0)i[a]=arguments[a+3];var r=m.apply(void 0,i).locale||e;return this._exist(n[r],t)},kt.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},kt.prototype.getLocaleMessage=function(t){return _(this._vm.messages[t]||{})},kt.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},kt.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,x("undefined"!==typeof this._vm.messages[t]&&Object.keys(this._vm.messages[t]).length?this._vm.messages[t]:{},e))},kt.prototype.getDateTimeFormat=function(t){return _(this._vm.dateTimeFormats[t]||{})},kt.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},kt.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,x(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},kt.prototype._clearDateTimeFormat=function(t,e){for(var n in e){var i=t+"__"+n;this._dateTimeFormatters.hasOwnProperty(i)&&delete this._dateTimeFormatters[i]}},kt.prototype._localizeDateTime=function(t,e,n,i,a){for(var r=e,o=i[r],s=this._getLocaleChain(e,n),l=0;l<s.length;l++){var u=s[l];if(o=i[u],r=u,!h(o)&&!h(o[a]))break}if(h(o)||h(o[a]))return null;var c=o[a],d=r+"__"+a,f=this._dateTimeFormatters[d];return f||(f=this._dateTimeFormatters[d]=new Intl.DateTimeFormat(r,c)),f.format(t)},kt.prototype._d=function(t,e,n){if(!n)return new Intl.DateTimeFormat(e).format(t);var i=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,n,e)}return i||""},kt.prototype.d=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var i=this.locale,a=null;return 1===e.length?u(e[0])?a=e[0]:s(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(a=e[0].key)):2===e.length&&(u(e[0])&&(a=e[0]),u(e[1])&&(i=e[1])),this._d(t,i,a)},kt.prototype.getNumberFormat=function(t){return _(this._vm.numberFormats[t]||{})},kt.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},kt.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,x(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},kt.prototype._clearNumberFormat=function(t,e){for(var n in e){var i=t+"__"+n;this._numberFormatters.hasOwnProperty(i)&&delete this._numberFormatters[i]}},kt.prototype._getNumberFormatter=function(t,e,n,i,a,r){for(var o=e,s=i[o],l=this._getLocaleChain(e,n),u=0;u<l.length;u++){var c=l[u];if(s=i[c],o=c,!h(s)&&!h(s[a]))break}if(h(s)||h(s[a]))return null;var d,f=s[a];if(r)d=new Intl.NumberFormat(o,Object.assign({},f,r));else{var p=o+"__"+a;d=this._numberFormatters[p],d||(d=this._numberFormatters[p]=new Intl.NumberFormat(o,f))}return d},kt.prototype._n=function(t,e,n,i){if(!kt.availabilities.numberFormat)return"";if(!n){var a=i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e);return a.format(t)}var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,i),o=r&&r.format(t);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:n,locale:e},i))}return o||""},kt.prototype.n=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var a=this.locale,r=null,o=null;return 1===e.length?u(e[0])?r=e[0]:s(e[0])&&(e[0].locale&&(a=e[0].locale),e[0].key&&(r=e[0].key),o=Object.keys(e[0]).reduce((function(t,n){var a;return v(i,n)?Object.assign({},t,(a={},a[n]=e[0][n],a)):t}),null)):2===e.length&&(u(e[0])&&(r=e[0]),u(e[1])&&(a=e[1])),this._n(t,a,r,o)},kt.prototype._ntp=function(t,e,n,i){if(!kt.availabilities.numberFormat)return[];if(!n){var a=i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e);return a.formatToParts(t)}var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,i),o=r&&r.formatToParts(t);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,n,i)}return o||[]},Object.defineProperties(kt.prototype,Ct),Object.defineProperty(kt,"availabilities",{get:function(){if(!gt){var t="undefined"!==typeof Intl;gt={dateTimeFormat:t&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:t&&"undefined"!==typeof Intl.NumberFormat}}return gt}}),kt.install=U,kt.version="8.24.1",e["default"]=kt},a937:function(t,e,n){"use strict";n.r(e);var i=n("56ad"),a=n("7f1b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a93f:function(t,e,n){"use strict";n.r(e);var i=n("b7d5"),a=n("ddf9");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},a9ff:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(n("a34a")),r=n("37dc"),o=s(n("162b"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){l(r,i,a,o,s,"next",t)}function s(t){l(r,i,a,o,s,"throw",t)}o(void 0)}))}}function c(t){return h(t)||f(t)||m(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return _(t)}function p(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function m(t,e){if(t){if("string"===typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}function k(t){var e=P();return function(){var n,i=M(t);if(e){var a=M(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?D(t):e}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){var e="function"===typeof Map?new Map:void 0;return S=function(t){if(null===t||!O(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return T(t,arguments,M(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),A(n,t)},S(t)}function T(t,e,n){return T=P()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var a=Function.bind.apply(t,i),r=new a;return n&&A(r,n.prototype),r},T.apply(null,arguments)}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function O(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function A(t,e){return A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A(t,e)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function I(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function j(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var F=j((function(t,e){var n;t.exports=(n=n||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},a=i.lib={},r=a.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=a.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,a=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<a;r++){var o=n[r>>>2]>>>24-r%4*8&255;e[i+r>>>2]|=o<<24-(i+r)%4*8}else for(r=0;r<a;r+=4)e[i+r>>>2]=n[r>>>2];return this.sigBytes+=a,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,i=[],a=function(e){e=e;var n=987654321,i=4294967295;return function(){var a=((n=36969*(65535&n)+(n>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return a/=4294967296,(a+=.5)*(t.random()>.5?1:-1)}},r=0;r<e;r+=4){var s=a(4294967296*(n||t.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new o.init(i,e)}}),s=i.enc={},l=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],a=0;a<n;a++){var r=e[a>>>2]>>>24-a%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new o.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],a=0;a<n;a++){var r=e[a>>>2]>>>24-a%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new o.init(n,e)}},c=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},d=a.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,a=n.sigBytes,r=this.blockSize,s=a/(4*r),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*r,u=t.min(4*l,a);if(l){for(var c=0;c<l;c+=r)this._doProcessBlock(i,c);var d=i.splice(0,l);n.sigBytes-=u}return new o.init(d,u)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});a.Hasher=d.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new f.HMAC.init(t,n).finalize(e)}}});var f=i.algo={};return i}(Math),n)})),E=(j((function(t,e){var n;t.exports=(n=F,function(t){var e=n,i=e.lib,a=i.WordArray,r=i.Hasher,o=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=o.MD5=r.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,a=t[i];t[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var r=this._hash.words,o=t[e+0],l=t[e+1],h=t[e+2],p=t[e+3],m=t[e+4],_=t[e+5],g=t[e+6],v=t[e+7],y=t[e+8],b=t[e+9],x=t[e+10],w=t[e+11],$=t[e+12],k=t[e+13],C=t[e+14],D=t[e+15],S=r[0],T=r[1],P=r[2],O=r[3];S=u(S,T,P,O,o,7,s[0]),O=u(O,S,T,P,l,12,s[1]),P=u(P,O,S,T,h,17,s[2]),T=u(T,P,O,S,p,22,s[3]),S=u(S,T,P,O,m,7,s[4]),O=u(O,S,T,P,_,12,s[5]),P=u(P,O,S,T,g,17,s[6]),T=u(T,P,O,S,v,22,s[7]),S=u(S,T,P,O,y,7,s[8]),O=u(O,S,T,P,b,12,s[9]),P=u(P,O,S,T,x,17,s[10]),T=u(T,P,O,S,w,22,s[11]),S=u(S,T,P,O,$,7,s[12]),O=u(O,S,T,P,k,12,s[13]),P=u(P,O,S,T,C,17,s[14]),S=c(S,T=u(T,P,O,S,D,22,s[15]),P,O,l,5,s[16]),O=c(O,S,T,P,g,9,s[17]),P=c(P,O,S,T,w,14,s[18]),T=c(T,P,O,S,o,20,s[19]),S=c(S,T,P,O,_,5,s[20]),O=c(O,S,T,P,x,9,s[21]),P=c(P,O,S,T,D,14,s[22]),T=c(T,P,O,S,m,20,s[23]),S=c(S,T,P,O,b,5,s[24]),O=c(O,S,T,P,C,9,s[25]),P=c(P,O,S,T,p,14,s[26]),T=c(T,P,O,S,y,20,s[27]),S=c(S,T,P,O,k,5,s[28]),O=c(O,S,T,P,h,9,s[29]),P=c(P,O,S,T,v,14,s[30]),S=d(S,T=c(T,P,O,S,$,20,s[31]),P,O,_,4,s[32]),O=d(O,S,T,P,y,11,s[33]),P=d(P,O,S,T,w,16,s[34]),T=d(T,P,O,S,C,23,s[35]),S=d(S,T,P,O,l,4,s[36]),O=d(O,S,T,P,m,11,s[37]),P=d(P,O,S,T,v,16,s[38]),T=d(T,P,O,S,x,23,s[39]),S=d(S,T,P,O,k,4,s[40]),O=d(O,S,T,P,o,11,s[41]),P=d(P,O,S,T,p,16,s[42]),T=d(T,P,O,S,g,23,s[43]),S=d(S,T,P,O,b,4,s[44]),O=d(O,S,T,P,$,11,s[45]),P=d(P,O,S,T,D,16,s[46]),S=f(S,T=d(T,P,O,S,h,23,s[47]),P,O,o,6,s[48]),O=f(O,S,T,P,v,10,s[49]),P=f(P,O,S,T,C,15,s[50]),T=f(T,P,O,S,_,21,s[51]),S=f(S,T,P,O,$,6,s[52]),O=f(O,S,T,P,p,10,s[53]),P=f(P,O,S,T,x,15,s[54]),T=f(T,P,O,S,l,21,s[55]),S=f(S,T,P,O,y,6,s[56]),O=f(O,S,T,P,D,10,s[57]),P=f(P,O,S,T,g,15,s[58]),T=f(T,P,O,S,k,21,s[59]),S=f(S,T,P,O,m,6,s[60]),O=f(O,S,T,P,w,10,s[61]),P=f(P,O,S,T,h,15,s[62]),T=f(T,P,O,S,b,21,s[63]),r[0]=r[0]+S|0,r[1]=r[1]+T|0,r[2]=r[2]+P|0,r[3]=r[3]+O|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,a=8*e.sigBytes;n[a>>>5]|=128<<24-a%32;var r=t.floor(i/4294967296),o=i;n[15+(a+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,i,a,r,o){var s=t+(e&n|~e&i)+a+o;return(s<<r|s>>>32-r)+e}function c(t,e,n,i,a,r,o){var s=t+(e&i|n&~i)+a+o;return(s<<r|s>>>32-r)+e}function d(t,e,n,i,a,r,o){var s=t+(e^n^i)+a+o;return(s<<r|s>>>32-r)+e}function f(t,e,n,i,a,r,o){var s=t+(n^(e|~i))+a+o;return(s<<r|s>>>32-r)+e}e.MD5=r._createHelper(l),e.HmacMD5=r._createHmacHelper(l)}(Math),n.MD5)})),j((function(t,e){var n,i,a;t.exports=(i=(n=F).lib.Base,a=n.enc.Utf8,void(n.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),o=this._iKey=e.clone(),s=r.words,l=o.words,u=0;u<n;u++)s[u]^=1549556828,l[u]^=909522486;r.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))})),j((function(t,e){t.exports=F.HmacMD5}))),L="FUNCTION",q="OBJECT",R="CLIENT_DB";function N(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function B(t){return"object"===N(t)}function z(t){return t&&"string"==typeof t?JSON.parse(t):t}var W,U=!1,V="app-plus";switch(V){case"h5":W="web";break;case"app-plus":W="app";break;default:W=V}var G=z(void 0),H=z([{provider:"aliyun",spaceName:"assistant",spaceId:"d0db1ee7-5587-449b-b3e6-04ba648c1ce4",clientSecret:"sHujyovogm2Z/yG74vsjRA==",endpoint:"https://api.bspapp.com"}]),J=!0,Q="";try{var K=n("fe10").default||n("fe10");Q=K.appid}catch(Bn){}var Y={};function X(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Y,n=t,Object.prototype.hasOwnProperty.call(e,n)||(Y[t]=i),Y[t]}"app"===W&&(Y=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={});var Z=["invoke","success","fail","complete"],tt=X("_globalUniCloudInterceptor");function et(t,e){tt[t]||(tt[t]={}),B(e)&&Object.keys(e).forEach((function(n){Z.indexOf(n)>-1&&function(t,e,n){var i=tt[t][e];i||(i=tt[t][e]=[]),-1===i.indexOf(n)&&"function"==typeof n&&i.push(n)}(t,n,e[n])}))}function nt(t,e){tt[t]||(tt[t]={}),B(e)?Object.keys(e).forEach((function(n){Z.indexOf(n)>-1&&function(t,e,n){var i=tt[t][e];if(i){var a=i.indexOf(n);a>-1&&i.splice(a,1)}}(t,n,e[n])})):delete tt[t]}function it(t,e){return t&&0!==t.length?t.reduce((function(t,n){return t.then((function(){return n(e)}))}),Promise.resolve()):Promise.resolve()}function at(t,e){return tt[t]&&tt[t][e]||[]}var rt=X("_globalUniCloudListener"),ot="response",st="needLogin",lt="refreshToken",ut="clientdb",ct="cloudfunction",dt="cloudobject";function ft(t){return rt[t]||(rt[t]=[]),rt[t]}function ht(t,e){var n=ft(t);n.includes(e)||n.push(e)}function pt(t,e){var n=ft(t),i=n.indexOf(e);-1!==i&&n.splice(i,1)}function mt(t,e){for(var n=ft(t),i=0;i<n.length;i++)(0,n[i])(e)}function _t(t,e){return e?function(n){var i=this,a=!1;if("callFunction"===e){var r=n&&n.type||L;a=r!==L}var o,s="callFunction"===e&&!a;o=this.isReady?Promise.resolve():this.initUniCloud,n=n||{};var l=o.then((function(){return a?Promise.resolve():it(at(e,"invoke"),n)})).then((function(){return t.call(i,n)})).then((function(t){return a?Promise.resolve(t):it(at(e,"success"),t).then((function(){return it(at(e,"complete"),t)})).then((function(){return s&&mt(ot,{type:ct,content:t}),Promise.resolve(t)}))}),(function(t){return a?Promise.reject(t):it(at(e,"fail"),t).then((function(){return it(at(e,"complete"),t)})).then((function(){return mt(ot,{type:ct,content:t}),Promise.reject(t)}))}));if(!(n.success||n.fail||n.complete))return l;l.then((function(t){n.success&&n.success(t),n.complete&&n.complete(t),s&&mt(ot,{type:ct,content:t})}),(function(t){n.fail&&n.fail(t),n.complete&&n.complete(t),s&&mt(ot,{type:ct,content:t})}))}:function(e){if(!((e=e||{}).success||e.fail||e.complete))return t.call(this,e);t.call(this,e).then((function(t){e.success&&e.success(t),e.complete&&e.complete(t)}),(function(t){e.fail&&e.fail(t),e.complete&&e.complete(t)}))}}var gt,vt=function(t){$(n,t);var e=k(n);function n(t){var i;return w(this,n),i=e.call(this,t.message),i.errMsg=t.message||"",i.errCode=i.code=t.code||"SYSTEM_ERROR",i.requestId=t.requestId,i}return n}(S(Error));function yt(){var t,e;try{if(uni.getLaunchOptionsSync){if(uni.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;var n=uni.getLaunchOptionsSync(),i=n.scene,a=n.channel;t=a,e=i}}catch(t){}return{channel:t,scene:e}}function bt(){var t=uni.getLocale&&uni.getLocale()||"en";if(gt)return b(b({},gt),{},{locale:t,LOCALE:t});for(var e=uni.getSystemInfoSync(),n=e.deviceId,i=e.osName,a=e.uniPlatform,r=e.appId,o=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"],s=0;s<o.length;s++)delete e[o[s]];return gt=b(b({PLATFORM:a,OS:i,APPID:r,DEVICEID:n},yt()),e),b(b({},gt),{},{locale:t,LOCALE:t})}var xt,wt={sign:function(t,e){var n="";return Object.keys(t).sort().forEach((function(e){t[e]&&(n=n+"&"+e+"="+t[e])})),n=n.slice(1),E(n,e).toString()},wrappedRequest:function(t,e){return new Promise((function(n,i){e(Object.assign(t,{complete:function(t){t||(t={}),U&&"web"===W&&t.errMsg&&t.errMsg.indexOf("request:fail");var e=t.data&&t.data.header&&t.data.header["x-serverless-request-id"]||t.header&&t.header["request-id"];if(!t.statusCode||t.statusCode>=400)return i(new vt({code:"SYS_ERR",message:t.errMsg||"request:fail",requestId:e}));var a=t.data;if(a.error)return i(new vt({code:a.error.code,message:a.error.message,requestId:e}));a.result=a.data,a.requestId=e,delete a.data,n(a)}}))}))}},$t={request:function(t){return uni.request(t)},uploadFile:function(t){return uni.uploadFile(t)},setStorageSync:function(t,e){return uni.setStorageSync(t,e)},getStorageSync:function(t){return uni.getStorageSync(t)},removeStorageSync:function(t){return uni.removeStorageSync(t)},clearStorageSync:function(){return uni.clearStorageSync()}},kt={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},Ct=(0,r.initVueI18n)({"zh-Hans":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},"zh-Hant":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},en:kt,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:kt},"zh-Hans"),Dt=Ct.t,St=function(){function t(e){w(this,t),["spaceId","clientSecret"].forEach((function(t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(Dt("uniCloud.init.paramRequired",{param:t}))})),this.config=Object.assign({},{endpoint:"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=$t,this._getAccessTokenPromise=null,this._getAccessTokenPromiseStatus=null}return v(t,[{key:"setAccessToken",value:function(t){this.accessToken=t}},{key:"requestWrapped",value:function(t){return wt.wrappedRequest(t,this.adapter.request)}},{key:"requestAuth",value:function(t){return this.requestWrapped(t)}},{key:"request",value:function(t,e){var n=this;return Promise.resolve().then((function(){return n.hasAccessToken?e?n.requestWrapped(t):n.requestWrapped(t).catch((function(e){return new Promise((function(t,n){!e||"GATEWAY_INVALID_TOKEN"!==e.code&&"InvalidParameter.InvalidToken"!==e.code?n(e):t()})).then((function(){return n.getAccessToken()})).then((function(){var e=n.rebuildRequest(t);return n.request(e,!0)}))})):n.getAccessToken().then((function(){var e=n.rebuildRequest(t);return n.request(e,!0)}))}))}},{key:"rebuildRequest",value:function(t){var e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=wt.sign(e.data,this.config.clientSecret),e}},{key:"setupRequest",value:function(t,e){var n=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};return"auth"!==e&&(n.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=wt.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:i}}},{key:"getAccessToken",value:function(){var t=this;return"pending"===this._getAccessTokenPromiseStatus||(this._getAccessTokenPromiseStatus="pending",this._getAccessTokenPromise=this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((function(e){return new Promise((function(n,i){e.result&&e.result.accessToken?(t.setAccessToken(e.result.accessToken),t._getAccessTokenPromiseStatus="fulfilled",n(t.accessToken)):(t._getAccessTokenPromiseStatus="rejected",i(new vt({code:"AUTH_FAILED",message:"\u83b7\u53d6accessToken\u5931\u8d25"})))}))}),(function(e){return t._getAccessTokenPromiseStatus="rejected",Promise.reject(e)}))),this._getAccessTokenPromise}},{key:"authorize",value:function(){this.getAccessToken()}},{key:"callFunction",value:function(t){var e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}},{key:"getOSSUploadOptionsFromPath",value:function(t){var e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFileToOSS",value:function(t){var e=this,n=t.url,i=t.formData,a=t.name,r=t.filePath,o=t.fileType,s=t.onUploadProgress;return new Promise((function(t,l){var u=e.adapter.uploadFile({url:n,formData:i,name:a,filePath:r,fileType:o,header:{"X-OSS-server-side-encrpytion":"AES256"},success:function(e){e&&e.statusCode<400?t(e):l(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){l(new vt({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof s&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(t){s({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"reportOSSUpload",value:function(t){var e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFile",value:function(t){var e=this,n=t.filePath,i=t.cloudPath,a=t.fileType,r=void 0===a?"image":a,o=t.onUploadProgress,s=t.config;if("string"!==N(i))throw new vt({code:"INVALID_PARAM",message:"cloudPath\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"});if(!(i=i.trim()))throw new vt({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});if(/:\/\//.test(i))throw new vt({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u5408\u6cd5"});var l,u,c=s&&s.envType||this.config.envType;return this.getOSSUploadOptionsFromPath({env:c,filename:i}).then((function(t){var i=t.result;l=i.id,u="https://"+i.cdnDomain+"/"+i.ossPath;var a={url:"https://"+i.host,formData:{"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:i.accessKeyId,Signature:i.signature,host:i.host,id:l,key:i.ossPath,policy:i.policy,success_action_status:200},fileName:"file",name:"file",filePath:n,fileType:r};return e.uploadFileToOSS(Object.assign({},a,{onUploadProgress:o}))})).then((function(){return e.reportOSSUpload({id:l})})).then((function(t){return new Promise((function(e,i){t.success?e({success:!0,filePath:n,fileID:u}):i(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(t){var e=t.fileList,n={method:"serverless.file.resource.delete",params:JSON.stringify({id:e[0]})};return this.request(this.setupRequest(n))}},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList;return new Promise((function(t,n){Array.isArray(e)&&0!==e.length||n(new vt({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"})),t({fileList:e.map((function(t){return{fileID:t,tempFileURL:t}}))})}))}},{key:"hasAccessToken",get:function(){return!!this.accessToken}}]),t}(),Tt={init:function(t){var e=new St(t),n={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return n},e.customAuth=e.auth,e}},Pt="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";!function(t){t.local="local",t.none="none",t.session="session"}(xt||(xt={}));var Ot,At=function(){},Mt=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new vt({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var n=new Promise((function(e,n){t=function(t,i){return t?n(t):e(i)}}));return t.promise=n,t};function It(t){return void 0===t}function jt(t){return"[object Null]"===Object.prototype.toString.call(t)}function Ft(t){var e,n,i=(e=t,"[object Array]"===Object.prototype.toString.call(e)?t:[t]),a=p(i);try{for(a.s();!(n=a.n()).done;){var r=n.value,o=r.isMatch,s=r.genAdapter,l=r.runtime;if(o())return{adapter:s(),runtime:l}}}catch(u){a.e(u)}finally{a.f()}}!function(t){t.WEB="web",t.WX_MP="wx_mp"}(Ot||(Ot={}));var Et={adapter:null,runtime:void 0},Lt=["anonymousUuidKey"],qt=function(t){$(n,t);var e=k(n);function n(){var t;return w(this,n),t=e.call(this),Et.adapter.root.tcbObject||(Et.adapter.root.tcbObject={}),t}return v(n,[{key:"setItem",value:function(t,e){Et.adapter.root.tcbObject[t]=e}},{key:"getItem",value:function(t){return Et.adapter.root.tcbObject[t]}},{key:"removeItem",value:function(t){delete Et.adapter.root.tcbObject[t]}},{key:"clear",value:function(){delete Et.adapter.root.tcbObject}}]),n}(At);function Rt(t,e){switch(t){case"local":return e.localStorage||new qt;case"none":return new qt;default:return e.sessionStorage||new qt}}var Nt=function(){function t(e){if(w(this,t),!this._storage){this._persistence=Et.adapter.primaryStorage||e.persistence,this._storage=Rt(this._persistence,Et.adapter);var n="access_token_".concat(e.env),i="access_token_expire_".concat(e.env),a="refresh_token_".concat(e.env),r="anonymous_uuid_".concat(e.env),o="login_type_".concat(e.env),s="user_info_".concat(e.env);this.keys={accessTokenKey:n,accessTokenExpireKey:i,refreshTokenKey:a,anonymousUuidKey:r,loginTypeKey:o,userInfoKey:s}}}return v(t,[{key:"updatePersistence",value:function(t){if(t!==this._persistence){var e="local"===this._persistence;this._persistence=t;var n=Rt(t,Et.adapter);for(var i in this.keys){var a=this.keys[i];if(!e||!Lt.includes(i)){var r=this._storage.getItem(a);It(r)||jt(r)||(n.setItem(a,r),this._storage.removeItem(a))}}this._storage=n}}},{key:"setStore",value:function(t,e,n){if(this._storage){var i={version:n||"localCachev1",content:e},a=JSON.stringify(i);try{this._storage.setItem(t,a)}catch(t){throw t}}}},{key:"getStore",value:function(t,e){try{if(!this._storage)return}catch(t){return""}e=e||"localCachev1";var n=this._storage.getItem(t);return n&&n.indexOf(e)>=0?JSON.parse(n).content:""}},{key:"removeStore",value:function(t){this._storage.removeItem(t)}}]),t}(),Bt={},zt={};function Wt(t){return Bt[t]}var Ut=function t(e,n){w(this,t),this.data=n||null,this.name=e},Vt=function(t){$(n,t);var e=k(n);function n(t,i){var a;return w(this,n),a=e.call(this,"error",{error:t,data:i}),a.error=t,a}return n}(Ut),Gt=new(function(){function t(){w(this,t),this._listeners={}}return v(t,[{key:"on",value:function(t,e){return function(t,e,n){n[t]=n[t]||[],n[t].push(e)}(t,e,this._listeners),this}},{key:"off",value:function(t,e){return function(t,e,n){if(n&&n[t]){var i=n[t].indexOf(e);-1!==i&&n[t].splice(i,1)}}(t,e,this._listeners),this}},{key:"fire",value:function(t,e){if(t instanceof Vt)return this;var n="string"==typeof t?new Ut(t,e||{}):t,i=n.name;if(this._listens(i)){n.target=this;var a,r=this._listeners[i]?c(this._listeners[i]):[],o=p(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.call(this,n)}}catch(l){o.e(l)}finally{o.f()}}return this}},{key:"_listens",value:function(t){return this._listeners[t]&&this._listeners[t].length>0}}]),t}());function Ht(t,e){Gt.on(t,e)}function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Gt.fire(t,e)}function Qt(t,e){Gt.off(t,e)}var Kt,Yt="loginStateChanged",Xt="loginStateExpire",Zt="loginTypeChanged",te="anonymousConverted",ee="refreshAccessToken";!function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"}(Kt||(Kt={}));var ne=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],ie={"X-SDK-Version":"1.3.5"};function ae(t,e,n){var i=t[e];t[e]=function(e){var a={},r={};n.forEach((function(n){var i=n.call(t,e),o=i.data,s=i.headers;Object.assign(a,o),Object.assign(r,s)}));var o=e.data;return o&&function(){var t;if(t=o,"[object FormData]"!==Object.prototype.toString.call(t))e.data=b(b({},o),a);else for(var n in a)o.append(n,a[n])}(),e.headers=b(b({},e.headers||{}),r),i.call(t,e)}}function re(){var t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:b(b({},ie),{},{"x-seqid":t})}}var oe=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(this,t),this.config=n,this._reqClass=new Et.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"\u8bf7\u6c42\u5728".concat(this.config.timeout/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad"),restrictedMethods:["post"]}),this._cache=Wt(this.config.env),this._localCache=(e=this.config.env,zt[e]),ae(this._reqClass,"post",[re]),ae(this._reqClass,"upload",[re]),ae(this._reqClass,"download",[re])}return v(t,[{key:"post",value:function(){var t=u(a.default.mark((function t(e){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.post(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"upload",value:function(){var t=u(a.default.mark((function t(e){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.upload(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"download",value:function(){var t=u(a.default.mark((function t(e){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.download(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refreshAccessToken",value:function(){var t=u(a.default.mark((function t(){var e,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),t.prev=1,t.next=4,this._refreshAccessTokenPromise;case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),n=t.t0;case 10:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,!n){t.next=12;break}throw n;case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"_refreshAccessToken",value:function(){var t=u(a.default.mark((function t(){var e,n,i,r,o,s,l,u,c,d,f,h,p;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,n=e.accessTokenKey,i=e.accessTokenExpireKey,r=e.refreshTokenKey,o=e.loginTypeKey,s=e.anonymousUuidKey,this._cache.removeStore(n),this._cache.removeStore(i),l=this._cache.getStore(r),l){t.next=5;break}throw new vt({message:"\u672a\u767b\u5f55CloudBase"});case 5:return u={refresh_token:l},t.next=8,this.request("auth.fetchAccessTokenWithRefreshToken",u);case 8:if(c=t.sent,!c.data.code){t.next=21;break}if(d=c.data.code,"SIGN_PARAM_INVALID"!==d&&"REFRESH_TOKEN_EXPIRED"!==d&&"INVALID_REFRESH_TOKEN"!==d){t.next=20;break}if(this._cache.getStore(o)!==Kt.ANONYMOUS||"INVALID_REFRESH_TOKEN"!==d){t.next=19;break}return f=this._cache.getStore(s),h=this._cache.getStore(r),t.next=17,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:h});case 17:return p=t.sent,t.abrupt("return",(this.setRefreshToken(p.refresh_token),this._refreshAccessToken()));case 19:Jt(Xt),this._cache.removeStore(r);case 20:throw new vt({code:c.data.code,message:"\u5237\u65b0access token\u5931\u8d25\uff1a".concat(c.data.code)});case 21:if(!c.data.access_token){t.next=23;break}return t.abrupt("return",(Jt(ee),this._cache.setStore(n,c.data.access_token),this._cache.setStore(i,c.data.access_token_expire+Date.now()),{accessToken:c.data.access_token,accessTokenExpire:c.data.access_token_expire}));case 23:c.data.refresh_token&&(this._cache.removeStore(r),this._cache.setStore(r,c.data.refresh_token),this._refreshAccessToken());case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getAccessToken",value:function(){var t=u(a.default.mark((function t(){var e,n,i,r,o,s,l;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,n=e.accessTokenKey,i=e.accessTokenExpireKey,r=e.refreshTokenKey,this._cache.getStore(r)){t.next=3;break}throw new vt({message:"refresh token\u4e0d\u5b58\u5728\uff0c\u767b\u5f55\u72b6\u6001\u5f02\u5e38"});case 3:if(o=this._cache.getStore(n),s=this._cache.getStore(i),l=!0,t.t0=this._shouldRefreshAccessTokenHook,!t.t0){t.next=9;break}return t.next=8,this._shouldRefreshAccessTokenHook(o,s);case 8:t.t0=!t.sent;case 9:if(t.t1=t.t0,!t.t1){t.next=12;break}l=!1;case 12:return t.abrupt("return",(!o||!s||s<Date.now())&&l?this.refreshAccessToken():{accessToken:o,accessTokenExpire:s});case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"request",value:function(){var t=u(a.default.mark((function t(e,n,i){var r,o,s,l,u,c,d,f,h,p,m,_,g,v,y,x;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r="x-tcb-trace_".concat(this.config.env),o="application/x-www-form-urlencoded",s=b({action:e,env:this.config.env,dataVersion:"2019-08-16"},n),-1!==ne.indexOf(e)){t.next=10;break}if(l=this._cache.keys.refreshTokenKey,t.t0=this._cache.getStore(l),!t.t0){t.next=10;break}return t.next=9,this.getAccessToken();case 9:s.access_token=t.sent.accessToken;case 10:if("storage.uploadFile"===e){for(c in u=new FormData,u)u.hasOwnProperty(c)&&void 0!==u[c]&&u.append(c,s[c]);o="multipart/form-data"}else for(d in o="application/json",u={},s)void 0!==s[d]&&(u[d]=s[d]);return f={headers:{"content-type":o}},i&&i.onUploadProgress&&(f.onUploadProgress=i.onUploadProgress),h=this._localCache.getStore(r),h&&(f.headers["X-TCB-Trace"]=h),p=n.parse,m=n.inQuery,_=n.search,g={env:this.config.env},p&&(g.parse=!0),m&&(g=b(b({},m),g)),v=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=/\?/.test(e),a="";for(var r in n)""===a?!i&&(e+="?"):a+="&",a+="".concat(r,"=").concat(encodeURIComponent(n[r]));return/^http(s)?\:\/\//.test(e+=a)?e:"".concat(t).concat(e)}(Pt,"//tcb-api.tencentcloudapi.com/web",g),_&&(v+=_),t.next=22,this.post(b({url:v,data:u},f));case 22:if(y=t.sent,x=y.header&&y.header["x-tcb-trace"],x&&this._localCache.setStore(r,x),(200===Number(y.status)||200===Number(y.statusCode))&&y.data){t.next=26;break}throw new vt({code:"NETWORK_ERROR",message:"network request error"});case 26:return t.abrupt("return",y);case 27:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}()},{key:"send",value:function(){var t=u(a.default.mark((function t(e){var n,i,r,o=arguments;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t.next=3,this.request(e,n,{onUploadProgress:n.onUploadProgress});case 3:if(i=t.sent,"ACCESS_TOKEN_EXPIRED"!==i.data.code||-1!==ne.indexOf(e)){t.next=13;break}return t.next=7,this.refreshAccessToken();case 7:return t.next=9,this.request(e,n,{onUploadProgress:n.onUploadProgress});case 9:if(r=t.sent,!r.data.code){t.next=12;break}throw new vt({code:r.data.code,message:r.data.message});case 12:return t.abrupt("return",r.data);case 13:if(!i.data.code){t.next=15;break}throw new vt({code:i.data.code,message:i.data.message});case 15:return t.abrupt("return",i.data);case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setRefreshToken",value:function(t){var e=this._cache.keys,n=e.accessTokenKey,i=e.accessTokenExpireKey,a=e.refreshTokenKey;this._cache.removeStore(n),this._cache.removeStore(i),this._cache.setStore(a,t)}}]),t}(),se={};function le(t){return se[t]}var ue=function(){function t(e){w(this,t),this.config=e,this._cache=Wt(e.env),this._request=le(e.env)}return v(t,[{key:"setRefreshToken",value:function(t){var e=this._cache.keys,n=e.accessTokenKey,i=e.accessTokenExpireKey,a=e.refreshTokenKey;this._cache.removeStore(n),this._cache.removeStore(i),this._cache.setStore(a,t)}},{key:"setAccessToken",value:function(t,e){var n=this._cache.keys,i=n.accessTokenKey,a=n.accessTokenExpireKey;this._cache.setStore(i,t),this._cache.setStore(a,e)}},{key:"refreshUserInfo",value:function(){var t=u(a.default.mark((function t(){var e,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,n=e.data,t.abrupt("return",(this.setLocalUserInfo(n),n));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t)}}]),t}(),ce=function(){function t(e){if(w(this,t),!e)throw new vt({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=e,this._cache=Wt(this._envId),this._request=le(this._envId),this.setUserInfo()}return v(t,[{key:"linkWithTicket",value:function(t){if("string"!=typeof t)throw new vt({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}},{key:"linkWithRedirect",value:function(t){t.signInWithRedirect()}},{key:"updatePassword",value:function(t,e){return this._request.send("auth.updatePassword",{oldPassword:e,newPassword:t})}},{key:"updateEmail",value:function(t){return this._request.send("auth.updateEmail",{newEmail:t})}},{key:"updateUsername",value:function(t){if("string"!=typeof t)throw new vt({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}},{key:"getLinkedUidList",value:function(){var t=u(a.default.mark((function t(){var e,n,i,r;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getLinkedUidList",{});case 2:return e=t.sent,n=e.data,i=!1,r=n.users,t.abrupt("return",(r.forEach((function(t){t.wxOpenId&&t.wxPublicId&&(i=!0)})),{users:r,hasPrimaryUid:i}));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setPrimaryUid",value:function(t){return this._request.send("auth.setPrimaryUid",{uid:t})}},{key:"unlink",value:function(t){return this._request.send("auth.unlink",{platform:t})}},{key:"update",value:function(){var t=u(a.default.mark((function t(e){var n,i,r,o,s,l,u,c;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.nickName,i=e.gender,r=e.avatarUrl,o=e.province,s=e.country,l=e.city,t.next=8,this._request.send("auth.updateUserInfo",{nickName:n,gender:i,avatarUrl:r,province:o,country:s,city:l});case 8:u=t.sent,c=u.data,this.setLocalUserInfo(c);case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refresh",value:function(){var t=u(a.default.mark((function t(){var e,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,n=e.data,t.abrupt("return",(this.setLocalUserInfo(n),n));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setUserInfo",value:function(){var t=this,e=this._cache.keys.userInfoKey,n=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(e){t[e]=n[e]})),this.location={country:n.country,province:n.province,city:n.city}}},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t),this.setUserInfo()}}]),t}(),de=function(){function t(e){if(w(this,t),!e)throw new vt({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Wt(e);var n=this._cache.keys,i=n.refreshTokenKey,a=n.accessTokenKey,r=n.accessTokenExpireKey,o=this._cache.getStore(i),s=this._cache.getStore(a),l=this._cache.getStore(r);this.credential={refreshToken:o,accessToken:s,accessTokenExpire:l},this.user=new ce(e)}return v(t,[{key:"isAnonymousAuth",get:function(){return this.loginType===Kt.ANONYMOUS}},{key:"isCustomAuth",get:function(){return this.loginType===Kt.CUSTOM}},{key:"isWeixinAuth",get:function(){return this.loginType===Kt.WECHAT||this.loginType===Kt.WECHAT_OPEN||this.loginType===Kt.WECHAT_PUBLIC}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),fe=function(t){$(n,t);var e=k(n);function n(){return w(this,n),e.apply(this,arguments)}return v(n,[{key:"signIn",value:function(){var t=u(a.default.mark((function t(){var e,n,i,r,o,s,l;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._cache.updatePersistence("local"),e=this._cache.keys,n=e.anonymousUuidKey,i=e.refreshTokenKey,r=this._cache.getStore(n)||void 0,o=this._cache.getStore(i)||void 0,t.next=8,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:o});case 8:if(s=t.sent,!s.uuid||!s.refresh_token){t.next=20;break}return this._setAnonymousUUID(s.uuid),this.setRefreshToken(s.refresh_token),t.next=14,this._request.refreshAccessToken();case 14:return Jt(Yt),Jt(Zt,{env:this.config.env,loginType:Kt.ANONYMOUS,persistence:"local"}),l=new de(this.config.env),t.next=19,l.user.refresh();case 19:return t.abrupt("return",l);case 20:throw new vt({message:"\u533f\u540d\u767b\u5f55\u5931\u8d25"});case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=u(a.default.mark((function t(e){var n,i,r,o,s,l;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this._cache.keys,i=n.anonymousUuidKey,r=n.refreshTokenKey,o=this._cache.getStore(i),s=this._cache.getStore(r),t.next=7,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:s,ticket:e});case 7:if(l=t.sent,!l.refresh_token){t.next=16;break}return this._clearAnonymousUUID(),this.setRefreshToken(l.refresh_token),t.next=13,this._request.refreshAccessToken();case 13:return Jt(te,{env:this.config.env}),Jt(Zt,{loginType:Kt.CUSTOM,persistence:"local"}),t.abrupt("return",{credential:{refreshToken:l.refresh_token}});case 16:throw new vt({message:"\u533f\u540d\u8f6c\u5316\u5931\u8d25"});case 17:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_setAnonymousUUID",value:function(t){var e=this._cache.keys,n=e.anonymousUuidKey,i=e.loginTypeKey;this._cache.removeStore(n),this._cache.setStore(n,t),this._cache.setStore(i,Kt.ANONYMOUS)}},{key:"_clearAnonymousUUID",value:function(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}]),n}(ue),he=function(t){$(n,t);var e=k(n);function n(){return w(this,n),e.apply(this,arguments)}return v(n,[{key:"signIn",value:function(){var t=u(a.default.mark((function t(e){var n,i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({param:"PARAM_ERROR",message:"ticket must be a string"});case 2:return n=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(n)||""});case 5:if(i=t.sent,!i.refresh_token){t.next=15;break}return this.setRefreshToken(i.refresh_token),t.next=10,this._request.refreshAccessToken();case 10:return Jt(Yt),Jt(Zt,{env:this.config.env,loginType:Kt.CUSTOM,persistence:this.config.persistence}),t.next=14,this.refreshUserInfo();case 14:return t.abrupt("return",new de(this.config.env));case 15:throw new vt({message:"\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25"});case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),n}(ue),pe=function(t){$(n,t);var e=k(n);function n(){return w(this,n),e.apply(this,arguments)}return v(n,[{key:"signIn",value:function(){var t=u(a.default.mark((function t(e,n){var i,r,o,s,l;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({code:"PARAM_ERROR",message:"email must be a string"});case 2:return i=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:n,refresh_token:this._cache.getStore(i)||""});case 5:if(r=t.sent,o=r.refresh_token,s=r.access_token,l=r.access_token_expire,!o){t.next=22;break}if(this.setRefreshToken(o),!s||!l){t.next=15;break}this.setAccessToken(s,l),t.next=17;break;case 15:return t.next=17,this._request.refreshAccessToken();case 17:return t.next=19,this.refreshUserInfo();case 19:return Jt(Yt),Jt(Zt,{env:this.config.env,loginType:Kt.EMAIL,persistence:this.config.persistence}),t.abrupt("return",new de(this.config.env));case 22:throw r.code?new vt({code:r.code,message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25: ".concat(r.message)}):new vt({message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25"});case 23:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"activate",value:function(){var t=u(a.default.mark((function t(e){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.activateEndUserMail",{token:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"resetPasswordWithToken",value:function(){var t=u(a.default.mark((function t(e,n){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:n}));case 1:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),n}(ue),me=function(t){$(n,t);var e=k(n);function n(){return w(this,n),e.apply(this,arguments)}return v(n,[{key:"signIn",value:function(){var t=u(a.default.mark((function t(e,n){var i,r,o,s,l;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({code:"PARAM_ERROR",message:"username must be a string"});case 2:return"string"!=typeof n&&(n=""),i=this._cache.keys.refreshTokenKey,t.next=6,this._request.send("auth.signIn",{loginType:Kt.USERNAME,username:e,password:n,refresh_token:this._cache.getStore(i)||""});case 6:if(r=t.sent,o=r.refresh_token,s=r.access_token_expire,l=r.access_token,!o){t.next=23;break}if(this.setRefreshToken(o),!l||!s){t.next=16;break}this.setAccessToken(l,s),t.next=18;break;case 16:return t.next=18,this._request.refreshAccessToken();case 18:return t.next=20,this.refreshUserInfo();case 20:return Jt(Yt),Jt(Zt,{env:this.config.env,loginType:Kt.USERNAME,persistence:this.config.persistence}),t.abrupt("return",new de(this.config.env));case 23:throw r.code?new vt({code:r.code,message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25: ".concat(r.message)}):new vt({message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25"});case 24:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),n}(ue),_e=function(){function t(e){w(this,t),this.config=e,this._cache=Wt(e.env),this._request=le(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Ht(Zt,this._onLoginTypeChanged)}return v(t,[{key:"anonymousAuthProvider",value:function(){return new fe(this.config)}},{key:"customAuthProvider",value:function(){return new he(this.config)}},{key:"emailAuthProvider",value:function(){return new pe(this.config)}},{key:"usernameAuthProvider",value:function(){return new me(this.config)}},{key:"signInAnonymously",value:function(){var t=u(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new fe(this.config).signIn());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"signInWithEmailAndPassword",value:function(){var t=u(a.default.mark((function t(e,n){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new pe(this.config).signIn(e,n));case 1:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"signInWithUsernameAndPassword",value:function(t,e){return new me(this.config).signIn(t,e)}},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=u(a.default.mark((function t(e){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new fe(this.config)),Ht(te,this._onAnonymousConverted),t.next=3,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"signOut",value:function(){var t=u(a.default.mark((function t(){var e,n,i,r,o,s;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loginType!==Kt.ANONYMOUS){t.next=2;break}throw new vt({message:"\u533f\u540d\u7528\u6237\u4e0d\u652f\u6301\u767b\u51fa\u64cd\u4f5c"});case 2:if(e=this._cache.keys,n=e.refreshTokenKey,i=e.accessTokenKey,r=e.accessTokenExpireKey,o=this._cache.getStore(n),o){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this._request.send("auth.logout",{refresh_token:o});case 7:return s=t.sent,t.abrupt("return",(this._cache.removeStore(n),this._cache.removeStore(i),this._cache.removeStore(r),Jt(Yt),Jt(Zt,{env:this.config.env,loginType:Kt.NULL,persistence:this.config.persistence}),s));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"signUpWithEmailAndPassword",value:function(){var t=u(a.default.mark((function t(e,n){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:n}));case 1:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"sendPasswordResetEmail",value:function(){var t=u(a.default.mark((function t(e){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.sendPasswordResetEmail",{email:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onLoginStateChanged",value:function(t){var e=this;Ht(Yt,(function(){var n=e.hasLoginState();t.call(e,n)}));var n=this.hasLoginState();t.call(this,n)}},{key:"onLoginStateExpired",value:function(t){Ht(Xt,t.bind(this))}},{key:"onAccessTokenRefreshed",value:function(t){Ht(ee,t.bind(this))}},{key:"onAnonymousConverted",value:function(t){Ht(te,t.bind(this))}},{key:"onLoginTypeChanged",value:function(t){var e=this;Ht(Zt,(function(){var n=e.hasLoginState();t.call(e,n)}))}},{key:"getAccessToken",value:function(){var t=u(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.getAccessToken();case 2:return t.t0=t.sent.accessToken,t.t1=this.config.env,t.abrupt("return",{accessToken:t.t0,env:t.t1});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"hasLoginState",value:function(){var t=this._cache.keys.refreshTokenKey;return this._cache.getStore(t)?new de(this.config.env):null}},{key:"isUsernameRegistered",value:function(){var t=u(a.default.mark((function t(e){var n,i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new vt({code:"PARAM_ERROR",message:"username must be a string"});case 2:return t.next=4,this._request.send("auth.isUsernameRegistered",{username:e});case 4:return n=t.sent,i=n.data,t.abrupt("return",i&&i.isRegistered);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getLoginState",value:function(){return Promise.resolve(this.hasLoginState())}},{key:"signInWithTicket",value:function(){var t=u(a.default.mark((function t(e){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new he(this.config).signIn(e));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"shouldRefreshAccessToken",value:function(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}},{key:"getUserInfo",value:function(){return this._request.send("auth.getUserInfo",{}).then((function(t){return t.code?t:b(b({},t.data),{},{requestId:t.seqId})}))}},{key:"getAuthHeader",value:function(){var t=this._cache.keys,e=t.refreshTokenKey,n=t.accessTokenKey,i=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+i}}},{key:"_onAnonymousConverted",value:function(t){var e=t.data.env;e===this.config.env&&this._cache.updatePersistence(this.config.persistence)}},{key:"_onLoginTypeChanged",value:function(t){var e=t.data,n=e.loginType,i=e.persistence,a=e.env;a===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,n))}},{key:"currentUser",get:function(){var t=this.hasLoginState();return t&&t.user||null}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),ge=function(t,e){e=e||Mt();var n=le(this.config.env),i=t.cloudPath,a=t.filePath,r=t.onUploadProgress,o=t.fileType,s=void 0===o?"image":o;return n.send("storage.getUploadMetadata",{path:i}).then((function(t){var o=t.data,l=o.url,u=o.authorization,c=o.token,d=o.fileId,f=o.cosFileId,h=t.requestId,p={key:i,signature:u,"x-cos-meta-fileid":f,success_action_status:"201","x-cos-security-token":c};n.upload({url:l,data:p,file:a,name:i,fileType:s,onUploadProgress:r}).then((function(t){201===t.statusCode?e(null,{fileID:d,requestId:h}):e(new vt({code:"STORAGE_REQUEST_FAIL",message:"STORAGE_REQUEST_FAIL: ".concat(t.data)}))})).catch((function(t){e(t)}))})).catch((function(t){e(t)})),e.promise},ve=function(t,e){e=e||Mt();var n=le(this.config.env),i=t.cloudPath;return n.send("storage.getUploadMetadata",{path:i}).then((function(t){e(null,t)})).catch((function(t){e(t)})),e.promise},ye=function(t,e){var n=t.fileList;if(e=e||Mt(),!n||!Array.isArray(n))return{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"};var i,a=p(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(!r||"string"!=typeof r)return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"}}}catch(s){a.e(s)}finally{a.f()}var o={fileid_list:n};return le(this.config.env).send("storage.batchDeleteFile",o).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.delete_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},be=function(t,e){var n=t.fileList;e=e||Mt(),n&&Array.isArray(n)||e(null,{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"});var i,a=[],r=p(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;"object"==typeof o?(o.hasOwnProperty("fileID")&&o.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5305\u542bfileID\u548cmaxAge\u7684\u5bf9\u8c61"}),a.push({fileid:o.fileID,max_age:o.maxAge})):"string"==typeof o?a.push({fileid:o}):e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"})}}catch(l){r.e(l)}finally{r.f()}var s={file_list:a};return le(this.config.env).send("storage.batchGetDownloadUrl",s).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.download_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},xe=function(){var t=u(a.default.mark((function t(e,n){var i,r,o,s;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.fileID,t.next=3,be.call(this,{fileList:[{fileID:i,maxAge:600}]});case 3:if(r=t.sent.fileList[0],"SUCCESS"===r.code){t.next=6;break}return t.abrupt("return",n?n(r):new Promise((function(t){t(r)})));case 6:if(o=le(this.config.env),s=r.download_url,s=encodeURI(s),n){t.next=10;break}return t.abrupt("return",o.download({url:s}));case 10:return t.t0=n,t.next=13,o.download({url:s});case 13:t.t1=t.sent,(0,t.t0)(t.t1);case 15:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),we=function(t,e){var n,i=t.name,a=t.data,r=t.query,o=t.parse,s=t.search,l=e||Mt();try{n=a?JSON.stringify(a):""}catch(i){return Promise.reject(i)}if(!i)return Promise.reject(new vt({code:"PARAM_ERROR",message:"\u51fd\u6570\u540d\u4e0d\u80fd\u4e3a\u7a7a"}));var u={inQuery:r,parse:o,search:s,function_name:i,request_data:n};return le(this.config.env).send("functions.invokeFunction",u).then((function(t){if(t.code)l(null,t);else{var e=t.data.response_data;if(o)l(null,{result:e,requestId:t.requestId});else try{e=JSON.parse(t.data.response_data),l(null,{result:e,requestId:t.requestId})}catch(t){l(new vt({message:"response data must be json"}))}}return l.promise})).catch((function(t){l(t)})),l.promise},$e={timeout:15e3,persistence:"session"},ke={},Ce=function(){function t(e){w(this,t),this.config=e||this.config,this.authObj=void 0}return v(t,[{key:"init",value:function(e){switch(Et.adapter||(this.requestClient=new Et.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:"\u8bf7\u6c42\u5728".concat((e.timeout||5e3)/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad")})),this.config=b(b({},$e),e),!0){case this.config.timeout>6e5:this.config.timeout=6e5;break;case this.config.timeout<100:this.config.timeout=100}return new t(this.config)}},{key:"auth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.persistence;if(this.authObj)return this.authObj;var n,i=e||Et.adapter.primaryStorage||$e.persistence;return i!==this.config.persistence&&(this.config.persistence=i),function(t){var e=t.env;Bt[e]=new Nt(t),zt[e]=new Nt(b(b({},t),{},{persistence:"local"}))}(this.config),n=this.config,se[n.env]=new oe(n),this.authObj=new _e(this.config),this.authObj}},{key:"on",value:function(t,e){return Ht.apply(this,[t,e])}},{key:"off",value:function(t,e){return Qt.apply(this,[t,e])}},{key:"callFunction",value:function(t,e){return we.apply(this,[t,e])}},{key:"deleteFile",value:function(t,e){return ye.apply(this,[t,e])}},{key:"getTempFileURL",value:function(t,e){return be.apply(this,[t,e])}},{key:"downloadFile",value:function(t,e){return xe.apply(this,[t,e])}},{key:"uploadFile",value:function(t,e){return ge.apply(this,[t,e])}},{key:"getUploadMetadata",value:function(t,e){return ve.apply(this,[t,e])}},{key:"registerExtension",value:function(t){ke[t.name]=t}},{key:"invokeExtension",value:function(){var t=u(a.default.mark((function t(e,n){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=ke[e],i){t.next=3;break}throw new vt({message:"\u6269\u5c55".concat(e," \u5fc5\u987b\u5148\u6ce8\u518c")});case 3:return t.next=5,i.invoke(n,this);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"useAdapters",value:function(t){var e=Ft(t)||{},n=e.adapter,i=e.runtime;n&&(Et.adapter=n),i&&(Et.runtime=i)}}]),t}(),De=new Ce;function Se(t,e,n){void 0===n&&(n={});var i=/\?/.test(e),a="";for(var r in n)""===a?!i&&(e+="?"):a+="&",a+=r+"="+encodeURIComponent(n[r]);return/^http(s)?:\/\//.test(e+=a)?e:""+t+e}var Te=function(){function t(){w(this,t)}return v(t,[{key:"post",value:function(t){var e=t.url,n=t.data,i=t.headers;return new Promise((function(t,a){$t.request({url:Se("https:",e),data:n,method:"POST",header:i,success:function(e){t(e)},fail:function(t){a(t)}})}))}},{key:"upload",value:function(t){return new Promise((function(e,n){var i=t.url,a=t.file,r=t.data,o=t.headers,s=t.fileType,l=$t.uploadFile({url:Se("https:",i),name:"file",formData:Object.assign({},r),filePath:a,fileType:s,header:o,success:function(t){var n={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&r.success_action_status&&(n.statusCode=parseInt(r.success_action_status,10)),e(n)},fail:function(t){n(new Error(t.errMsg||"uploadFile:fail"))}});"function"==typeof t.onUploadProgress&&l&&"function"==typeof l.onProgressUpdate&&l.onProgressUpdate((function(e){t.onUploadProgress({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}}]),t}(),Pe={setItem:function(t,e){$t.setStorageSync(t,e)},getItem:function(t){return $t.getStorageSync(t)},removeItem:function(t){$t.removeStorageSync(t)},clear:function(){$t.clearStorageSync()}},Oe={genAdapter:function(){return{root:{},reqClass:Te,localStorage:Pe,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};De.useAdapters(Oe);var Ae=De,Me=Ae.init;Ae.init=function(t){t.env=t.spaceId;var e=Me.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;var n=e.auth;return e.auth=function(t){var e=n.call(this,t);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((function(t){e[t]=_t(e[t]).bind(e)})),e},e.customAuth=e.auth,e};var Ie=Ae;function je(){return{token:$t.getStorageSync("uni_id_token")||$t.getStorageSync("uniIdToken"),tokenExpired:$t.getStorageSync("uni_id_token_expired")}}function Fe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,n=t.tokenExpired;e&&$t.setStorageSync("uni_id_token",e),n&&$t.setStorageSync("uni_id_token_expired",n)}function Ee(){U&&"web"===W&&uni.getStorageSync("__LAST_DCLOUD_APPID")!==Q&&(uni.setStorageSync("__LAST_DCLOUD_APPID",Q),$t.removeStorageSync("uni_id_token"),$t.removeStorageSync("uniIdToken"),$t.removeStorageSync("uni_id_token_expired"))}var Le=function(t){$(n,t);var e=k(n);function n(){return w(this,n),e.apply(this,arguments)}return v(n,[{key:"getAccessToken",value:function(){var t=this;return new Promise((function(e,n){var i="Anonymous_Access_token";t.setAccessToken(i),e(i)}))}},{key:"setupRequest",value:function(t,e){var n=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};"auth"!==e&&(n.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=wt.sign(n,this.config.clientSecret);var a=bt();i["x-client-info"]=encodeURIComponent(JSON.stringify(a));var r=je(),o=r.token;return i["x-client-token"]=o,{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:JSON.parse(JSON.stringify(i))}}},{key:"uploadFileToOSS",value:function(t){var e=this,n=t.url,i=t.formData,a=t.name,r=t.filePath,o=t.fileType,s=t.onUploadProgress;return new Promise((function(t,l){var u=e.adapter.uploadFile({url:n,formData:i,name:a,filePath:r,fileType:o,success:function(e){e&&e.statusCode<400?t(e):l(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){l(new vt({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof s&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(t){s({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(t){var e,n=this,i=t.filePath,a=t.cloudPath,r=t.fileType,o=void 0===r?"image":r,s=t.onUploadProgress;if(!a)throw new vt({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});return this.getOSSUploadOptionsFromPath({cloudPath:a}).then((function(t){var a=t.result,r=a.url,l=a.formData,u=a.name;e=t.result.fileUrl;var c={url:r,formData:l,name:u,filePath:i,fileType:o};return n.uploadFileToOSS(Object.assign({},c,{onUploadProgress:s}))})).then((function(){return n.reportOSSUpload({cloudPath:a})})).then((function(t){return new Promise((function(n,a){t.success?n({success:!0,filePath:i,fileID:e}):a(new vt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(t){var e=t.fileList,n={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(n))}},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList,n={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(n))}}]),n}(St),qe={init:function(t){var e=new Le(t),n={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return n},e.customAuth=e.auth,e}};function Re(t){var e,n=t.data;e=bt();var i=JSON.parse(JSON.stringify(n||{}));if(Object.assign(i,{clientInfo:e}),!i.uniIdToken){var a=je(),r=a.token;r&&(i.uniIdToken=r)}return i}function Ne(t){var e=this,n=t.name,i=t.data,a=this.localAddress,r=this.localPort,o={aliyun:"aliyun",tencent:"tcb"}[this.config.provider],s=this.config.spaceId,l="http://".concat(a,":").concat(r,"/system/check-function"),u="http://".concat(a,":").concat(r,"/cloudfunctions/").concat(n);return new Promise((function(t,e){$t.request({method:"POST",url:l,data:{name:n,platform:W,provider:o,spaceId:s},timeout:3e3,success:function(e){t(e)},fail:function(){t({data:{code:"NETWORK_ERROR",message:"\u8fde\u63a5\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u5ba2\u6237\u7aef\u662f\u5426\u548c\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u5df2\u90e8\u7f72\u7684\u4e91\u51fd\u6570\u3002"}})}})})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=e||{},i=n.code,a=n.message;return{code:0===i?0:i||"SYS_ERR",message:a||"SYS_ERR"}})).then((function(t){var a=t.code,r=t.message;if(0!==a){switch(a){case"MODULE_ENCRYPTED":break;case"FUNCTION_ENCRYPTED":break;case"ACTION_ENCRYPTED":break;case"NETWORK_ERROR":var s="\u8fde\u63a5\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u5ba2\u6237\u7aef\u662f\u5426\u548c\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b";throw new Error(s);case"SWITCH_TO_CLOUD":break;default:var l="\u68c0\u6d4b\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u51fa\u73b0\u9519\u8bef\uff1a".concat(r,"\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u73af\u5883\u6216\u91cd\u542f\u5ba2\u6237\u7aef\u518d\u8bd5");throw new Error(l)}return e._originCallFunction({name:n,data:i})}return new Promise((function(t,n){var a=Re.call(e,{data:i});$t.request({method:"POST",url:u,data:{provider:o,platform:W,param:a},success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.statusCode,a=e.data;return!i||i>=400?n(new vt({code:a.code||"SYS_ERR",message:a.message||"request:fail"})):t({result:a})},fail:function(t){n(new vt({code:t.code||t.errCode||"SYS_ERR",message:t.message||t.errMsg||"request:fail"}))}})}))}))}var Be=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uff0c\u4e91\u51fd\u6570[{functionName}]\u5728\u4e91\u7aef\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u6b64\u4e91\u51fd\u6570\u540d\u79f0\u662f\u5426\u6b63\u786e\u4ee5\u53ca\u8be5\u4e91\u51fd\u6570\u662f\u5426\u5df2\u4e0a\u4f20\u5230\u670d\u52a1\u7a7a\u95f4",mode:"append"}],ze=/[\\^$.*+?()[\]{}|]/g,We=RegExp(ze.source);function Ue(t,e,n){return t.replace(new RegExp((i=e)&&We.test(i)?i.replace(ze,"\\$&"):i,"g"),n);var i}function Ve(t){var e=t.functionName,n=t.result;t.logPvd;if(this.config.debugLog&&n&&n.requestId)JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:n.requestId})}function Ge(t){var e=t.callFunction,n=function(n){var i=this,a=n.name;n.data=Re.call(t,{data:n.data});var r={aliyun:"aliyun",tencent:"tcb",tcb:"tcb"}[this.config.provider];return e.call(this,n).then((function(t){return t.errCode=0,Ve.call(i,{functionName:a,result:t,logPvd:r}),Promise.resolve(t)}),(function(t){return Ve.call(i,{functionName:a,result:t,logPvd:r}),t&&t.message&&(t.message=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,n=void 0===e?"":e,i=t.extraInfo,a=void 0===i?{}:i,r=t.formatter,o=void 0===r?[]:r,s=0;s<o.length;s++){var l=o[s],u=l.rule,c=l.content,d=l.mode,f=n.match(u);if(f){for(var h=c,p=1;p<f.length;p++)h=Ue(h,"{$".concat(p,"}"),f[p]);for(var m in a)h=Ue(h,"{".concat(m,"}"),a[m]);return"replace"===d?h:n+h}}return n}({message:"[".concat(n.name,"]: ").concat(t.message),formatter:Be,extraInfo:{functionName:a}})),Promise.reject(t)}))};t.callFunction=function(e){var i;return U&&t.debugInfo&&!t.debugInfo.forceRemote&&H?(t._originCallFunction||(t._originCallFunction=n),i=Ne.call(this,e)):i=n.call(this,e),Object.defineProperty(i,"result",{get:function(){return{}}}),i}}var He=Symbol("CLIENT_DB_INTERNAL");function Je(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=He,t.__ob__=void 0,new Proxy(t,{get:function(t,n,i){if("_uniClient"===n)return null;if(n in t||"string"!=typeof n){var a=t[n];return"function"==typeof a?a.bind(t):a}return e.get(t,n,i)}})}function Qe(t){return{on:function(e,n){t[e]=t[e]||[],t[e].indexOf(n)>-1||t[e].push(n)},off:function(e,n){t[e]=t[e]||[];var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1)}}}var Ke=["db.Geo","db.command","command.aggregate"];function Ye(t,e){return Ke.indexOf("".concat(t,".").concat(e))>-1}function Xe(t){switch(N(t)){case"array":return t.map((function(t){return Xe(t)}));case"object":return t._internalType===He||Object.keys(t).forEach((function(e){t[e]=Xe(t[e])})),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}function Ze(t){return t&&t.content&&t.content.$method}var tn=function(){function t(e,n,i){w(this,t),this.content=e,this.prevStage=n||null,this.udb=null,this._database=i}return v(t,[{key:"toJSON",value:function(){for(var t=this,e=[t.content];t.prevStage;)t=t.prevStage,e.push(t.content);return{$db:e.reverse().map((function(t){return{$method:t.$method,$param:Xe(t.$param)}}))}}},{key:"getAction",value:function(){var t=this.toJSON().$db.find((function(t){return"action"===t.$method}));return t&&t.$param&&t.$param[0]}},{key:"getCommand",value:function(){return{$db:this.toJSON().$db.filter((function(t){return"action"!==t.$method}))}}},{key:"get",value:function(){return this._send("get",Array.from(arguments))}},{key:"add",value:function(){return this._send("add",Array.from(arguments))}},{key:"update",value:function(){return this._send("update",Array.from(arguments))}},{key:"end",value:function(){return this._send("end",Array.from(arguments))}},{key:"_send",value:function(t,e){var n=this.getAction(),i=this.getCommand();if(i.$db.push({$method:t,$param:Xe(e)}),U){var a=i.$db.find((function(t){return"collection"===t.$method})),r=a&&a.$param;r&&1===r.length&&"string"==typeof a.$param[0]&&a.$param[0].indexOf(",")}return this._database._callCloudFunction({action:n,command:i})}},{key:"isAggregate",get:function(){for(var t=this;t;){var e=Ze(t),n=Ze(t.prevStage);if("aggregate"===e&&"collection"===n||"pipeline"===e)return!0;t=t.prevStage}return!1}},{key:"isCommand",get:function(){for(var t=this;t;){if("command"===Ze(t))return!0;t=t.prevStage}return!1}},{key:"isAggregateCommand",get:function(){for(var t=this;t;){var e=Ze(t),n=Ze(t.prevStage);if("aggregate"===e&&"command"===n)return!0;t=t.prevStage}return!1}},{key:"count",get:function(){if(!this.isAggregate)return function(){return this._send("count",Array.from(arguments))};var t=this;return function(){return en({$method:"count",$param:Xe(Array.from(arguments))},t,this._database)}}},{key:"remove",get:function(){if(!this.isCommand)return function(){return this._send("remove",Array.from(arguments))};var t=this;return function(){return en({$method:"remove",$param:Xe(Array.from(arguments))},t,this._database)}}},{key:"set",get:function(){if(!this.isCommand)return function(){throw new Error("JQL\u7981\u6b62\u4f7f\u7528set\u65b9\u6cd5")};var t=this;return function(){return en({$method:"set",$param:Xe(Array.from(arguments))},t,this._database)}}}]),t}();function en(t,e,n){return Je(new tn(t,e,n),{get:function(t,e){var i="db";return t&&t.content&&(i=t.content.$method),Ye(i,e)?en({$method:e},t,n):function(){return en({$method:e,$param:Xe(Array.from(arguments))},t,n)}}})}function nn(t){var e=t.path,n=t.method;return function(){function t(){w(this,t),this.param=Array.from(arguments)}return v(t,[{key:"toJSON",value:function(){return{$newDb:[].concat(c(e.map((function(t){return{$method:t}}))),[{$method:n,$param:this.param}])}}}]),t}()}var an=function(t){$(n,t);var e=k(n);function n(){return w(this,n),e.apply(this,arguments)}return v(n,[{key:"_callCloudFunction",value:function(t){var e=this,n=t.action,i=t.command,a=t.multiCommand,r=t.queryList;function o(t,e){if(a&&r)for(var n=0;n<r.length;n++){var i=r[n];i.udb&&"function"==typeof i.udb.setResult&&(e?i.udb.setResult(e):i.udb.setResult(t.result.dataList[n]))}}var s=this;function l(t){return s._callback("error",[t]),it(at("database","fail"),t).then((function(){return it(at("database","complete"),t)})).then((function(){return o(null,t),mt(ot,{type:ut,content:t}),Promise.reject(t)}))}var u=it(at("database","invoke")),c=this._uniClient;return u.then((function(){return c.callFunction({name:"DCloud-clientDB",type:R,data:{action:n,command:i,multiCommand:a}})})).then((function(t){var n=t.result,i=n.code,a=n.message,r=n.token,s=n.tokenExpired,u=n.systemInfo,c=void 0===u?[]:u;if(c)for(var d=0;d<c.length;d++){var f=c[d],h=f.level,p=f.message,m=f.detail,_=console["app"===W&&"warn"===h?"error":h]||console.log,g="[System Info]"+p;m&&(g="".concat(g,"\n\u8be6\u7ec6\u4fe1\u606f\uff1a").concat(m)),_(g)}if(i)return l(new vt({code:i,message:a,requestId:t.requestId}));t.result.errCode=t.result.code,t.result.errMsg=t.result.message,r&&s&&(Fe({token:r,tokenExpired:s}),e._callbackAuth("refreshToken",[{token:r,tokenExpired:s}]),e._callback("refreshToken",[{token:r,tokenExpired:s}]),mt(lt,{token:r,tokenExpired:s}));for(var v=[{prop:"affectedDocs",tips:"affectedDocs\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528inserted/deleted/updated/data.length\u66ff\u4ee3"},{prop:"code",tips:"code\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errCode\u66ff\u4ee3"},{prop:"message",tips:"message\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errMsg\u66ff\u4ee3"}],y=function(e){var n=v[e],i=n.prop;n.tips;if(i in t.result){var a=t.result[i];Object.defineProperty(t.result,i,{get:function(){return a}})}},b=0;b<v.length;b++)y(b);return function(t){return it(at("database","success"),t).then((function(){return it(at("database","complete"),t)})).then((function(){return o(t,null),mt(ot,{type:ut,content:t}),Promise.resolve(t)}))}(t)}),(function(t){return/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(t.message),l(new vt({code:t.code||"SYSTEM_ERROR",message:t.message,requestId:t.requestId}))}))}}]),n}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.uniClient,i=void 0===n?{}:n;w(this,t),this._uniClient=i,this._authCallBacks={},this._dbCallBacks={},i.isDefault&&(this._dbCallBacks=X("_globalUniCloudDatabaseCallback")),this.auth=Qe(this._authCallBacks),Object.assign(this,Qe(this._dbCallBacks)),this.env=Je({},{get:function(t,e){return{$env:e}}}),this.Geo=Je({},{get:function(t,e){return nn({path:["Geo"],method:e})}}),this.serverDate=nn({path:[],method:"serverDate"}),this.RegExp=nn({path:[],method:"RegExp"})}return v(t,[{key:"getCloudEnv",value:function(t){if("string"!=typeof t||!t.trim())throw new Error("getCloudEnv\u53c2\u6570\u9519\u8bef");return{$env:t.replace("$cloudEnv_","")}}},{key:"_callback",value:function(t,e){var n=this._dbCallBacks;n[t]&&n[t].forEach((function(t){t.apply(void 0,c(e))}))}},{key:"_callbackAuth",value:function(t,e){var n=this._authCallBacks;n[t]&&n[t].forEach((function(t){t.apply(void 0,c(e))}))}},{key:"multiSend",value:function(){var t=Array.from(arguments),e=t.map((function(t){var e=t.getAction(),n=t.getCommand();if("getTemp"!==n.$db[n.$db.length-1].$method)throw new Error("multiSend\u53ea\u652f\u6301\u5b50\u547d\u4ee4\u5185\u4f7f\u7528getTemp");return{action:e,command:n}}));return this._callCloudFunction({multiCommand:e,queryList:t})}}]),t}());function rn(t){t.database=function(e){if(e&&Object.keys(e).length>0)return t.init(e).database();if(this._database)return this._database;var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Je(new t(e),{get:function(t,e){return Ye("db",e)?en({$method:e},null,t):function(){return en({$method:e,$param:Xe(Array.from(arguments))},null,t)}}})}(an,{uniClient:t});return this._database=n,n}}var on="token\u65e0\u6548\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",sn="token\u8fc7\u671f\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",ln={TOKEN_INVALID_TOKEN_EXPIRED:sn,TOKEN_INVALID_INVALID_CLIENTID:on,TOKEN_INVALID:on,TOKEN_INVALID_WRONG_TOKEN:on,TOKEN_INVALID_ANONYMOUS_USER:on},un={"uni-id-token-expired":sn,"uni-id-check-token-failed":on,"uni-id-token-not-exist":on,"uni-id-check-device-feature-failed":on};function cn(t,e){var n="";return n=t?"".concat(t,"/").concat(e):e,n.replace(/^\//,"")}function dn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],i=[];return t.forEach((function(t){!0===t.needLogin?n.push(cn(e,t.path)):!1===t.needLogin&&i.push(cn(e,t.path))})),{needLoginPage:n,notNeedLoginPage:i}}function fn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return!1;if(!(e&&e.list&&e.list.length))return!1;var n=e.list,i=t.split("?")[0].replace(/^\//,"");return n.some((function(t){return t.pagePath===i}))}var hn,pn=!!o.default.uniIdRouter,mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default,e=t.pages,n=void 0===e?[]:e,i=t.subPackages,a=void 0===i?[]:i,r=t.uniIdRouter,s=void 0===r?{}:r,l=t.tabBar,u=void 0===l?{}:l,d=s.loginPage,f=s.needLogin,h=void 0===f?[]:f,p=s.resToLogin,m=void 0===p||p,_=dn(n),g=_.needLoginPage,v=_.notNeedLoginPage,y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=[];return t.forEach((function(t){var i=t.root,a=t.pages,r=void 0===a?[]:a,o=dn(r,i),s=o.needLoginPage,l=o.notNeedLoginPage;e.push.apply(e,c(s)),n.push.apply(n,c(l))})),{needLoginPage:e,notNeedLoginPage:n}}(a),b=y.needLoginPage,x=y.notNeedLoginPage;return{loginPage:d,routerNeedLogin:h,resToLogin:m,needLoginPage:[].concat(c(g),c(b)),notNeedLoginPage:[].concat(c(v),c(x)),loginPageInTabBar:fn(d,u)}}(),_n=mn.loginPage,gn=mn.routerNeedLogin,vn=mn.resToLogin,yn=mn.needLoginPage,bn=mn.notNeedLoginPage,xn=mn.loginPageInTabBar;function wn(t){var e=function(t){var e=getCurrentPages(),n=e[e.length-1].route,i=t.charAt(0),a=t.split("?")[0];if("/"===i)return a;var r=a.replace(/^\//,"").split("/"),o=n.split("/");o.pop();for(var s=0;s<r.length;s++){var l=r[s];".."===l?o.pop():"."!==l&&o.push(l)}return""===o[0]&&o.shift(),o.join("/")}(t).replace(/^\//,"");return!(bn.indexOf(e)>-1)&&(yn.indexOf(e)>-1||gn.some((function(e){return function(t,e){return new RegExp(e).test(t)}(t,e)})))}function $n(t,e){return"/"!==t.charAt(0)&&(t="/"+t),e?t.indexOf("?")>-1?t+"&uniIdRedirectUrl=".concat(encodeURIComponent(e)):t+"?uniIdRedirectUrl=".concat(encodeURIComponent(e)):t}function kn(){for(var t=["navigateTo","redirectTo","reLaunch","switchTab"],e=function(e){var n=t[e];uni.addInterceptor(n,{invoke:function(t){var e,i=je(),a=i.token,r=i.tokenExpired;if(a){if(r<Date.now()){var o="uni-id-token-expired";e={errCode:o,errMsg:un[o]}}}else{var s="uni-id-check-token-failed";e={errCode:s,errMsg:un[s]}}if(wn(t.url)&&e){if(e.uniIdRedirectUrl=t.url,ft(st).length>0)return setTimeout((function(){mt(st,e)}),0),t.url="",!1;if(!_n)return t;var l=$n(_n,e.uniIdRedirectUrl);if(xn){if("navigateTo"===n||"redirectTo"===n)return setTimeout((function(){uni.switchTab({url:l})})),!1}else if("switchTab"===n)return setTimeout((function(){uni.navigateTo({url:l})})),!1;t.url=l}return t}})},n=0;n<t.length;n++)e(n)}function Cn(){this.onResponse((function(t){var e=t.type,n=t.content,i=!1;switch(e){case"cloudobject":i=function(t){var e=t.errCode;return e in un}(n);break;case"clientdb":i=function(t){var e=t.errCode;return e in ln}(n)}i&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ft(st),n=getCurrentPages(),i=n[n.length-1],a=i&&i.$page&&i.$page.fullPath;if(e.length>0)return mt(st,Object.assign({uniIdRedirectUrl:a},t));_n&&uni.navigateTo({url:$n(_n,a)})}(n)}))}function Dn(t){t.onNeedLogin=function(t){ht(st,t)},t.offNeedLogin=function(t){pt(st,t)},pn&&(X("uni-cloud-status").needLoginInit||(X("uni-cloud-status").needLoginInit=!0,function e(){var n=getCurrentPages();n&&n[0]?kn.call(t):setTimeout((function(){e()}),30)}(),vn&&Cn.call(t)))}function Sn(t){!function(t){t.onResponse=function(t){ht(ot,t)},t.offResponse=function(t){pt(ot,t)}}(t),Dn(t),function(t){t.onRefreshToken=function(t){ht(lt,t)},t.offRefreshToken=function(t){pt(lt,t)}}(t)}var Tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Pn=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function On(){var t,e,n=je().token||"",i=n.split(".");if(!n||3!==i.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{t=JSON.parse((e=i[1],decodeURIComponent(hn(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(n){throw new Error("\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f\u51fa\u9519\uff0c\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a"+n.message)}return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}hn="function"!=typeof atob?function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!Pn.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var n,i,a="",r=0;r<t.length;)e=Tn.indexOf(t.charAt(r++))<<18|Tn.indexOf(t.charAt(r++))<<12|(n=Tn.indexOf(t.charAt(r++)))<<6|(i=Tn.indexOf(t.charAt(r++))),a+=64===n?String.fromCharCode(e>>16&255):64===i?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return a}:atob;var An=j((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="chooseAndUploadFile:ok",a="chooseAndUploadFile:fail";function r(t,e){return t.tempFiles.forEach((function(t,n){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+n+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function o(t,e,i){var a=i.onChooseFile,r=i.onUploadProgress;return e.then((function(t){if(a){var e=a(t);if(void 0!==e)return Promise.resolve(e).then((function(e){return void 0===e?t:e}))}return t})).then((function(e){return!1===e?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=arguments.length>3?arguments[3]:void 0;(e=Object.assign({},e)).errMsg=n;var r=e.tempFiles,o=r.length,s=0;return new Promise((function(n){for(;s<i;)l();function l(){var i=s++;if(i>=o)!r.find((function(t){return!t.url&&!t.errMsg}))&&n(e);else{var u=r[i];t.uploadFile({filePath:u.path,cloudPath:u.cloudPath,fileType:u.fileType,onUploadProgress:function(t){t.index=i,t.tempFile=u,t.tempFilePath=u.path,a&&a(t)}}).then((function(t){u.url=t.fileID,i<o&&l()})).catch((function(t){u.errMsg=t.errMsg||t.message,i<o&&l()}))}}}))}(t,e,5,r)}))}e.initChooseAndUploadFile=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===e.type?o(t,function(t){var e=t.count,n=t.sizeType,i=t.sourceType,o=void 0===i?["album","camera"]:i,s=t.extension;return new Promise((function(t,i){uni.chooseImage({count:e,sizeType:n,sourceType:o,extension:s,success:function(e){t(r(e,"image"))},fail:function(t){i({errMsg:t.errMsg.replace("chooseImage:fail",a)})}})}))}(e),e):"video"===e.type?o(t,function(t){var e=t.camera,n=t.compressed,i=t.maxDuration,o=t.sourceType,s=void 0===o?["album","camera"]:o,l=t.extension;return new Promise((function(t,o){uni.chooseVideo({camera:e,compressed:n,maxDuration:i,sourceType:s,extension:l,success:function(e){var n=e.tempFilePath,i=e.duration,a=e.size,o=e.height,s=e.width;t(r({errMsg:"chooseVideo:ok",tempFilePaths:[n],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:n,size:a,type:e.tempFile&&e.tempFile.type||"",width:s,height:o,duration:i,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){o({errMsg:t.errMsg.replace("chooseVideo:fail",a)})}})}))}(e),e):o(t,function(t){var e=t.count,n=t.extension;return new Promise((function(t,o){var s=uni.chooseFile;if("undefined"!=typeof i&&"function"==typeof i.chooseMessageFile&&(s=i.chooseMessageFile),"function"!=typeof s)return o({errMsg:a+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});s({type:"all",count:e,extension:n,success:function(e){t(r(e))},fail:function(t){o({errMsg:t.errMsg.replace("chooseFile:fail",a)})}})}))}(e),e)}}})),Mn=I(An),In="manual";function jn(t){return{props:{localdata:{type:Array,default:function(){return[]}},options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}},created:function(){var t=this;this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((function(n){e.push(t[n])})),e}),(function(e,n){if(t.loadtime!==In){for(var i=!1,a=[],r=2;r<e.length;r++)e[r]!==n[r]&&(a.push(e[r]),i=!0);e[0]!==n[0]&&(t.mixinDatacomPage.current=t.pageCurrent),t.mixinDatacomPage.size=t.pageSize,t.onMixinDatacomPropsChange(i,a)}}))},methods:{onMixinDatacomPropsChange:function(t,e){},mixinDatacomEasyGet:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getone,i=void 0!==n&&n,a=e.success,r=e.fail;this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var n=e.result,r=n.data,o=n.count;t.getcount&&(t.mixinDatacomPage.count=o),t.mixinDatacomHasMore=r.length<t.pageSize;var s=i?r.length?r[0]:void 0:r;t.mixinDatacomResData=s,a&&a(s)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e,r&&r(e)})))},mixinDatacomGet:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.database(this.spaceInfo),a=n.action||this.action;a&&(i=i.action(a));var r=n.collection||this.collection;i=Array.isArray(r)?(e=i).collection.apply(e,c(r)):i.collection(r);var o=n.where||this.where;o&&Object.keys(o).length&&(i=i.where(o));var s=n.field||this.field;s&&(i=i.field(s));var l=n.foreignKey||this.foreignKey;l&&(i=i.foreignKey(l));var u=n.groupby||this.groupby;u&&(i=i.groupBy(u));var d=n.groupField||this.groupField;d&&(i=i.groupField(d)),!0===(void 0!==n.distinct?n.distinct:this.distinct)&&(i=i.distinct());var f=n.orderby||this.orderby;f&&(i=i.orderBy(f));var h=void 0!==n.pageCurrent?n.pageCurrent:this.mixinDatacomPage.current,p=void 0!==n.pageSize?n.pageSize:this.mixinDatacomPage.size,m=void 0!==n.getcount?n.getcount:this.getcount,_=void 0!==n.gettree?n.gettree:this.gettree,g=void 0!==n.gettreepath?n.gettreepath:this.gettreepath,v={getCount:m},y={limitLevel:void 0!==n.limitlevel?n.limitlevel:this.limitlevel,startWith:void 0!==n.startwith?n.startwith:this.startwith};return _&&(v.getTree=y),g&&(v.getTreePath=y),i=i.skip(p*(h-1)).limit(p).get(v),i}}}}function Fn(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.customUI=e.customUI||t.customUI,Object.assign(t.loadingOptions,e.loadingOptions),Object.assign(t.errorOptions,e.errorOptions),t}({customUI:!1,loadingOptions:{title:"\u52a0\u8f7d\u4e2d...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);var i=n,r=i.customUI,o=i.loadingOptions,s=i.errorOptions,l=!r;return new Proxy({},{get:function(n,i){return function(){var n=u(a.default.mark((function n(){var c,d,f,h,p,m,_,g,v,y,x,w=arguments;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(l&&uni.showLoading({title:o.title,mask:o.mask}),d=w.length,f=new Array(d),h=0;h<d;h++)f[h]=w[h];return n.prev=2,n.next=5,t.callFunction({name:e,type:q,data:{method:i,params:f}});case 5:c=n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](2),c={result:n.t0};case 11:if(p=c.result||{},m=p.errCode,_=p.errMsg,g=p.newToken,l&&uni.hideLoading(),g&&g.token&&g.tokenExpired&&(Fe(g),mt(lt,b({},g))),!m){n.next=28;break}if(!l){n.next=26;break}if("toast"!==s.type){n.next=18;break}uni.showToast({title:_,icon:"none"}),n.next=26;break;case 18:if("modal"===s.type){n.next=20;break}throw new Error("Invalid errorOptions.type: ".concat(s.type));case 20:return n.next=22,u(a.default.mark((function t(){var e,n,i,r,o,s,l=arguments;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:{},n=e.title,i=e.content,r=e.showCancel,o=e.cancelText,s=e.confirmText,t.abrupt("return",new Promise((function(t,e){uni.showModal({title:n,content:i,showCancel:r,cancelText:o,confirmText:s,success:function(e){t(e)},fail:function(){t({confirm:!1,cancel:!0})}})})));case 2:case"end":return t.stop()}}),t)})))({title:"\u63d0\u793a",content:_,showCancel:s.retry,cancelText:"\u53d6\u6d88",confirmText:s.retry?"\u91cd\u8bd5":"\u786e\u5b9a"});case 22:if(v=n.sent,y=v.confirm,!s.retry||!y){n.next=26;break}return n.abrupt("return",r.apply(void 0,f));case 26:throw x=new vt({code:m,message:_,requestId:c.requestId}),x.detail=c.result,mt(ot,{type:dt,content:x}),x;case 28:return n.abrupt("return",(mt(ot,{type:dt,content:c.result}),c.result));case 29:case"end":return n.stop()}}),n,null,[[2,8]])})));function r(){return n.apply(this,arguments)}return r}()}})}}function En(t,e){return Ln.apply(this,arguments)}function Ln(){return Ln=u(a.default.mark((function t(e,n){var i,r,o;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="http://".concat(e,":").concat(n,"/system/ping"),t.prev=1,t.next=4,o={url:i,timeout:500},new Promise((function(t,e){$t.request(b(b({},o),{},{success:function(e){t(e)},fail:function(t){e(t)}}))}));case 4:return r=t.sent,t.abrupt("return",!(!r.data||0!==r.data.code));case 8:return t.prev=8,t.t0=t["catch"](1),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),Ln.apply(this,arguments)}function qn(t){if(!t.initUniCloudStatus||"rejected"===t.initUniCloudStatus){var e,n=Promise.resolve();e=1,n=new Promise((function(t,n){setTimeout((function(){t()}),e)})),t.isReady=!1,t.isDefault=!1;var i=t.auth();t.initUniCloudStatus="pending",t.initUniCloud=n.then((function(){return i.getLoginState()})).then((function(t){return t?Promise.resolve():i.signInAnonymously()})).then((function(){if(!U)return Promise.resolve();if("app"===W&&"ios"===uni.getSystemInfoSync().osName){var e=uni.getSystemInfoSync(),n=e.osName,i=e.osVersion;"ios"===n&&function(t){if(!t||"string"!=typeof t)return 0;var e=t.match(/^(\d+)./);e&&e[1]&&parseInt(e[1])}(i)}if(U&&t.debugInfo){var r=t.debugInfo,o=r.address,s=r.servePort;return function(){var t=u(a.default.mark((function t(e,n){var i,r,o;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.length)){t.next=11;break}return o=e[r],t.next=5,En(o,n);case 5:if(!t.sent){t.next=8;break}return i=o,t.abrupt("break",11);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",{address:i,port:n});case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()(o,s)}})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.address,i=e.port;if(!U)return Promise.resolve();var a=console["app"===W?"error":"warn"];if(n)t.localAddress=n,t.localPort=i;else if(t.debugInfo){var r="";"remote"===t.debugInfo.initialLaunchType?(t.debugInfo.forceRemote=!0,r="\u5f53\u524d\u5ba2\u6237\u7aef\u548cHBuilderX\u4e0d\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\uff08\u6216\u5176\u4ed6\u7f51\u7edc\u539f\u56e0\u65e0\u6cd5\u8fde\u63a5HBuilderX\uff09\uff0cuniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u4e0d\u5bf9\u5f53\u524d\u5ba2\u6237\u7aef\u751f\u6548\u3002\n- \u5982\u679c\u4e0d\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u76f4\u63a5\u5ffd\u7565\u6b64\u4fe1\u606f\u3002\n- \u5982\u9700\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u5c06\u5ba2\u6237\u7aef\u4e0e\u4e3b\u673a\u8fde\u63a5\u5230\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u5e76\u91cd\u65b0\u8fd0\u884c\u5230\u5ba2\u6237\u7aef\u3002\n- \u5982\u679c\u5728HBuilderX\u5f00\u542f\u7684\u72b6\u6001\u4e0b\u5207\u6362\u8fc7\u7f51\u7edc\u73af\u5883\uff0c\u8bf7\u91cd\u542fHBuilderX\u540e\u518d\u8bd5\n- \u68c0\u67e5\u7cfb\u7edf\u9632\u706b\u5899\u662f\u5426\u62e6\u622a\u4e86HBuilderX\u81ea\u5e26\u7684nodejs"):r="\u65e0\u6cd5\u8fde\u63a5uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u68c0\u67e5\u5f53\u524d\u5ba2\u6237\u7aef\u662f\u5426\u4e0e\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u3002\n- \u5982\u9700\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u5c06\u5ba2\u6237\u7aef\u4e0e\u4e3b\u673a\u8fde\u63a5\u5230\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u5e76\u91cd\u65b0\u8fd0\u884c\u5230\u5ba2\u6237\u7aef\u3002\n- \u5982\u679c\u5728HBuilderX\u5f00\u542f\u7684\u72b6\u6001\u4e0b\u5207\u6362\u8fc7\u7f51\u7edc\u73af\u5883\uff0c\u8bf7\u91cd\u542fHBuilderX\u540e\u518d\u8bd5\n- \u68c0\u67e5\u7cfb\u7edf\u9632\u706b\u5899\u662f\u5426\u62e6\u622a\u4e86HBuilderX\u81ea\u5e26\u7684nodejs","web"===W&&(r+="\n- \u90e8\u5206\u6d4f\u89c8\u5668\u5f00\u542f\u8282\u6d41\u6a21\u5f0f\u4e4b\u540e\u8bbf\u95ee\u672c\u5730\u5730\u5740\u53d7\u9650\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u542f\u7528\u4e86\u8282\u6d41\u6a21\u5f0f"),0===W.indexOf("mp-")&&(r+="\n- \u5c0f\u7a0b\u5e8f\u4e2d\u5982\u4f55\u4f7f\u7528uniCloud\uff0c\u8bf7\u53c2\u8003\uff1ahttps://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp"),a(r)}})).then((function(){Ee(),t.isReady=!0,t.initUniCloudStatus="fulfilled"})).catch((function(e){t.initUniCloudStatus="rejected"}))}}var Rn=new(function(){function t(){w(this,t)}return v(t,[{key:"init",value:function(t){var e={},n=U&&("web"===W&&navigator.userAgent.indexOf("HBuilderX")>0||"app"===W);switch(t.provider){case"tcb":case"tencent":e=Ie.init(Object.assign(t,{debugLog:n}));break;case"aliyun":e=Tt.init(Object.assign(t,{debugLog:n}));break;case"private":e=qe.init(Object.assign(t,{debugLog:n}));break;default:throw new Error("\u672a\u63d0\u4f9b\u6b63\u786e\u7684provider\u53c2\u6570")}var i=G;return U&&i&&!i.code&&(e.debugInfo=i),qn(e),e.reInit=function(){qn(this)},Ge(e),function(t){var e=t.uploadFile;t.uploadFile=function(t){return e.call(this,t)}}(e),rn(e),function(t){t.getCurrentUserInfo=On,t.chooseAndUploadFile=Mn.initChooseAndUploadFile(t),Object.assign(t,{get mixinDatacom(){return jn(t)}}),t.importObject=Fn(t)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((function(t){if(e[t]){var n=e[t];e[t]=function(){return e.reInit(),n.apply(e,Array.from(arguments))},e[t]=_t(e[t],t).bind(e)}})),e.init=this.init,e}}]),t}());(function(){var t=H,e={};if(1===t.length)e=t[0],Rn=Rn.init(e),Rn.isDefault=!0;else{var n,i=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];n=t&&t.length>0?"\u5e94\u7528\u6709\u591a\u4e2a\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u901a\u8fc7uniCloud.init\u65b9\u6cd5\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u670d\u52a1\u7a7a\u95f4":J?"\u5e94\u7528\u672a\u5173\u8054\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u5728uniCloud\u76ee\u5f55\u53f3\u952e\u5173\u8054\u670d\u52a1\u7a7a\u95f4":"uni-app cli\u9879\u76ee\u5185\u4f7f\u7528uniCloud\u9700\u8981\u4f7f\u7528HBuilderX\u7684\u8fd0\u884c\u83dc\u5355\u8fd0\u884c\u9879\u76ee\uff0c\u4e14\u9700\u8981\u5728uniCloud\u76ee\u5f55\u5173\u8054\u670d\u52a1\u7a7a\u95f4",i.forEach((function(t){Rn[t]=function(){return Promise.reject(new vt({code:"SYS_ERR",message:n}))}}))}Object.assign(Rn,{get mixinDatacom(){return jn(Rn)}}),Sn(Rn),Rn.addInterceptor=et,Rn.removeInterceptor=nt,U&&"web"===W&&(window.uniCloud=Rn)})();var Nn=Rn;e.default=Nn}).call(this,n("c8ba"),n("fe07")["default"])},aa4f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n("37dc"),r=o(n("caf4"));function o(t){return t&&t.__esModule?t:{default:t}}setTimeout((function(){i=uni.getSystemInfoSync().platform}),16);var s=(0,a.initVueI18n)(r.default),l=s.t,u={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!0}},data:function(){return{webviewHide:!1,platform:i,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth:function(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText:function(){return this.contentText.contentdown||l("uni-load-more.contentdown")},contentrefreshText:function(){return this.contentText.contentrefresh||l("uni-load-more.contentrefresh")},contentnomoreText:function(){return this.contentText.contentnomore||l("uni-load-more.contentnomore")}},mounted:function(){var t=this,e=getCurrentPages(),n=e[e.length-1],i=n.$getAppWebview();i.addEventListener("hide",(function(){t.webviewHide=!0})),i.addEventListener("show",(function(){t.webviewHide=!1}))},methods:{onClick:function(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};e.default=u},aa64:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=n("892e");function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function s(t,e){return f(t)||d(t,e)||u(t,e)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function f(t){if(Array.isArray(t))return t}var h=r.fieldsMap.filter((function(t){return t.hasOwnProperty("value")})),p={data:function(){return{tableName:"uni-stat-result",fieldsMap:r.fieldsMap,resFieldsMap:r.resFieldsMap,entFieldsMap:r.entFieldsMap,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},options:{pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100]},loading:!1,currentDateTab:2,chartTab:"new_user_count",tableData:[],resTableData:[],entTableData:[],panelData:h,chartData:{},eopts:{seriesTemplate:[{itemStyle:{borderWidth:2,borderColor:"#1890FF",color:"#1890FF"},areaStyle:{color:{colorStops:[{offset:0,color:"#1890FF"},{offset:1,color:"#FFFFFF"}]}}},{lineStyle:{color:"#ea7ccc",width:2,type:"dashed"},itemStyle:{borderWidth:1,borderColor:"#ea7ccc",color:"#ea7ccc"},areaStyle:null}]},tabIndex:0}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{pageSize:function(){var t=this.options,e=t.pageSizeRange,n=t.pageSizeIndex;return e[n]},chartTabs:function(){var t=[];return r.fieldsMap.forEach((function(e){var n=e.field,i=e.title;n&&i&&t.push({_id:n,name:i})})),t},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)}))},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=null},changePlatform:function(t,e,n,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n,i,r=864e5;n=(0,a.getTimeOfSomeDayAgo)(t),i=t?(0,a.getTimeOfSomeDayAgo)(0)-1:(0,a.getTimeOfSomeDayAgo)(0)+r-1,this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getChartData(this.query)},changePageSize:function(t){var e=t.detail.value;this.options.pageCurrent=1,this.options.pageSizeIndex=e,this.getChartData(this.query)},changeChartTab:function(t,e,n){this.tabIndex=e,this.getChartData(this.query,t,n)},getAllData:function(t){this.getPanelData(),this.getChartData(t)},getDays:function(){if(!this.query.start_time.length)return!0;var t=864e5,e=s(this.query.start_time,2),n=e[0],i=e[1],a=i-n>=t;return a},getPanelData:function(){var e=this,n=this.query,i=n.appid,o=n.platform_id,s=n.version_id,l=(0,a.stringifyQuery)({appid:i,platform_id:o,version_id:s,start_time:[(0,a.getTimeOfSomeDayAgo)(1),(new Date).getTime()]}),u=t.database();u.collection(this.tableName).where(l).field("".concat((0,a.stringifyField)(r.fieldsMap),",dimension,stat_date")).groupBy("stat_date, dimension").groupField((0,a.stringifyGroupField)(r.fieldsMap)).orderBy("stat_date","desc").get().then((function(t){var n=t.result.data,i=n.find((function(t){return t.stat_date===(0,a.parseDateTime)((0,a.getTimeOfSomeDayAgo)(0),"","")}))||{};i.total_users=0;var o=n.find((function(t){return"day"===t.dimension&&t.stat_date===(0,a.parseDateTime)((0,a.getTimeOfSomeDayAgo)(1),"","")}));e.panelData=[],e.panelData=(0,a.mapfields)(r.fieldsMap,i),e.panelData.map((function(t){(0,a.mapfields)(r.fieldsMap,o,t,"","contrast")})),a.getFieldTotal.call(e,l,"total_users")}))},getChartData:function(e){var n,i=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name,c=(this.options.pageCurrent,this.currentDateTab),d=(0,a.getTimeOfSomeDayAgo)(c),f=864e5;if(!this.getDays()){var h=d-f,p=d+f-1;e=JSON.parse(JSON.stringify(e)),n=e.start_time=[h,p]}e=(0,a.stringifyQuery)(e,!0,["uni_platform"]);var m=t.database();m.collection(this.tableName).where(e).field("".concat((0,a.stringifyField)(r.fieldsMap,l),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.fieldsMap,l)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,c=(e.count,e.data),f={categories:[],series:[{name:u,data:[]}]},h=r.fieldsMap.filter((function(t){return t.field===l}));if(h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="",i.getDays()){var p,m=o(c);try{for(m.s();!(p=m.n()).done;){var _=p.value;(0,a.mapfields)(h,_,_);var g=(0,a.formatDate)(_.start_time,"day"),v=Number(_[l]);f.series[0].data.push(v),f.categories.push(g)}}catch(y){m.e(y)}finally{m.f()}}else(function(){for(var t=n,e=s(t,2),i=e[0],r=e[1],o=f.series[1]={name:(0,a.formatDate)(i),data:[]},u=f.series[0]={name:(0,a.formatDate)(r),data:[]},p=function(t){var e=t<10?"0"+t:t,n="".concat(e,":00 ~ ").concat(e,":59");f.categories.push(n),o.data[t]=0,u.data[t]=0,c.forEach((function(e){(0,a.mapfields)(h,e,e);var n=Number(e[l]),i=new Date(e.start_time);e.start_time<d?i.getHours()===t&&(o.data[t]=n):i.getHours()===t&&(u.data[t]=n)}))},m=0;m<24;++m)p(m)})();i.chartData=f})).catch((function(t){})).finally((function(){}))},getAppAccessTimes:function(e){var n=t.database();return n.collection(this.tableName).where(e).groupBy("appid").groupField("sum(page_visit_count) as total_app_access").get()},navTo:function(t){t&&uni.navigateTo({url:t})}}};e.default=p}).call(this,n("a9ff")["default"],n("0de9")["default"])},abd8:function(t,e,n){"use strict";n.r(e);var i=n("83a6"),a=n("75ca");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},abe7:function(t,e,n){"use strict";n.r(e);var i=n("c26a"),a=n("1e35");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},ad22:function(t,e,n){"use strict";n.r(e),function(t,i){n.d(e,"stacktracey",(function(){return kt})),n.d(e,"uniStracktraceyPreset",(function(){return Ot})),n.d(e,"utsStracktraceyPreset",(function(){return At}));var a=n("3e8f"),r=n.n(a);const o=Object,s="undefined"!==typeof window&&window.window===window&&window.navigator,l=s?null:t.require,u=t=>t[t.length-1],c=t=>t.replace(/\\/g,"/"),d=s?window.location.href:c(i.cwd())+"/";class f{constructor(t,e,n){this.itemsHeader=[],this.isMP=!1;const i=t,a=t&&t instanceof SyntaxError&&!s;if(t||(t=new Error,n=void 0===n?1:n),t instanceof Error&&(t=t.stack||""),"string"===typeof t&&(this.isMP="mp-weixin"===e,t=this.rawParse(t).slice(n).map(t=>this.extractEntryMetadata(t))),Array.isArray(t)){if(a){const e=l("util").inspect(i).split("\n"),n=e[0].split(":"),a=n.pop(),r=n.join(":");r&&t.unshift({file:c(r),line:a,column:(e[2]||"").indexOf("^")+1,sourceLine:e[1],callee:"(syntax error)",syntaxError:!0})}this.items=t}else this.items=[]}extractEntryMetadata(t){const e=this.decomposePath(t.file||""),n=e[0],i=e[1];return o.assign(t,{calleeShort:t.calleeShort||u((t.callee||"").split(".")),fileRelative:n,fileShort:this.shortenPath(n),fileName:u((t.file||"").split("/")),thirdParty:this.isThirdParty(n,i)&&!t.index,externalDomain:i})}shortenPath(t){return t.replace(/^node_modules\//,"").replace(/^webpack\/bootstrap\//,"").replace(/^__parcel_source_root\//,"")}decomposePath(t){let e=t;s&&(e=e.replace(d,""));const n=e.match(/^(http|https)\:\/\/?([^\/]+)\/{1,}(.*)/),i=n?n[2]:void 0;return e=n?n[3]:e,[c(e).replace(/^.*\:\/\/?\/?/,""),i]}isThirdParty(t,e){return this.isMP?"undefined"!==typeof e&&"usr"!==e:"~"===t[0]||"/"===t[0]||-1!==t.indexOf("@dcloudio")||-1!==t.indexOf("weex-main-jsfm")||0===t.indexOf("webpack/bootstrap")}rawParse(t){const e=(t||"").split("\n"),n=e.map((t,e)=>{t=t.trim();let n,i,a,r,o=[];if(-1!==t.indexOf("file:")&&(t=t.replace(/file:\/\/(.*)www/,"file://")),(a=t.match(/at (.+) \(eval at .+ \((.+)\), .+\)/))||(a=t.match(/at (.+) \((.+)\)/))||"at "!==t.slice(0,3)&&(a=t.match(/(.*)@(.*)/)))this.itemsHeader.push("%StacktraceyItem%"),n=a[1],i="native"===a[2],o=(a[2].match(/(.*):(\d+):(\d+)/)||a[2].match(/(.*):(\d+)/)||a[2].match(/\[(.*)\]/)||[]).slice(1);else{if(!(r=t.match(/^(at\s*)*(.*)\s+(.+):(\d+):(\d+)/)))return void this.itemsHeader.push(t);this.itemsHeader.push("%StacktraceyItem%"),n=r[2].trim(),o=r.slice(3)}if(n&&!o[0]){const t=n.split(".")[0];"Array"===t&&(i=!0)}return{beforeParse:t,callee:n||"",index:s&&o[0]===window.location.href,native:i||!1,file:c(o[0]||""),line:parseInt(o[1]||"",10)||void 0,column:parseInt(o[2]||"",10)||void 0}});return n.filter(t=>void 0!==t)}maxColumnWidths(){return{callee:30,file:60,sourceLine:80}}asTable(t){const e=t&&t.maxColumnWidths||this.maxColumnWidths(),n=this.filter(t=>!t.thirdParty).map(t=>m(t,e,this.isMP)),i=this.filter(t=>t.thirdParty).map(t=>m(t,e,this.isMP));return{items:n.items,thirdPartyItems:i.items}}}const h=(t,e)=>t&&(t.length>e?t.slice(0,e-1)+"\u2026":t),p=(t,e)=>t&&(t.length>e?"\u2026"+t.slice(-(e-1)):t);function m(t,e,n){if(!t.parsed)return t.beforeParse;const i=(n?t.file&&t.file:t.fileShort&&t.fileShort)+""+(t.line?":"+t.line:"")+(t.column?":"+t.column:"");return["at "+h(n?t.callee:t.calleeShort,e.callee),p(i||"",e.file),h((t.sourceLine||"").trim()||"",e.sourceLine)]}["map","filter","slice","concat"].forEach(t=>{f.prototype[t]=function(){return new f(this.items[t].apply(this.items,arguments))}});var _=f;const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");var v=function(t){if(0<=t&&t<g.length)return g[t];throw new TypeError("Must be between 0 and 63: "+t)},y={encode:v},b=y;const x=5,w=1<<x,$=w-1,k=w;function C(t){return t<0?1+(-t<<1):0+(t<<1)}var D=function(t){let e,n="",i=C(t);do{e=i&$,i>>>=x,i>0&&(e|=k),n+=b.encode(e)}while(i>0);return n},S={encode:D};function T(t){var e={exports:{}};return t(e,e.exports),e.exports}var P=T((function(t,e){function n(t,e,n){if(e in t)return t[e];if(3===arguments.length)return n;throw new Error('"'+e+'" is a required argument.')}e.getArg=n;const i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function r(t){const e=t.match(i);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}function o(t){let e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}e.urlParse=r,e.urlGenerate=o;const s=32;function l(t){const e=[];return function(n){for(let t=0;t<e.length;t++)if(e[t].input===n){const n=e[0];return e[0]=e[t],e[t]=n,e[0].result}const i=t(n);return e.unshift({input:n,result:i}),e.length>s&&e.pop(),i}}const u=l((function(t){let n=t;const i=r(t);if(i){if(!i.path)return t;n=i.path}const a=e.isAbsolute(n),s=[];let l=0,u=0;while(1){if(l=u,u=n.indexOf("/",l),-1===u){s.push(n.slice(l));break}s.push(n.slice(l,u));while(u<n.length&&"/"===n[u])u++}let c=0;for(u=s.length-1;u>=0;u--){const t=s[u];"."===t?s.splice(u,1):".."===t?c++:c>0&&(""===t?(s.splice(u+1,c),c=0):(s.splice(u,2),c--))}return n=s.join("/"),""===n&&(n=a?"/":"."),i?(i.path=n,o(i)):n}));function c(t,e){""===t&&(t="."),""===e&&(e=".");const n=r(e),i=r(t);if(i&&(t=i.path||"/"),n&&!n.scheme)return i&&(n.scheme=i.scheme),o(n);if(n||e.match(a))return e;if(i&&!i.host&&!i.path)return i.host=e,o(i);const s="/"===e.charAt(0)?e:u(t.replace(/\/+$/,"")+"/"+e);return i?(i.path=s,o(i)):s}function d(t,e){""===t&&(t="."),t=t.replace(/\/$/,"");let n=0;while(0!==e.indexOf(t+"/")){const i=t.lastIndexOf("/");if(i<0)return e;if(t=t.slice(0,i),t.match(/^([^\/]+:\/)?\/*$/))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}e.normalize=u,e.join=c,e.isAbsolute=function(t){return"/"===t.charAt(0)||i.test(t)},e.relative=d;const f=function(){const t=Object.create(null);return!("__proto__"in t)}();function h(t){return t}function p(t){return _(t)?"$"+t:t}function m(t){return _(t)?t.slice(1):t}function _(t){if(!t)return!1;const e=t.length;if(e<9)return!1;if(95!==t.charCodeAt(e-1)||95!==t.charCodeAt(e-2)||111!==t.charCodeAt(e-3)||116!==t.charCodeAt(e-4)||111!==t.charCodeAt(e-5)||114!==t.charCodeAt(e-6)||112!==t.charCodeAt(e-7)||95!==t.charCodeAt(e-8)||95!==t.charCodeAt(e-9))return!1;for(let n=e-10;n>=0;n--)if(36!==t.charCodeAt(n))return!1;return!0}function g(t,e,n){let i=y(t.source,e.source);return 0!==i?i:(i=t.originalLine-e.originalLine,0!==i?i:(i=t.originalColumn-e.originalColumn,0!==i||n?i:(i=t.generatedColumn-e.generatedColumn,0!==i?i:(i=t.generatedLine-e.generatedLine,0!==i?i:y(t.name,e.name)))))}function v(t,e,n){let i=t.generatedLine-e.generatedLine;return 0!==i?i:(i=t.generatedColumn-e.generatedColumn,0!==i||n?i:(i=y(t.source,e.source),0!==i?i:(i=t.originalLine-e.originalLine,0!==i?i:(i=t.originalColumn-e.originalColumn,0!==i?i:y(t.name,e.name)))))}function y(t,e){return t===e?0:null===t?1:null===e?-1:t>e?1:-1}function b(t,e){let n=t.generatedLine-e.generatedLine;return 0!==n?n:(n=t.generatedColumn-e.generatedColumn,0!==n?n:(n=y(t.source,e.source),0!==n?n:(n=t.originalLine-e.originalLine,0!==n?n:(n=t.originalColumn-e.originalColumn,0!==n?n:y(t.name,e.name)))))}function x(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}function w(t,e,n){if(e=e||"",t&&("/"!==t[t.length-1]&&"/"!==e[0]&&(t+="/"),e=t+e),n){const t=r(n);if(!t)throw new Error("sourceMapURL could not be parsed");if(t.path){const e=t.path.lastIndexOf("/");e>=0&&(t.path=t.path.substring(0,e+1))}e=c(o(t),e)}return u(e)}e.toSetString=f?h:p,e.fromSetString=f?h:m,e.compareByOriginalPositions=g,e.compareByGeneratedPositionsDeflated=v,e.compareByGeneratedPositionsInflated=b,e.parseSourceMapInput=x,e.computeSourceURL=w}));class O{constructor(){this._array=[],this._set=new Map}static fromArray(t,e){const n=new O;for(let i=0,a=t.length;i<a;i++)n.add(t[i],e);return n}size(){return this._set.size}add(t,e){const n=this.has(t),i=this._array.length;n&&!e||this._array.push(t),n||this._set.set(t,i)}has(t){return this._set.has(t)}indexOf(t){const e=this._set.get(t);if(e>=0)return e;throw new Error('"'+t+'" is not in the set.')}at(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)}toArray(){return this._array.slice()}}var A=O,M={ArraySet:A},I=P;function j(t,e){const n=t.generatedLine,i=e.generatedLine,a=t.generatedColumn,r=e.generatedColumn;return i>n||i==n&&r>=a||I.compareByGeneratedPositionsInflated(t,e)<=0}class F{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(t,e){this._array.forEach(t,e)}add(t){j(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))}toArray(){return this._sorted||(this._array.sort(I.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}var E=F,L={MappingList:E},q=S,R=M,N=L;const B=R.ArraySet,z=N.MappingList;class W{constructor(t){t||(t={}),this._file=I.getArg(t,"file",null),this._sourceRoot=I.getArg(t,"sourceRoot",null),this._skipValidation=I.getArg(t,"skipValidation",!1),this._sources=new B,this._names=new B,this._mappings=new z,this._sourcesContents=null}static fromSourceMap(t){const e=t.sourceRoot,n=new W({file:t.file,sourceRoot:e});return t.eachMapping((function(t){const i={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(i.source=t.source,null!=e&&(i.source=I.relative(e,i.source)),i.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(i.name=t.name)),n.addMapping(i)})),t.sources.forEach((function(i){let a=i;null!==e&&(a=I.relative(e,i)),n._sources.has(a)||n._sources.add(a);const r=t.sourceContentFor(i);null!=r&&n.setSourceContent(i,r)})),n}addMapping(t){const e=I.getArg(t,"generated"),n=I.getArg(t,"original",null);let i=I.getArg(t,"source",null),a=I.getArg(t,"name",null);this._skipValidation||this._validateMapping(e,n,i,a),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=a&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:a})}setSourceContent(t,e){let n=t;null!=this._sourceRoot&&(n=I.relative(this._sourceRoot,n)),null!=e?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[I.toSetString(n)]=e):this._sourcesContents&&(delete this._sourcesContents[I.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(t,e,n){let i=e;if(null==e){if(null==t.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=t.file}const a=this._sourceRoot;null!=a&&(i=I.relative(a,i));const r=this._mappings.toArray().length>0?new B:this._sources,o=new B;this._mappings.unsortedForEach((function(e){if(e.source===i&&null!=e.originalLine){const i=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=i.source&&(e.source=i.source,null!=n&&(e.source=I.join(n,e.source)),null!=a&&(e.source=I.relative(a,e.source)),e.originalLine=i.line,e.originalColumn=i.column,null!=i.name&&(e.name=i.name))}const s=e.source;null==s||r.has(s)||r.add(s);const l=e.name;null==l||o.has(l)||o.add(l)}),this),this._sources=r,this._names=o,t.sources.forEach((function(e){const i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=I.join(n,e)),null!=a&&(e=I.relative(a,e)),this.setSourceContent(e,i))}),this)}_validateMapping(t,e,n,i){if(e&&"number"!==typeof e.line&&"number"!==typeof e.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!e&&!n&&!i);else if(!(t&&"line"in t&&"column"in t&&e&&"line"in e&&"column"in e&&t.line>0&&t.column>=0&&e.line>0&&e.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:e,name:i}))}_serializeMappings(){let t,e,n,i,a=0,r=1,o=0,s=0,l=0,u=0,c="";const d=this._mappings.toArray();for(let f=0,h=d.length;f<h;f++){if(e=d[f],t="",e.generatedLine!==r){a=0;while(e.generatedLine!==r)t+=";",r++}else if(f>0){if(!I.compareByGeneratedPositionsInflated(e,d[f-1]))continue;t+=","}t+=q.encode(e.generatedColumn-a),a=e.generatedColumn,null!=e.source&&(i=this._sources.indexOf(e.source),t+=q.encode(i-u),u=i,t+=q.encode(e.originalLine-1-s),s=e.originalLine-1,t+=q.encode(e.originalColumn-o),o=e.originalColumn,null!=e.name&&(n=this._names.indexOf(e.name),t+=q.encode(n-l),l=n)),c+=t}return c}_generateSourcesContent(t,e){return t.map((function(t){if(!this._sourcesContents)return null;null!=e&&(t=I.relative(e,t));const n=I.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)}toJSON(){const t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t}toString(){return JSON.stringify(this.toJSON())}}W.prototype._version=3;var U=W,V={SourceMapGenerator:U},G=T((function(t,e){function n(t,i,a,r,o,s){const l=Math.floor((i-t)/2)+t,u=o(a,r[l],!0);return 0===u?l:u>0?i-l>1?n(l,i,a,r,o,s):s==e.LEAST_UPPER_BOUND?i<r.length?i:-1:l:l-t>1?n(t,l,a,r,o,s):s==e.LEAST_UPPER_BOUND?l:t<0?-1:t}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(t,i,a,r){if(0===i.length)return-1;let o=n(-1,i.length,t,i,a,r||e.GREATEST_LOWER_BOUND);if(o<0)return-1;while(o-1>=0){if(0!==a(i[o],i[o-1],!0))break;--o}return o}})),H=T((function(t){{let e=null;t.exports=function(){if("string"===typeof e)return fetch(e).then(t=>t.arrayBuffer());if(e instanceof ArrayBuffer)return Promise.resolve(e);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")},t.exports.initialize=t=>e=t}})),J=H;function Q(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let K=null;var Y=function(){if(K)return K;const t=[];return K=J().then(e=>WebAssembly.instantiate(e,{env:{mapping_callback(e,n,i,a,r,o,s,l,u,c){const d=new Q;d.generatedLine=e+1,d.generatedColumn=n,i&&(d.lastGeneratedColumn=a-1),r&&(d.source=o,d.originalLine=s+1,d.originalColumn=l,u&&(d.name=c)),t[t.length-1](d)},start_all_generated_locations_for(){},end_all_generated_locations_for(){},start_compute_column_spans(){},end_compute_column_spans(){},start_generated_location_for(){},end_generated_location_for(){},start_original_location_for(){},end_original_location_for(){},start_parse_mappings(){},end_parse_mappings(){},start_sort_by_generated_location(){},end_sort_by_generated_location(){},start_sort_by_original_location(){},end_sort_by_original_location(){}}})).then(e=>({exports:e.instance.exports,withMappingCallback:(e,n)=>{t.push(e);try{n()}finally{t.pop()}}})).then(null,t=>{throw K=null,t}),K},X=G,Z=Y;const tt=R.ArraySet,et=Symbol("smcInternal");class nt{constructor(t,e){return t==et?Promise.resolve(this):lt(t,e)}static initialize(t){J.initialize(t["lib/mappings.wasm"])}static fromSourceMap(t,e){return ut(t,e)}static async with(t,e,n){const i=await new nt(t,e);try{return await n(i)}finally{i.destroy()}}_parseMappings(t,e){throw new Error("Subclasses must implement _parseMappings")}eachMapping(t,e,n){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(t){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}nt.prototype._version=3,nt.GENERATED_ORDER=1,nt.ORIGINAL_ORDER=2,nt.GREATEST_LOWER_BOUND=1,nt.LEAST_UPPER_BOUND=2;var it=nt;class at extends nt{constructor(t,e){return super(et).then(n=>{let i=t;"string"===typeof t&&(i=I.parseSourceMapInput(t));const a=I.getArg(i,"version");let r=I.getArg(i,"sources");const o=I.getArg(i,"names",[]);let s=I.getArg(i,"sourceRoot",null);const l=I.getArg(i,"sourcesContent",null),u=I.getArg(i,"mappings"),c=I.getArg(i,"file",null);if(a!=n._version)throw new Error("Unsupported version: "+a);return s&&(s=I.normalize(s)),r=r.map(String).map(I.normalize).map((function(t){return s&&I.isAbsolute(s)&&I.isAbsolute(t)?I.relative(s,t):t})),n._names=tt.fromArray(o.map(String),!0),n._sources=tt.fromArray(r,!0),n._absoluteSources=n._sources.toArray().map((function(t){return I.computeSourceURL(s,t,e)})),n.sourceRoot=s,n.sourcesContent=l,n._mappings=u,n._sourceMapURL=e,n.file=c,n._computedColumnSpans=!1,n._mappingsPtr=0,n._wasm=null,Z().then(t=>(n._wasm=t,n))})}_findSourceIndex(t){let e=t;if(null!=this.sourceRoot&&(e=I.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);for(let n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==t)return n;return-1}static fromSourceMap(t,e){return new at(t.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(t,e){const n=t.length,i=this._wasm.exports.allocate_mappings(n),a=new Uint8Array(this._wasm.exports.memory.buffer,i,n);for(let o=0;o<n;o++)a[o]=t.charCodeAt(o);const r=this._wasm.exports.parse_mappings(i);if(!r){const t=this._wasm.exports.get_last_error();let e=`Error parsing mappings (code ${t}): `;switch(t){case 1:e+="the mappings contained a negative line, column, source index, or name index";break;case 2:e+="the mappings contained a number larger than 2**32";break;case 3:e+="reached EOF while in the middle of parsing a VLQ";break;case 4:e+="invalid base 64 character while parsing a VLQ";break;default:e+="unknown error code";break}throw new Error(e)}this._mappingsPtr=r}eachMapping(t,e,n){const i=e||null,a=n||nt.GENERATED_ORDER,r=this.sourceRoot;this._wasm.withMappingCallback(e=>{null!==e.source&&(e.source=this._sources.at(e.source),e.source=I.computeSourceURL(r,e.source,this._sourceMapURL),null!==e.name&&(e.name=this._names.at(e.name))),t.call(i,e)},()=>{switch(a){case nt.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case nt.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(t){let e=I.getArg(t,"source");const n=I.getArg(t,"line"),i=t.column||0;if(e=this._findSourceIndex(e),e<0)return[];if(n<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");const a=[];return this._wasm.withMappingCallback(t=>{let e=t.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),a.push({line:t.generatedLine,column:t.generatedColumn,lastColumn:e})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),e,n-1,"column"in t,i)}),a}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(t){const e={generatedLine:I.getArg(t,"line"),generatedColumn:I.getArg(t,"column")};if(e.generatedLine<1)throw new Error("Line numbers must be >= 1");if(e.generatedColumn<0)throw new Error("Column numbers must be >= 0");let n,i=I.getArg(t,"bias",nt.GREATEST_LOWER_BOUND);if(null==i&&(i=nt.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(t=>n=t,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),e.generatedLine-1,e.generatedColumn,i)}),n&&n.generatedLine===e.generatedLine){let t=I.getArg(n,"source",null);null!==t&&(t=this._sources.at(t),t=I.computeSourceURL(this.sourceRoot,t,this._sourceMapURL));let e=I.getArg(n,"name",null);return null!==e&&(e=this._names.at(e)),{source:t,line:I.getArg(n,"originalLine",null),column:I.getArg(n,"originalColumn",null),name:e}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(t){return null==t})))}sourceContentFor(t,e){if(!this.sourcesContent)return null;const n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];let i,a=t;if(null!=this.sourceRoot&&(a=I.relative(this.sourceRoot,a)),null!=this.sourceRoot&&(i=I.urlParse(this.sourceRoot))){const t=a.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];if((!i.path||"/"==i.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(e)return null;throw new Error('"'+a+'" is not in the SourceMap.')}generatedPositionFor(t){let e=I.getArg(t,"source");if(e=this._findSourceIndex(e),e<0)return{line:null,column:null,lastColumn:null};const n={source:e,originalLine:I.getArg(t,"line"),originalColumn:I.getArg(t,"column")};if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");let i,a=I.getArg(t,"bias",nt.GREATEST_LOWER_BOUND);if(null==a&&(a=nt.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(t=>i=t,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),n.source,n.originalLine-1,n.originalColumn,a)}),i&&i.source===n.source){let t=i.lastGeneratedColumn;return this._computedColumnSpans&&null===t&&(t=1/0),{line:I.getArg(i,"generatedLine",null),column:I.getArg(i,"generatedColumn",null),lastColumn:t}}return{line:null,column:null,lastColumn:null}}}at.prototype.consumer=nt;var rt=at;class ot extends nt{constructor(t,e){return super(et).then(n=>{let i=t;"string"===typeof t&&(i=I.parseSourceMapInput(t));const a=I.getArg(i,"version"),r=I.getArg(i,"sections");if(a!=n._version)throw new Error("Unsupported version: "+a);n._sources=new tt,n._names=new tt,n.__generatedMappings=null,n.__originalMappings=null,n.__generatedMappingsUnsorted=null,n.__originalMappingsUnsorted=null;let o={line:-1,column:0};return Promise.all(r.map(t=>{if(t.url)throw new Error("Support for url field in sections not implemented.");const n=I.getArg(t,"offset"),i=I.getArg(n,"line"),a=I.getArg(n,"column");if(i<o.line||i===o.line&&a<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");o=n;const r=new nt(I.getArg(t,"map"),e);return r.then(t=>({generatedOffset:{generatedLine:i+1,generatedColumn:a+1},consumer:t}))})).then(t=>(n._sections=t,n))})}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const t=this._generatedMappingsUnsorted;t.sort(I.compareByGeneratedPositionsDeflated),this.__generatedMappings=t}_sortOriginalMappings(){const t=this._originalMappingsUnsorted;t.sort(I.compareByOriginalPositions),this.__originalMappings=t}get sources(){const t=[];for(let e=0;e<this._sections.length;e++)for(let n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t}originalPositionFor(t){const e={generatedLine:I.getArg(t,"line"),generatedColumn:I.getArg(t,"column")},n=X.search(e,this._sections,(function(t,e){const n=t.generatedLine-e.generatedOffset.generatedLine;return n||t.generatedColumn-e.generatedOffset.generatedColumn})),i=this._sections[n];return i?i.consumer.originalPositionFor({line:e.generatedLine-(i.generatedOffset.generatedLine-1),column:e.generatedColumn-(i.generatedOffset.generatedLine===e.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(t){return t.consumer.hasContentsOfAllSources()}))}sourceContentFor(t,e){for(let n=0;n<this._sections.length;n++){const e=this._sections[n],i=e.consumer.sourceContentFor(t,!0);if(i)return i}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')}generatedPositionFor(t){for(let e=0;e<this._sections.length;e++){const n=this._sections[e];if(-1===n.consumer._findSourceIndex(I.getArg(t,"source")))continue;const i=n.consumer.generatedPositionFor(t);if(i){const t={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return t}}return{line:null,column:null}}_parseMappings(t,e){const n=this.__generatedMappingsUnsorted=[],i=this.__originalMappingsUnsorted=[];for(let a=0;a<this._sections.length;a++){const t=this._sections[a],e=[];t.consumer.eachMapping(t=>e.push(t));for(let a=0;a<e.length;a++){const r=e[a];let o=I.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(o),o=this._sources.indexOf(o);let s=null;r.name&&(this._names.add(r.name),s=this._names.indexOf(r.name));const l={source:o,generatedLine:r.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:r.generatedColumn+(t.generatedOffset.generatedLine===r.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:r.originalLine,originalColumn:r.originalColumn,name:s};n.push(l),"number"===typeof l.originalLine&&i.push(l)}}}eachMapping(t,e,n){const i=e||null,a=n||nt.GENERATED_ORDER;let r;switch(a){case nt.GENERATED_ORDER:r=this._generatedMappings;break;case nt.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const o=this.sourceRoot;r.map((function(t){let e=null;return null!==t.source&&(e=this._sources.at(t.source),e=I.computeSourceURL(o,e,this._sourceMapURL)),{source:e,generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this._names.at(t.name)}}),this).forEach(t,i)}_findMapping(t,e,n,i,a,r){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return X.search(t,e,a,r)}allGeneratedPositionsFor(t){const e=I.getArg(t,"line"),n={source:I.getArg(t,"source"),originalLine:e,originalColumn:I.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");const i=[];let a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",I.compareByOriginalPositions,X.LEAST_UPPER_BOUND);if(a>=0){let n=this._originalMappings[a];if(void 0===t.column){const t=n.originalLine;while(n&&n.originalLine===t){let t=n.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),i.push({line:I.getArg(n,"generatedLine",null),column:I.getArg(n,"generatedColumn",null),lastColumn:t}),n=this._originalMappings[++a]}}else{const t=n.originalColumn;while(n&&n.originalLine===e&&n.originalColumn==t){let t=n.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),i.push({line:I.getArg(n,"generatedLine",null),column:I.getArg(n,"generatedColumn",null),lastColumn:t}),n=this._originalMappings[++a]}}}return i}destroy(){for(let t=0;t<this._sections.length;t++)this._sections[t].consumer.destroy()}}var st=ot;function lt(t,e){let n=t;"string"===typeof t&&(n=I.parseSourceMapInput(t));const i=null!=n.sections?new ot(n,e):new at(n,e);return Promise.resolve(i)}function ut(t,e){return at.fromSourceMap(t,e)}var ct={SourceMapConsumer:it,BasicSourceMapConsumer:rt,IndexedSourceMapConsumer:st},dt=V;const ft=dt.SourceMapGenerator,ht=/(\r?\n)/,pt=10,mt="$$$isSourceNode$$$";class _t{constructor(t,e,n,i,a){this.children=[],this.sourceContents={},this.line=null==t?null:t,this.column=null==e?null:e,this.source=null==n?null:n,this.name=null==a?null:a,this[mt]=!0,null!=i&&this.add(i)}static fromStringWithSourceMap(t,e,n){const i=new _t,a=t.split(ht);let r=0;const o=function(){const t=n(),e=n()||"";return t+e;function n(){return r<a.length?a[r++]:void 0}};let s,l=1,u=0,c=null;return e.eachMapping((function(t){if(null!==c){if(!(l<t.generatedLine)){s=a[r]||"";const e=s.substr(0,t.generatedColumn-u);return a[r]=s.substr(t.generatedColumn-u),u=t.generatedColumn,d(c,e),void(c=t)}d(c,o()),l++,u=0}while(l<t.generatedLine)i.add(o()),l++;u<t.generatedColumn&&(s=a[r]||"",i.add(s.substr(0,t.generatedColumn)),a[r]=s.substr(t.generatedColumn),u=t.generatedColumn),c=t}),this),r<a.length&&(c&&d(c,o()),i.add(a.splice(r).join(""))),e.sources.forEach((function(t){const a=e.sourceContentFor(t);null!=a&&(null!=n&&(t=I.join(n,t)),i.setSourceContent(t,a))})),i;function d(t,e){if(null===t||void 0===t.source)i.add(e);else{const a=n?I.join(n,t.source):t.source;i.add(new _t(t.originalLine,t.originalColumn,a,e,t.name))}}}add(t){if(Array.isArray(t))t.forEach((function(t){this.add(t)}),this);else{if(!t[mt]&&"string"!==typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this}prepend(t){if(Array.isArray(t))for(let e=t.length-1;e>=0;e--)this.prepend(t[e]);else{if(!t[mt]&&"string"!==typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this}walk(t){let e;for(let n=0,i=this.children.length;n<i;n++)e=this.children[n],e[mt]?e.walk(t):""!==e&&t(e,{source:this.source,line:this.line,column:this.column,name:this.name})}join(t){let e,n;const i=this.children.length;if(i>0){for(e=[],n=0;n<i-1;n++)e.push(this.children[n]),e.push(t);e.push(this.children[n]),this.children=e}return this}replaceRight(t,e){const n=this.children[this.children.length-1];return n[mt]?n.replaceRight(t,e):"string"===typeof n?this.children[this.children.length-1]=n.replace(t,e):this.children.push("".replace(t,e)),this}setSourceContent(t,e){this.sourceContents[I.toSetString(t)]=e}walkSourceContents(t){for(let n=0,i=this.children.length;n<i;n++)this.children[n][mt]&&this.children[n].walkSourceContents(t);const e=Object.keys(this.sourceContents);for(let n=0,i=e.length;n<i;n++)t(I.fromSetString(e[n]),this.sourceContents[e[n]])}toString(){let t="";return this.walk((function(e){t+=e})),t}toStringWithSourceMap(t){const e={code:"",line:1,column:0},n=new ft(t);let i=!1,a=null,r=null,o=null,s=null;return this.walk((function(t,l){e.code+=t,null!==l.source&&null!==l.line&&null!==l.column?(a===l.source&&r===l.line&&o===l.column&&s===l.name||n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:e.line,column:e.column},name:l.name}),a=l.source,r=l.line,o=l.column,s=l.name,i=!0):i&&(n.addMapping({generated:{line:e.line,column:e.column}}),a=null,i=!1);for(let r=0,o=t.length;r<o;r++)t.charCodeAt(r)===pt?(e.line++,e.column=0,r+1===o?(a=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:e.line,column:e.column},name:l.name})):e.column++})),this.walkSourceContents((function(t,e){n.setSourceContent(t,e)})),{code:e.code,map:n}}}var gt=_t,vt={SourceNode:gt},yt=ct,bt=vt;dt.SourceMapGenerator;var xt=yt.SourceMapConsumer;bt.SourceNode,xt.initialize&&xt.initialize({"lib/mappings.wasm":"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm"});const wt=t=>t.replace(/\\/g,"/"),$t={};function kt(t,e){const n=e.preset.parseStacktrace(t);let i=Promise.resolve();n.items.forEach((t,a)=>{const r=(t,i)=>{const{line:a=0,column:o=0,file:s,fileName:l,fileRelative:u}=t;if(t.thirdParty)return Promise.resolve();function c(t,n,i){return e.preset.getSourceMapContent(t,n,i).then(t=>{if(t)return Dt(t).then(t=>Tt(t,{line:a,column:o}))})}try{return c(s,l,u).then(e=>{if(e){const{source:a,sourcePath:o,sourceLine:s,sourceColumn:l,fileName:u=""}=e;n.items[i]=Object.assign({},t,{file:a,line:s,column:l,fileShort:o,fileRelative:a,fileName:u,thirdParty:Ct(o),parsed:!0});const c=n.items[i];if(n.isMP&&-1!==c.beforeParse.indexOf("app-service"))return r(c,i)}})}catch(d){return Promise.resolve()}};i=i.then(()=>new Promise((e,n)=>{setTimeout(()=>{r(t,a).then(e)},0)}))});const a=new Promise((a,r)=>{i.then(()=>{const i=e.preset.asTableStacktrace({stack:n,maxColumnWidths:{callee:999,file:999,sourceLine:999},stacktrace:t});a(i)}).catch(()=>{a(t)})});return a}function Ct(t){return-1!==t.indexOf("@dcloudio")}function Dt(t){return new Promise((e,n)=>{try{if(xt.with)xt.with(t,null,t=>{e(t)});else{const n=xt(t);e(n)}}catch(i){n()}})}function St(t){try{return $t[t]||($t[t]=new Promise((e,n)=>{try{/^[http|https]+:/i.test(t)?uni.request({url:t,success:n=>{200===n.statusCode?($t[t]=n.data,e($t[t])):e($t[t]="")},fail(){e($t[t]="")}}):($t[t]=r.a.readFileSync(t,"utf-8"),e($t[t]))}catch(i){e("")}}))}catch(e){return""}}function Tt(t,e){const{source:n,line:i,column:a}=t.originalPositionFor(e);if(n){const t=n.split("/"),e=t.slice(3).join("/"),r=t.pop();return{source:n,sourcePath:e,sourceLine:null===i?0:i,sourceColumn:null===a?0:a,fileName:r}}}function Pt(t){if("string"===typeof t)return t;const e=t[0],n=t[1]?"  "+t[1]:"",i=t[2]?" "+t[2]:"";return`${e}${n}${i}`}function Ot(t){const{base:e,sourceRoot:n,splitThirdParty:i,uniPlatform:a}=t;let r;return{parseSourceMapUrl(t,i,a){if(-1!==a.indexOf("(")&&(a=a.match(/\((.*)/)[1]),!e||!a)return"";if(n)return a.replace(n,e+"/")+".map";let o="";return r.isMP&&(-1!==a.indexOf("app-service.js")&&(o=(e.match(/\w$/)?"/":"")+"__WEIXIN__",a===i&&(o+="/__APP__"),a=a.replace(".js",".map")),o&&a.match(/^\w/)&&(o+="/")),`${e}${o}${a}.map`},getSourceMapContent(t,e,n){if(r.isMP&&-1===n.indexOf(".js"))return Promise.resolve("");const i=this.parseSourceMapUrl(t,e,n);return Promise.resolve(St(i))},parseStacktrace(t){return r=new _(t,a),r},asTableStacktrace({maxColumnWidths:t,stacktrace:e,stack:n}){const a=e.split("\n")[0],r=n.asTable?n.asTable(t?{maxColumnWidths:t}:void 0):{items:[],thirdPartyItems:[]};if(r.items.length||r.thirdPartyItems.length){const{items:t,thirdPartyItems:e}=r,a=n.itemsHeader.map(e=>{if("%StacktraceyItem%"===e){const e=t.shift();return e?Pt(e):""}return e}).filter(Boolean).join("\n"),o=e.length?e.map(Pt).join("\n"):"";return i?{userError:a,thirdParty:o}:a+"\n"+o}return i?{userError:a,thirdParty:""}:a}}}function At(t){const{base:e,sourceRoot:n}=t;let i=[];return{parseSourceMapUrl(t,i,a){return n?t.replace(n,e+"/")+".map":`${e}/${t}.map`},getSourceMapContent(t,e,n){return Promise.resolve(St(this.parseSourceMapUrl(t,e,n)))},parseStacktrace(t){const e=(t||"").split("\n"),n=e.map((t,e)=>{t=t.trim();let n,a,r,o=[];if(!(a=t.match(/e: (.+\.kt)(.+\))*:\s*(.+)*/)))return void i.push(t);i.push("%StacktraceyItem%"),n="e: ",o=(a[2].match(/.*:.*\((\d+).+?(\d+)\)/)||[]).slice(1);const s=a[1]&&(r=a[1].match(/(.*)*\/(.+)/)||[])[2]||"";return{beforeParse:t,callee:n||"",index:!1,native:!1,file:wt(a[1]||""),line:parseInt(o[0]||"",10)||void 0,column:parseInt(o[1]||"",10)||void 0,fileName:s,fileShort:r?r[1]:"",errMsg:a[3]||"",calleeShort:"",fileRelative:"",thirdParty:!1}}).filter(t=>void 0!==t);return{items:n,itemsHeader:[]}},asTableStacktrace({maxColumnWidths:t,stacktrace:e,stack:n}){return i.map(t=>{if("%StacktraceyItem%"===t){const t=n.items.shift();if(t)return`${t.callee}${t.file}: (${t.line}, ${t.column}): ${t.errMsg}`}return t}).join("\n")}}}}.call(this,n("dd40")(t),n("4362"))},ad77:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("text",[t._v(t._$s(0,"t0-0",t._s(t.dateShow)))])},r=[]},ad7d:function(t,e,n){"use strict";n.r(e);var i=n("7915"),a=n("b181");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},adeb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTh",options:{virtualHost:!0},components:{},emits:["sort-change","filter-change"],props:{width:{type:[String,Number],default:""},align:{type:String,default:"left"},rowspan:{type:[Number,String],default:1},colspan:{type:[Number,String],default:1},sortable:{type:Boolean,default:!1},filterType:{type:String,default:""},filterData:{type:Array,default:function(){return[]}}},data:function(){return{border:!1,ascending:!1,descending:!1}},computed:{customWidth:function(){if("number"===typeof this.width)return this.width;if("string"===typeof this.width){var t=new RegExp(/^[1-9][0-9]*px$/g),e=new RegExp(/^[1-9][0-9]*rpx$/g),n=new RegExp(/^[1-9][0-9]*$/g);if(null!==this.width.match(t))return this.width.replace("px","");if(null!==this.width.match(e)){var i=Number(this.width.replace("rpx","")),a=uni.getSystemInfoSync().screenWidth/750;return Math.round(i*a)}return null!==this.width.match(n)?this.width:""}return""},contentAlign:function(){var t="left";switch(this.align){case"left":t="flex-start";break;case"center":t="center";break;case"right":t="flex-end";break}return t}},created:function(){this.root=this.getTable("uniTable"),this.rootTr=this.getTable("uniTr"),this.rootTr.minWidthUpdate(this.customWidth?this.customWidth:140),this.border=this.root.border,this.root.thChildren.push(this)},methods:{sort:function(){if(this.sortable)return this.clearOther(),this.ascending||this.descending?this.ascending&&!this.descending?(this.ascending=!1,this.descending=!0,void this.$emit("sort-change",{order:"descending"})):void(!this.ascending&&this.descending&&(this.ascending=!1,this.descending=!1,this.$emit("sort-change",{order:null}))):(this.ascending=!0,void this.$emit("sort-change",{order:"ascending"}))},ascendingFn:function(){this.clearOther(),this.ascending=!this.ascending,this.descending=!1,this.$emit("sort-change",{order:this.ascending?"ascending":null})},descendingFn:function(){this.clearOther(),this.descending=!this.descending,this.ascending=!1,this.$emit("sort-change",{order:this.descending?"descending":null})},clearOther:function(){var t=this;this.root.thChildren.map((function(e){return e!==t&&(e.ascending=!1,e.descending=!1),e}))},ondropdown:function(t){this.$emit("filter-change",t)},getTable:function(t){var e=this.$parent,n=e.$options.name;while(n!==t){if(e=e.$parent,!e)return!1;n=e.$options.name}return e}}};e.default=i},ae4b:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniBadge:n("3a07").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),n("view",{staticClass:t._$s(3,"sc","uni-tabs__header"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-tabs__nav-wrap"),attrs:{_i:4}},[n("view",{staticClass:t._$s(5,"sc","uni-tabs__nav-scroll"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-tabs__nav"),attrs:{_i:6}},[n("view",{staticClass:t._$s(7,"sc","uni-tabs__item"),class:t._$s(7,"c",{"is-active":"menus"===t.currentTab}),attrs:{_i:7},on:{click:function(e){return t.switchTab("menus")}}},[t._v(t._$s(7,"t0-0",t._s(t.$t("menu.text.menuManager"))))]),t._$s(8,"i",t.pluginMenus.length)?n("view",{staticClass:t._$s(8,"sc","uni-tabs__item"),class:t._$s(8,"c",{"is-active":"pluginMenus"===t.currentTab}),attrs:{_i:8},on:{click:function(e){return t.switchTab("pluginMenus")}}},[t._v(t._$s(8,"t0-0",t._s(t.$t("menu.text.additiveMenu")))),n("uni-badge",{staticClass:t._$s(9,"sc","menu-badge"),attrs:{text:t.pluginMenus.length,type:"error",_i:9}})],1):t._e()])])])]),n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(10,"v-show","menus"===t.currentTab),expression:"_$s(10,'v-show',currentTab==='menus')"}],attrs:{_i:10}},[n("view",{staticClass:t._$s(11,"sc","uni-header"),attrs:{_i:11}},[n("view",{staticClass:t._$s(12,"sc","uni-group"),attrs:{_i:12}},[n("button",{attrs:{_i:13},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(13,"t0-0",t._s(t.$t("menu.button.addFirstLevelMenu"))))])]),n("view",{staticClass:t._$s(14,"sc","uni-group"),attrs:{_i:14}})]),n("view",{staticClass:t._$s(15,"sc","uni-container"),attrs:{_i:15}},[n("unicloud-db",{ref:"udb",attrs:{collection:"opendb-admin-menus",options:t.options,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,_i:16},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=(e.pagination,e.loading);e.error;return[n("uni-table",{staticClass:i._$s("17-"+a,"sc","table-pc"),attrs:{loading:o,emptyText:t.errMsg||t.$t("common.empty"),border:!0,stripe:!0,_i:"17-"+a}},[n("uni-tr",{attrs:{_i:"18-"+a}},[n("uni-th",{attrs:{align:"center",_i:"19-"+a}},[t._v("\u6392\u5e8f")]),n("uni-th",{attrs:{width:"200",align:"center",_i:"20-"+a}},[t._v("\u540d\u79f0")]),n("uni-th",{attrs:{align:"center",_i:"21-"+a}},[t._v("\u6807\u8bc6")]),n("uni-th",{attrs:{align:"center",_i:"22-"+a}},[t._v("URL")]),n("uni-th",{attrs:{width:"100",align:"center",_i:"23-"+a}},[t._v("\u662f\u5426\u542f\u7528")]),n("uni-th",{attrs:{align:"center",_i:"24-"+a}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("25-"+a,"f",{forItems:r}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("25-"+a,"f",{forIndex:o,key:r}),attrs:{_i:"25-"+a+s}},[n("uni-td",{attrs:{align:"center",_i:"26-"+a+s}},[t._v(i._$s("26-"+a+s,"t0-0",t._s(e.sort)))]),n("uni-td",{attrs:{_i:"27-"+a+s}},[t._v(i._$s("27-"+a+s,"t0-0",t._s(e.name)))]),n("uni-td",{attrs:{_i:"28-"+a+s}},[t._v(i._$s("28-"+a+s,"t0-0",t._s(e.menu_id)))]),n("uni-td",{attrs:{_i:"29-"+a+s}},[t._v(i._$s("29-"+a+s,"t0-0",t._s(e.url)))]),n("uni-td",{class:i._$s("30-"+a+s,"c",{"menu-disable":!e.enable}),attrs:{align:"center",_i:"30-"+a+s}},[t._v(i._$s("30-"+a+s,"t0-0",t._s(e.enable?"\u5df2\u542f\u7528":"\u672a\u542f\u7528")))]),n("uni-td",{attrs:{align:"center",_i:"31-"+a+s}},[n("view",{staticClass:i._$s("32-"+a+s,"sc","uni-group"),staticStyle:{"justify-content":"left"},attrs:{_i:"32-"+a+s}},[n("button",{staticClass:i._$s("33-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"33-"+a+s},on:{click:function(n){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("33-"+a+s,"t0-0",t._s(t.$t("common.button.edit"))))]),i._$s("34-"+a+s,"i","system_menu"!==e.menu_id&&"system_management"!==e.menu_id)?n("button",{staticClass:i._$s("34-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"34-"+a+s},on:{click:function(n){return t.confirmDelete(e)}}},[t._v(i._$s("34-"+a+s,"t0-0",t._s(t.$t("common.button.delete"))))]):t._e(),i._$s("35-"+a+s,"i",!e.url)?n("button",{staticClass:i._$s("35-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"35-"+a+s},on:{click:function(n){return t.navigateTo("./add?parent_id="+e.menu_id,!1)}}},[t._v(i._$s("35-"+a+s,"t0-0",t._s(t.$t("menu.button.addChildMenu"))))]):t._e()])])],1)}))],2)]}}])})],1)]),n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(36,"v-show","pluginMenus"===t.currentTab),expression:"_$s(36,'v-show',currentTab==='pluginMenus')"}],attrs:{_i:36}},[n("view",{staticClass:t._$s(37,"sc","uni-header"),attrs:{_i:37}},[n("view",{staticClass:t._$s(38,"sc","uni-group"),attrs:{_i:38}},[n("button",{attrs:{_i:39},on:{click:t.addPluginMenus}})]),n("view",{staticClass:t._$s(40,"sc","uni-group"),attrs:{_i:40}})]),n("view",{staticClass:t._$s(41,"sc","uni-container"),attrs:{_i:41}},[n("uni-table",{ref:"pluginMenusTable",attrs:{type:"selection",border:!0,stripe:!0,_i:42},on:{"selection-change":t.pluginMenuSelectChange}},[n("uni-tr",{attrs:{_i:43}},[n("uni-th",{attrs:{align:"center",_i:44}},[t._v("")]),n("uni-th",{attrs:{align:"center",_i:45}},[t._v("")]),n("uni-th",{attrs:{align:"center",_i:46}},[t._v("")])],1),t._l(t._$s(47,"f",{forItems:t.pluginMenus}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(47,"f",{forIndex:a,key:i}),attrs:{_i:"47-"+r}},[n("uni-td",{attrs:{_i:"48-"+r}},[t._v(t._$s("48-"+r,"t0-0",t._s(e.name))+t._$s("48-"+r,"t0-1",t._s(e.menu_id)))]),n("uni-td",{attrs:{_i:"49-"+r}},[t._v(t._$s("49-"+r,"t0-0",t._s(e.url)))]),n("uni-td",{attrs:{_i:"50-"+r}},[t._v(t._$s("50-"+r,"t0-0",t._s(e.json)))])],1)}))],2),n("view",{staticClass:t._$s(51,"sc","uni-sub-title"),attrs:{_i:51}})],1)]),n("fix-window",{attrs:{_i:52}})],1)},r=[]},af4d:function(t,e,n){"use strict";n.r(e);var i=n("2495"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},afb3:function(t,e,n){"use strict";n.r(e);var i=n("d98b"),a=n("d99d");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},b078:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-stat-panel",data:function(){return{}},props:{items:{type:Array,default:function(){return[]}},contrast:{type:Boolean,default:!1}}};e.default=i},b0f9:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("51b2");function a(t){return l(t)||s(t)||o(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:function(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}},customClass:{type:String,default:""}},data:function(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler:function(t){t?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject:function(){var t=d(d({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),e="";for(var n in t){var i=this.toLine(n);e+=i+":"+t[n]+";"}return e},transformStyles:function(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created:function(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.duration&&(this.durationTime=t.duration),this.animation=(0,i.createAnimation)(Object.assign(this.config,t),this)},onClick:function(){this.$emit("click",{detail:this.isShow})},step:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.animation){for(var n in t)try{var i;if("object"===typeof t[n])(i=this.animation)[n].apply(i,a(t[n]));else this.animation[n](t[n])}catch(r){"\u65b9\u6cd5 ".concat(n," \u4e0d\u5b58\u5728")}return this.animation.step(e),this}},run:function(t){this.animation&&this.animation.run(t)},open:function(){var t=this;clearTimeout(this.timer),this.transform="",this.isShow=!0;var e=this.styleInit(!1),n=e.opacity,a=e.transform;"undefined"!==typeof n&&(this.opacity=n),this.transform=a,this.$nextTick((function(){t.timer=setTimeout((function(){t.animation=(0,i.createAnimation)(t.config,t),t.tranfromInit(!1).step(),t.animation.run(),t.$emit("change",{detail:t.isShow})}),20)}))},close:function(t){var e=this;this.animation&&this.tranfromInit(!0).step().run((function(){e.isShow=!1,e.animationData=null,e.animation=null;var t=e.styleInit(!1),n=t.opacity,i=t.transform;e.opacity=n||1,e.transform=i,e.$emit("change",{detail:e.isShow})}))},styleInit:function(t){var e=this,n={transform:""},i=function(t,i){"fade"===i?n.opacity=e.animationType(t)[i]:n.transform+=e.animationType(t)[i]+" "};return"string"===typeof this.modeClass?i(t,this.modeClass):this.modeClass.forEach((function(e){i(t,e)})),n},tranfromInit:function(t){var e=this,n=function(t,n){var i=null;"fade"===n?i=t?0:1:(i=t?"-100%":"0","zoom-in"===n&&(i=t?.8:1),"zoom-out"===n&&(i=t?1.2:1),"slide-right"===n&&(i=t?"100%":"0"),"slide-bottom"===n&&(i=t?"100%":"0")),e.animation[e.animationMode()[n]](i)};return"string"===typeof this.modeClass?n(t,this.modeClass):this.modeClass.forEach((function(e){n(t,e)})),this.animation},animationType:function(t){return{fade:t?1:0,"slide-top":"translateY(".concat(t?"0":"-100%",")"),"slide-right":"translateX(".concat(t?"0":"100%",")"),"slide-bottom":"translateY(".concat(t?"0":"100%",")"),"slide-left":"translateX(".concat(t?"0":"-100%",")"),"zoom-in":"scaleX(".concat(t?1:.8,") scaleY(").concat(t?1:.8,")"),"zoom-out":"scaleX(".concat(t?1:1.2,") scaleY(").concat(t?1:1.2,")")}},animationMode:function(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=h}).call(this,n("0de9")["default"])},b0ff:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,downloadExcel:n("abe7").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniTag:n("9799").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}}),n("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}}),n("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}}),n("download-excel",{staticClass:t._$s(8,"sc","hide-on-phone"),attrs:{fields:t.exportExcel.fields,data:t.exportExcelData,type:t.exportExcel.type,name:t.exportExcel.filename,_i:8}},[n("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9}})])],1)],1),n("view",{staticClass:t._$s(10,"sc","uni-container"),attrs:{_i:10}},[n("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-tag",field:"tagid,name,description,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:11},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=e.pagination,s=e.loading,l=e.error;e.options;return[n("uni-table",{ref:"table",attrs:{loading:s,emptyText:l.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"selection",_i:"12-"+a},on:{"selection-change":t.selectionChange}},[n("uni-tr",{attrs:{_i:"13-"+a}},[n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"14-"+a},on:{"filter-change":function(e){return t.filterChange(e,"tagid")},"sort-change":function(e){return t.sortChange(e,"tagid")}}},[t._v("\u6807\u7b7e\u7684tagid")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+a},on:{"filter-change":function(e){return t.filterChange(e,"name")},"sort-change":function(e){return t.sortChange(e,"name")}}},[t._v("\u6807\u7b7e\u540d\u79f0")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"16-"+a},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u6807\u7b7e\u63cf\u8ff0")]),n("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"17-"+a},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),n("uni-th",{attrs:{align:"center",_i:"18-"+a}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("19-"+a,"f",{forItems:r}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("19-"+a,"f",{forIndex:o,key:r}),attrs:{_i:"19-"+a+s}},[n("uni-td",{attrs:{align:"center",_i:"20-"+a+s}},[t._v(i._$s("20-"+a+s,"t0-0",t._s(e.tagid)))]),n("uni-td",{attrs:{align:"center",_i:"21-"+a+s}},[n("uni-tag",{attrs:{type:"primary",inverted:!0,size:"small",text:e.name,_i:"22-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"23-"+a+s}},[t._v(i._$s("23-"+a+s,"t0-0",t._s(e.description)))]),n("uni-td",{attrs:{align:"center",_i:"24-"+a+s}},[n("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"25-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"26-"+a+s}},[n("view",{staticClass:i._$s("27-"+a+s,"sc","uni-group"),attrs:{_i:"27-"+a+s}},[n("button",{staticClass:i._$s("28-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"28-"+a+s},on:{click:function(n){return t.navigateTo("../user/list?tagid="+e.tagid,!1)}}},[t._v("\u6210\u5458")]),n("button",{staticClass:i._$s("29-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"29-"+a+s},on:{click:function(n){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v("\u4fee\u6539")]),n("button",{staticClass:i._$s("30-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"30-"+a+s},on:{click:function(n){return t.confirmDelete(e._id)}}},[t._v("\u5220\u9664")])])])],1)}))],2),n("view",{staticClass:i._$s("31-"+a,"sc","uni-pagination-box"),attrs:{_i:"31-"+a}},[n("uni-pagination",{attrs:{"show-iconn":!0,"show-page-size":!0,"page-size":o.size,total:o.count,_i:"32-"+a},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("32-"+a,"v-model",o.current),callback:function(e){t.$set(o,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),n("fix-window",{attrs:{_i:33}})],1)},r=[]},b181:function(t,e,n){"use strict";n.r(e);var i=n("2eb6"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},b1ca:function(t,e,n){"use strict";n.r(e);var i=n("4691"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},b229:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-tooltip"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.content||t.$slots.content)?n("view",{staticClass:t._$s(2,"sc","uni-tooltip-popup"),attrs:{_i:2}},[t._t("content",[t._v(t._$s(3,"t0-0",t._s(t.content)))],{_i:3})],2):t._e()],2)},r=[]},b2a0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=s(n("0ac9")),r=s(n("1379")),o=s(n("0953"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={components:{errorLog:a.default,updatePassword:r.default},props:{navigationBarTitleText:{type:String},matchLeftWindow:{type:Boolean},showLeftWindow:{type:Boolean}},data:function(){return u(u({},o.default.navBar),{},{popupMenuOpened:!1,mpCapsule:0})},computed:u(u(u(u({},(0,i.mapState)("app",["appName"])),(0,i.mapState)("app",["routes"])),(0,i.mapState)("user",["userInfo"])),(0,i.mapState)("error",["logs"])),mounted:function(){},methods:u(u({},(0,i.mapMutations)({removeToken:function(t){t("user/REMOVE_TOKEN")}})),{},{showErrorLogs:function(){this.popupMenuOpened&&(this.popupMenuOpened=!1),this.$refs.errorLogsPopup.open()},showPasswordPopup:function(){this.popupMenuOpened&&(this.popupMenuOpened=!1),this.$refs.passwordPopup.open()},logout:function(){this.removeToken(),this.popupMenuOpened=!1,uni.reLaunch({url:o.default.login.url})},toggleSidebar:function(){this.showLeftWindow?uni.hideLeftWindow():uni.showLeftWindow()},togglePopupMenu:function(){this.popupMenuOpened=!this.popupMenuOpened},closePasswordPopup:function(){this.$refs.passwordPopup.close()},toPasswordPage:function(){uni.navigateTo({url:"/pages/changepwd/changepwd"})},changePassword:function(){this.matchLeftWindow?this.showPasswordPopup():this.toPasswordPage()},changeLanguage:function(t){var e="object"===typeof t?t.detail.value:t,n=this.langs[e].lang||"zh-Hans",i=uni.getSystemInfoSync().platform;"android"!==i?(this.$i18n.locale=n,uni.setLocale(n)):uni.showToast({icon:"error",title:"\u6682\u4e0d\u652f\u6301",duration:2e3})},linkTo:function(){uni.reLaunch({url:"/"})}})};e.default=d},b3bc:function(t,e,n){"use strict";(function(t){function n(t,e){return r(t)||a(t,e)||s(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function r(t){if(Array.isArray(t))return t}function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function s(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[],a=Object.keys(t),r=t.start_time;a.forEach((function(a){if("time_range"!==a&&-1===n.indexOf(a)){var o=t[a];o&&("string"===typeof o&&o.indexOf(a)>-1?i.push(o):("string"===typeof o&&(o='"'.concat(o,'"')),Array.isArray(o)?2===o.length&&a.indexOf("time")>-1?i.push("".concat(a," >= ").concat(o[0]," && ").concat(a," <= ").concat(o[1])):(o=o.map((function(t){return"".concat(a,' == "').concat(t,'"')})).join(" || "),o&&i.push("(".concat(o,")"))):e&&"dimension"===a?y(r)?i.push('dimension == "hour"'):o&&'"hour"'!==o?i.push("".concat(a," == ").concat(o)):i.push('dimension == "day"'):i.push("".concat(a," == ").concat(o))))}}));var o=i.join(" && ");return o||{}}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"value",s=[],l=i;t=JSON.parse(JSON.stringify(t));var u,c=JSON.parse(JSON.stringify(e)),d=o(t);try{for(d.s();!(u=d.n()).done;){var f=u.value,m=f.field,_=f.computed,g=f.formatter,v=f.disable,y=f.fix;if(!v){i=l||f;var b=i.hasOwnProperty(r),x=a+m;if(e){var w=e[x];if(_){var $=_.split("/"),k=n($,2),C=k[0],D=k[1];C=Number(c[a+C]),D=Number(c[a+D]);var S=p(h(C,D),g,y);b&&m===i.field?i[r]=S:i[m]=S}else if(w){var T=p(w,g,y);b?i.field===m&&(i[r]=T):i[m]=T}}b&&s.push(i)}}}catch(P){d.e(P)}finally{d.f()}return s}function d(t,e,n){e&&(t=t.filter((function(t){return t.field===e}))),n&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(n)})));var i=t.map((function(t){var e=[];return t.computed?e=t.computed.split("/"):e.push(t.field),e=e.map((function(e){return-1===t.stat?e:"".concat(e," as ").concat("temp_"+e)})),e.join()}));return i.join()}function f(t,e,n){e&&(t=t.filter((function(t){return t.field===e}))),n&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(n)})));var i=t.map((function(t){var e=t.stat,n=[];return t.computed?n=t.computed.split("/"):n.push(t.field),n=n.map((function(t){if(-1!==e)return"".concat(e||"sum","(").concat("temp_"+t,") as ").concat(t)})),n.filter(Boolean).join()})).filter(Boolean).join();return i}function h(t,e){return e?t/e:0}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2?arguments[2]:void 0;if("number"!==typeof t)return t;if("%"===e)return t*=100,String(t).indexOf(".")>-1&&(t=t.toFixed(2)),t=t?t+e:t,t;if("%%"===e)return t=Number(t),t.toFixed(2)+"%";if("-"===e)return m(t,"day");if(":"===e){var i,a,r;t=Math.ceil(t),i=a=r=0;var o=3600,s=60;if(t>=o){i=Math.floor(t/o);var l=t%o;l>=s?(a=Math.floor(l/s),r=l%s):r=l}else o>=t&&t>=s?(a=Math.floor(t/s),r=t%s):r=t;var u=[i,a,r].map((function(t){return t<10?"0"+t:t}));return u.join(e)}return","===e?t.toLocaleString():(String(t).indexOf(".")>-1&&(t=Math.abs(t)>1?t.toFixed(n||0):t.toFixed(n||2)),t)}function m(t,e){var n=new Date(t);if("hour"===e){var i=n.getHours();return i=i<10?"0"+i:i,"".concat(i,":00 ~ ").concat(i,":59")}if("week"===e){var a=n.getDate()-n.getDay()+1,r=a+6,o=new Date(n.setDate(a));o=_(o);var s=new Date(n.setDate(r));return s=_(s),"".concat(o," ~ ").concat(s)}if("month"===e){var l=new Date(n.getFullYear(),n.getMonth(),1);l=_(l);var u=new Date(n.getFullYear(),n.getMonth()+1,0);return u=_(u),"".concat(l," ~ ").concat(u)}return _(n)}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=t;"object"!==typeof i&&(i=new Date(i));var a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),u=i.getSeconds(),c=[a,g(r),g(o)].join(n),d=[g(s),g(l),g(u)].join(":");return"dateTime"===e?c+" "+d:c}function g(t){return t<10?"0"+t:t}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=new Date(e),i=864e5,a=[n.getFullYear(),n.getMonth()+1,n.getDate()].join("/");a+=" 00:00:00";var r=new Date(a).getTime()-i*t;return r}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!t.length)return!0;var i=864e5,a=n(t,2),r=a[0],o=a[1],s=o-r<i*e;return s}function b(){var e,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"total_devices";"object"===typeof i&&(i=u(i,!1,["uni_platform"]));var r=t.database();return r.collection("uni-stat-result").where(i).field("".concat(a," as temp_").concat(a,", start_time")).groupBy("start_time").groupField("sum(temp_".concat(a,") as ").concat(a)).orderBy("start_time","desc").get().then((function(t){var i=t.result.data;return e=i.length&&i[0][a],e=p(e),n.panelData&&n.panelData.forEach((function(t){t.field===a&&(t.value=e)})),Promise.resolve(e)}))}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null;return function(){for(var i=this,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.stringifyQuery=u,e.stringifyField=d,e.stringifyGroupField=f,e.mapfields=c,e.getTimeOfSomeDayAgo=v,e.division=h,e.format=p,e.formatDate=m,e.parseDateTime=_,e.maxDeltaDay=y,e.debounce=x,e.fileToUrl=$,e.getFieldTotal=b,e.getAllDateCN=k,e.createUniStatQuery=C;var w={};function $(t){for(var e in w)if(w.hasOwnProperty(e)){var n=w[e];if(n===t)return e}var i=(window.URL||window.webkitURL).createObjectURL(t);return w[i]=t,i}function k(t,e){var n=[],i=0;while(e.getTime()-t.getTime()>=0)n[i]=t.getTime(),t.setDate(t.getDate()+1),i+=1;return n}function C(t){return Object.assign({},t,{type:"native_app",create_env:"uni-stat"})}}).call(this,n("a9ff")["default"])},b579:function(t,e,n){"use strict";n.r(e);var i=n("de8c"),a=n("c36d");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},b59f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=["pulldown","refreshempty","back","forward","more","more-filled","scan","qq","weibo","weixin","pengyouquan","loop","refresh","refresh-filled","arrowthindown","arrowthinleft","arrowthinright","arrowthinup","undo-filled","undo","redo","redo-filled","bars","chatboxes","camera","chatboxes-filled","camera-filled","cart-filled","cart","checkbox-filled","checkbox","arrowleft","arrowdown","arrowright","smallcircle-filled","arrowup","circle","eye-filled","eye-slash-filled","eye-slash","eye","flag-filled","flag","gear-filled","reload","gear","hand-thumbsdown-filled","hand-thumbsdown","hand-thumbsup-filled","heart-filled","hand-thumbsup","heart","home","info","home-filled","info-filled","circle-filled","chat-filled","chat","mail-open-filled","email-filled","mail-open","email","checkmarkempty","list","locked-filled","locked","map-filled","map-pin","map-pin-ellipse","map","minus-filled","mic-filled","minus","micoff","mic","clear","smallcircle","close","closeempty","paperclip","paperplane","paperplane-filled","person-filled","contact-filled","person","contact","images-filled","phone","images","image","image-filled","location-filled","location","plus-filled","plus","plusempty","help-filled","help","navigate-filled","navigate","mic-slash-filled","search","settings","sound","sound-filled","spinner-cycle","download-filled","personadd-filled","videocam-filled","personadd","upload","upload-filled","starhalf","star-filled","star","trash","phone-filled","compose","videocam","trash-filled","download","chatbubble-filled","chatbubble","cloud-download","cloud-upload-filled","cloud-upload","cloud-download-filled","headphones","shop"];e.default=i},b650:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-calendar"),attrs:{_i:0},on:{mouseleave:t.leaveCale}},[t._$s(1,"i",!t.insert&&t.show)?n("view",{staticClass:t._$s(1,"sc","uni-calendar__mask"),class:t._$s(1,"c",{"uni-calendar--mask-show":t.aniMaskShow}),attrs:{_i:1},on:{click:t.clean}}):t._e(),t._$s(2,"i",t.insert||t.show)?n("view",{staticClass:t._$s(2,"sc","uni-calendar__content"),class:t._$s(2,"c",{"uni-calendar--fixed":!t.insert,"uni-calendar--ani-show":t.aniMaskShow,"uni-calendar__content-mobile":t.aniMaskShow}),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-calendar__header"),class:t._$s(3,"c",{"uni-calendar__header-mobile":!t.insert}),attrs:{_i:3}},[t._$s(4,"i",t.left)?n("view",{staticClass:t._$s(4,"sc","uni-calendar__header-btn-box"),attrs:{_i:4},on:{click:function(e){return e.stopPropagation(),t.pre(e)}}},[n("view",{staticClass:t._$s(5,"sc","uni-calendar__header-btn uni-calendar--left"),attrs:{_i:5}})]):t._e(),n("picker",{attrs:{value:t._$s(6,"a-value",t.date),_i:6},on:{change:t.bindDateChange}},[n("text",{staticClass:t._$s(7,"sc","uni-calendar__header-text"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s((t.nowDate.year||"")+t.yearText+(t.nowDate.month||"")+t.monthText)))])]),t._$s(8,"i",t.right)?n("view",{staticClass:t._$s(8,"sc","uni-calendar__header-btn-box"),attrs:{_i:8},on:{click:function(e){return e.stopPropagation(),t.next(e)}}},[n("view",{staticClass:t._$s(9,"sc","uni-calendar__header-btn uni-calendar--right"),attrs:{_i:9}})]):t._e(),t._$s(10,"i",!t.insert)?n("view",{staticClass:t._$s(10,"sc","dialog-close"),attrs:{_i:10},on:{click:t.clean}},[n("view",{staticClass:t._$s(11,"sc","dialog-close-plus"),attrs:{_i:11}}),n("view",{staticClass:t._$s(12,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:12}})]):t._e()]),n("view",{staticClass:t._$s(13,"sc","uni-calendar__box"),attrs:{_i:13}},[t._$s(14,"i",t.showMonth)?n("view",{staticClass:t._$s(14,"sc","uni-calendar__box-bg"),attrs:{_i:14}},[n("text",{staticClass:t._$s(15,"sc","uni-calendar__box-bg-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.nowDate.month)))])]):t._e(),n("view",{staticClass:t._$s(16,"sc","uni-calendar__weeks"),attrs:{_i:16}},[n("view",{staticClass:t._$s(17,"sc","uni-calendar__weeks-day"),attrs:{_i:17}},[n("text",{staticClass:t._$s(18,"sc","uni-calendar__weeks-day-text"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.SUNText)))])]),n("view",{staticClass:t._$s(19,"sc","uni-calendar__weeks-day"),attrs:{_i:19}},[n("text",{staticClass:t._$s(20,"sc","uni-calendar__weeks-day-text"),attrs:{_i:20}},[t._v(t._$s(20,"t0-0",t._s(t.MONText)))])]),n("view",{staticClass:t._$s(21,"sc","uni-calendar__weeks-day"),attrs:{_i:21}},[n("text",{staticClass:t._$s(22,"sc","uni-calendar__weeks-day-text"),attrs:{_i:22}},[t._v(t._$s(22,"t0-0",t._s(t.TUEText)))])]),n("view",{staticClass:t._$s(23,"sc","uni-calendar__weeks-day"),attrs:{_i:23}},[n("text",{staticClass:t._$s(24,"sc","uni-calendar__weeks-day-text"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.WEDText)))])]),n("view",{staticClass:t._$s(25,"sc","uni-calendar__weeks-day"),attrs:{_i:25}},[n("text",{staticClass:t._$s(26,"sc","uni-calendar__weeks-day-text"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.THUText)))])]),n("view",{staticClass:t._$s(27,"sc","uni-calendar__weeks-day"),attrs:{_i:27}},[n("text",{staticClass:t._$s(28,"sc","uni-calendar__weeks-day-text"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.FRIText)))])]),n("view",{staticClass:t._$s(29,"sc","uni-calendar__weeks-day"),attrs:{_i:29}},[n("text",{staticClass:t._$s(30,"sc","uni-calendar__weeks-day-text"),attrs:{_i:30}},[t._v(t._$s(30,"t0-0",t._s(t.SATText)))])])]),t._l(t._$s(31,"f",{forItems:t.weeks}),(function(e,i,a,r){return n("view",{key:t._$s(31,"f",{forIndex:a,key:i}),staticClass:t._$s("31-"+r,"sc","uni-calendar__weeks"),attrs:{_i:"31-"+r}},t._l(t._$s("32-"+r,"f",{forItems:e}),(function(e,i,a,o){return n("view",{key:t._$s("32-"+r,"f",{forIndex:a,key:i}),staticClass:t._$s("32-"+r+"-"+o,"sc","uni-calendar__weeks-item"),attrs:{_i:"32-"+r+"-"+o}},[n("calendar-item",{staticClass:t._$s("33-"+r+"-"+o,"sc","uni-calendar-item--hook"),attrs:{weeks:e,calendar:t.calendar,selected:t.selected,lunar:t.lunar,checkHover:t.range,_i:"33-"+r+"-"+o},on:{change:t.choiceDate,handleMouse:t.handleMouse}})],1)})),0)}))],2),t._$s(34,"i",!t.insert&&!t.range&&t.typeHasTime)?n("view",{staticClass:t._$s(34,"sc","uni-date-changed uni-calendar--fixed-top"),attrs:{_i:34}},[n("view",{staticClass:t._$s(35,"sc","uni-date-changed--time-date"),attrs:{_i:35}},[t._v(t._$s(35,"t0-0",t._s(t.tempSingleDate?t.tempSingleDate:t.selectDateText)))]),n("time-picker",{staticClass:t._$s(36,"sc","time-picker-style"),attrs:{type:"time",start:t.reactStartTime,end:t.reactEndTime,disabled:!t.tempSingleDate,border:!1,"hide-second":t.hideSecond,_i:36},model:{value:t._$s(36,"v-model",t.time),callback:function(e){t.time=e},expression:"time"}})],1):t._e(),t._$s(37,"i",!t.insert&&t.range&&t.typeHasTime)?n("view",{staticClass:t._$s(37,"sc","uni-date-changed uni-calendar--fixed-top"),attrs:{_i:37}},[n("view",{staticClass:t._$s(38,"sc","uni-date-changed--time-start"),attrs:{_i:38}},[n("view",{staticClass:t._$s(39,"sc","uni-date-changed--time-date"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.tempRange.before?t.tempRange.before:t.startDateText)))]),n("time-picker",{staticClass:t._$s(40,"sc","time-picker-style"),attrs:{type:"time",start:t.reactStartTime,border:!1,"hide-second":t.hideSecond,disabled:!t.tempRange.before,_i:40},model:{value:t._$s(40,"v-model",t.timeRange.startTime),callback:function(e){t.$set(t.timeRange,"startTime",e)},expression:"timeRange.startTime"}})],1),n("uni-icons",{attrs:{type:"arrowthinright",color:"#999",_i:41}}),n("view",{staticClass:t._$s(42,"sc","uni-date-changed--time-end"),attrs:{_i:42}},[n("view",{staticClass:t._$s(43,"sc","uni-date-changed--time-date"),attrs:{_i:43}},[t._v(t._$s(43,"t0-0",t._s(t.tempRange.after?t.tempRange.after:t.endDateText)))]),n("time-picker",{staticClass:t._$s(44,"sc","time-picker-style"),attrs:{type:"time",end:t.reactEndTime,border:!1,"hide-second":t.hideSecond,disabled:!t.tempRange.after,_i:44},model:{value:t._$s(44,"v-model",t.timeRange.endTime),callback:function(e){t.$set(t.timeRange,"endTime",e)},expression:"timeRange.endTime"}})],1)],1):t._e(),t._$s(45,"i",!t.insert)?n("view",{staticClass:t._$s(45,"sc","uni-date-changed uni-date-btn--ok"),attrs:{_i:45}},[n("view",{staticClass:t._$s(46,"sc","uni-datetime-picker--btn"),attrs:{_i:46},on:{click:t.confirm}},[t._v(t._$s(46,"t0-0",t._s(t.confirmText)))])]):t._e()]):t._e()])},r=[]},b6e0:function(t,e,n){"use strict";n.r(e);var i=n("3e01"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},b7d5:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniLoadMore:n("6169").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-data-checklist"),style:t._$s(0,"s",{"margin-top":t.isTop+"px"}),attrs:{_i:0}},[t._$s(1,"i",!t.isLocal)?[n("view",{staticClass:t._$s(2,"sc","uni-data-loading"),attrs:{_i:2}},[t._$s(3,"i",!t.mixinDatacomErrorMessage)?n("uni-load-more",{attrs:{status:"loading",iconType:"snow",iconSize:18,"content-text":t.contentText,_i:3}}):n("text",[t._v(t._$s(4,"t0-0",t._s(t.mixinDatacomErrorMessage)))])],1)]:[t._$s(6,"i",t.multiple)?n("checkbox-group",{staticClass:t._$s(6,"sc","checklist-group"),class:t._$s(6,"c",{"is-list":"list"===t.mode||t.wrap}),attrs:{_i:6},on:{change:t.chagne}},t._l(t._$s(7,"f",{forItems:t.dataList}),(function(e,i,a,r){return n("label",{key:t._$s(7,"f",{forIndex:a,key:i}),staticClass:t._$s("7-"+r,"sc","checklist-box"),class:t._$s("7-"+r,"c",["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==i&&"list"===t.mode?"is-list-border":""]),style:t._$s("7-"+r,"s",e.styleBackgroud),attrs:{_i:"7-"+r}},[n("checkbox",{staticClass:t._$s("8-"+r,"sc","hidden"),attrs:{disabled:t._$s("8-"+r,"a-disabled",t.disabled||!!e.disabled),value:t._$s("8-"+r,"a-value",e[t.map.value]+""),checked:t._$s("8-"+r,"a-checked",e.selected),_i:"8-"+r}}),t._$s("9-"+r,"i","tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon)?n("view",{staticClass:t._$s("9-"+r,"sc","checkbox__inner"),style:t._$s("9-"+r,"s",e.styleIcon),attrs:{_i:"9-"+r}},[n("view",{staticClass:t._$s("10-"+r,"sc","checkbox__inner-icon"),attrs:{_i:"10-"+r}})]):t._e(),n("view",{staticClass:t._$s("11-"+r,"sc","checklist-content"),class:t._$s("11-"+r,"c",{"list-content":"list"===t.mode&&"left"===t.icon}),attrs:{_i:"11-"+r}},[n("text",{staticClass:t._$s("12-"+r,"sc","checklist-text"),style:t._$s("12-"+r,"s",e.styleIconText),attrs:{_i:"12-"+r}},[t._v(t._$s("12-"+r,"t0-0",t._s(e[t.map.text])))]),t._$s("13-"+r,"i","list"===t.mode&&"right"===t.icon)?n("view",{staticClass:t._$s("13-"+r,"sc","checkobx__list"),style:t._$s("13-"+r,"s",e.styleBackgroud),attrs:{_i:"13-"+r}}):t._e()])])})),0):n("radio-group",{staticClass:t._$s(14,"sc","checklist-group"),class:t._$s(14,"c",{"is-list":"list"===t.mode,"is-wrap":t.wrap}),attrs:{_i:14},on:{change:t.chagne}},t._l(t._$s(15,"f",{forItems:t.dataList}),(function(e,i,a,r){return n("label",{key:t._$s(15,"f",{forIndex:a,key:i}),staticClass:t._$s("15-"+r,"sc","checklist-box"),class:t._$s("15-"+r,"c",["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==i&&"list"===t.mode?"is-list-border":""]),style:t._$s("15-"+r,"s",e.styleBackgroud),attrs:{_i:"15-"+r}},[n("radio",{staticClass:t._$s("16-"+r,"sc","hidden"),attrs:{disabled:t._$s("16-"+r,"a-disabled",t.disabled||e.disabled),value:t._$s("16-"+r,"a-value",e[t.map.value]+""),checked:t._$s("16-"+r,"a-checked",e.selected),_i:"16-"+r}}),t._$s("17-"+r,"i","tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon)?n("view",{staticClass:t._$s("17-"+r,"sc","radio__inner"),style:t._$s("17-"+r,"s",e.styleBackgroud),attrs:{_i:"17-"+r}},[n("view",{staticClass:t._$s("18-"+r,"sc","radio__inner-icon"),style:t._$s("18-"+r,"s",e.styleIcon),attrs:{_i:"18-"+r}})]):t._e(),n("view",{staticClass:t._$s("19-"+r,"sc","checklist-content"),class:t._$s("19-"+r,"c",{"list-content":"list"===t.mode&&"left"===t.icon}),attrs:{_i:"19-"+r}},[n("text",{staticClass:t._$s("20-"+r,"sc","checklist-text"),style:t._$s("20-"+r,"s",e.styleIconText),attrs:{_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e[t.map.text])))]),t._$s("21-"+r,"i","list"===t.mode&&"right"===t.icon)?n("view",{staticClass:t._$s("21-"+r,"sc","checkobx__list"),style:t._$s("21-"+r,"s",e.styleRightIcon),attrs:{_i:"21-"+r}}):t._e()])])})),0)]],2)},r=[]},b7dd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uploadFile",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},delIcon:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},showType:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},readonly:{type:Boolean,default:!1}},computed:{list:function(){var t=[];return this.filesList.forEach((function(e){t.push(e)})),t},styles:function(){var t={border:!0,dividline:!0,"border-style":{}};return Object.assign(t,this.listStyles)},borderStyle:function(){var t=this.styles,e=t.borderStyle,n=t.border,i={};if(n){var a=e&&e.width||1;a=this.value2px(a);var r=e&&e.radius||5;r=this.value2px(r),i={"border-width":a,"border-style":e&&e.style||"solid","border-color":e&&e.color||"#eee","border-radius":r}}else i.border="none";var o="";for(var s in i)o+="".concat(s,":").concat(i[s],";");return o},borderLineStyle:function(){var t={},e=this.styles.borderStyle;if(e&&e.color&&(t["border-color"]=e.color),e&&e.width){var n=e&&e.width||1,i=e&&e.style||0;"number"===typeof n?n+="px":n=n.indexOf("px")?n:n+"px",t["border-width"]=n,"number"===typeof i?i+="px":i=i.indexOf("px")?i:i+"px",t["border-top-style"]=i}var a="";for(var r in t)a+="".concat(r,":").concat(t[r],";");return a}},methods:{uploadFiles:function(t,e){this.$emit("uploadFiles",{item:t,index:e})},choose:function(){this.$emit("choose")},delFile:function(t){this.$emit("delFile",t)},value2px:function(t){return"number"===typeof t?t+="px":t=-1!==t.indexOf("px")?t:t+"px",t}}};e.default=i},b7e8:function(t,e,n){"use strict";n.r(e);var i=n("0acc"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},b8b3:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-card"),class:t._$s(0,"c",{"uni-card--full":t.isFull,"uni-card--shadow":t.isShadow,"uni-card--border":t.border}),style:t._$s(0,"s",{margin:t.isFull?0:t.margin,padding:t.spacing,"box-shadow":t.isShadow?t.shadow:""}),attrs:{_i:0}},[t._t("cover",[t._$s(2,"i",t.cover)?n("view",{staticClass:t._$s(2,"sc","uni-card__cover"),attrs:{_i:2}},[n("image",{staticClass:t._$s(3,"sc","uni-card__cover-image"),attrs:{src:t._$s(3,"a-src",t.cover),_i:3},on:{click:function(e){return t.onClick("cover")}}})]):t._e()],{_i:1}),t._t("title",[t._$s(5,"i",t.title||t.extra)?n("view",{staticClass:t._$s(5,"sc","uni-card__header"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-card__header-box"),attrs:{_i:6},on:{click:function(e){return t.onClick("title")}}},[t._$s(7,"i",t.thumbnail)?n("view",{staticClass:t._$s(7,"sc","uni-card__header-avatar"),attrs:{_i:7}},[n("image",{staticClass:t._$s(8,"sc","uni-card__header-avatar-image"),attrs:{src:t._$s(8,"a-src",t.thumbnail),_i:8}})]):t._e(),n("view",{staticClass:t._$s(9,"sc","uni-card__header-content"),attrs:{_i:9}},[n("text",{staticClass:t._$s(10,"sc","uni-card__header-content-title uni-ellipsis"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.title)))]),t._$s(11,"i",t.title&&t.subTitle)?n("text",{staticClass:t._$s(11,"sc","uni-card__header-content-subtitle uni-ellipsis"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.subTitle)))]):t._e()])]),n("view",{staticClass:t._$s(12,"sc","uni-card__header-extra"),attrs:{_i:12},on:{click:function(e){return t.onClick("extra")}}},[n("text",{staticClass:t._$s(13,"sc","uni-card__header-extra-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.extra)))])])]):t._e()],{_i:4}),n("view",{staticClass:t._$s(14,"sc","uni-card__content"),style:t._$s(14,"s",{padding:t.padding}),attrs:{_i:14},on:{click:function(e){return t.onClick("content")}}},[t._t("default",null,{_i:15})],2),n("view",{staticClass:t._$s(16,"sc","uni-card__actions"),attrs:{_i:16},on:{click:function(e){return t.onClick("actions")}}},[t._t("actions",null,{_i:17})],2)],2)},r=[]},baa7:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default,uniTd:n("abd8").default,uniPagination:n("2101").default,uniPopup:n("da7a").default,uniPopupDialog:n("6f1a").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("uni-stat-panel",{attrs:{items:t.panelData,_i:15}}),n("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[n("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,i,a,r){return[t._$s("20-"+r,"i",e.title)?n("uni-th",{key:t._$s(19,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"20-"+r}},[n("uni-tooltip",{attrs:{_i:"21-"+r},scopedSlots:t._u([t._$s("23-"+r,"i",0===i&&e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("24-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"24-"+r+"-"+o}},[t._v(a._$s("24-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("21-"+r,"t0-0",t._s(e.title))),t._$s("22-"+r,"i",0===i&&e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"22-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(25,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(25,"f",{forIndex:a,key:i}),attrs:{_i:"25-"+r}},[t._l(t._$s("26-"+r,"f",{forItems:t.fieldsMap}),(function(i,a,o,s){return[t._$s("27-"+r+"-"+s,"i",1===a)?n("uni-td",{key:t._$s("26-"+r,"f",{forIndex:o,keyIndex:0,key:i.field}),staticClass:t._$s("27-"+r+"-"+s,"sc","uni-stat-edit--x"),attrs:{_i:"27-"+r+"-"+s}},[t._v(t._$s("27-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-"))),n("uni-icons",{staticClass:t._$s("28-"+r+"-"+s,"sc","uni-stat-edit--btn"),attrs:{type:"compose",color:"#2979ff",size:"25",_i:"28-"+r+"-"+s},on:{click:function(n){return t.inputDialogToggle(e.path,e.title)}}})],1):n("uni-td",{key:t._$s("26-"+r,"f",{forIndex:o,keyIndex:-1,key:i.field}),attrs:{align:0===a?"left":"center",_i:"29-"+r+"-"+s}},[t._v(t._$s("29-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2),n("view",{staticClass:t._$s(30,"sc","uni-pagination-box"),attrs:{_i:30}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:31},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),n("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:32}},[n("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:33},on:{confirm:t.editName},model:{value:t._$s(33,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),n("fix-window",{attrs:{_i:34}})],1)},r=[]},bb3a:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,uniStatTable:n("4a21").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),n("uni-stat-tabs",{attrs:{label:"\u7ef4\u5ea6\u9009\u62e9",type:"box",current:t.currentDimensionTab,tabs:t.dimensionTabs,_i:12},model:{value:t._$s(12,"v-model",t.query.dimension),callback:function(e){t.$set(t.query,"dimension",e)},expression:"query.dimension"}})],1),n("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("uni-stat-panel",{attrs:{items:t.panelData,_i:16}}),n("view",{staticClass:t._$s(17,"sc","uni-stat--x p-m"),attrs:{_i:17}},[n("view",{staticClass:t._$s(18,"sc","label-text mb-l"),attrs:{_i:18}}),n("uni-stat-tabs",{staticClass:t._$s(19,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:19},on:{change:t.changeChartTab},model:{value:t._$s(19,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:21}})],1)],1),n("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[n("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:23}}),n("view",{staticClass:t._$s(24,"sc","uni-pagination-box"),attrs:{_i:24}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:25},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),n("fix-window",{attrs:{_i:26}})],1)},r=[]},bb51:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniLoadMore:n("6169").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-data-pickerview"),attrs:{_i:0}},[n("scroll-view",{staticClass:t._$s(1,"sc","selected-area"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","selected-list"),attrs:{_i:2}},[t._l(t._$s(3,"f",{forItems:t.selected}),(function(e,i,a,r){return[t._$s("4-"+r,"i",e.text)?n("view",{key:t._$s(3,"f",{forIndex:a,keyIndex:0,key:i}),staticClass:t._$s("4-"+r,"sc","selected-item"),class:t._$s("4-"+r,"c",{"selected-item-active":i==t.selectedIndex,"selected-item-text-overflow":t.ellipsis}),attrs:{_i:"4-"+r},on:{click:function(e){return t.handleSelect(i)}}},[n("text",[t._v(t._$s("5-"+r,"t0-0",t._s(e.text)))])]):t._e()]}))],2)]),n("view",{staticClass:t._$s(6,"sc","tab-c"),attrs:{_i:6}},[t._l(t._$s(7,"f",{forItems:t.dataList}),(function(e,i,a,r){return[t._$s("8-"+r,"i",i==t.selectedIndex)?n("scroll-view",{key:t._$s(7,"f",{forIndex:a,keyIndex:0,key:i}),staticClass:t._$s("8-"+r,"sc","list"),attrs:{_i:"8-"+r}},t._l(t._$s("9-"+r,"f",{forItems:e}),(function(e,a,o,s){return n("view",{key:t._$s("9-"+r,"f",{forIndex:o,key:a}),staticClass:t._$s("9-"+r+"-"+s,"sc","item"),class:t._$s("9-"+r+"-"+s,"c",{"is-disabled":!!e.disable}),attrs:{_i:"9-"+r+"-"+s},on:{click:function(n){return t.handleNodeClick(e,i,a)}}},[n("text",{staticClass:t._$s("10-"+r+"-"+s,"sc","item-text item-text-overflow"),attrs:{_i:"10-"+r+"-"+s}},[t._v(t._$s("10-"+r+"-"+s,"t0-0",t._s(e[t.map.text])))]),t._$s("11-"+r+"-"+s,"i",t.selected.length>i&&e[t.map.value]==t.selected[i].value)?n("view",{staticClass:t._$s("11-"+r+"-"+s,"sc","check"),attrs:{_i:"11-"+r+"-"+s}}):t._e()])})),0):t._e()]})),t._$s(12,"i",t.loading)?n("view",{staticClass:t._$s(12,"sc","loading-cover"),attrs:{_i:12}},[n("uni-load-more",{staticClass:t._$s(13,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:13}})],1):t._e(),t._$s(14,"i",t.errorMessage)?n("view",{staticClass:t._$s(14,"sc","error-message"),attrs:{_i:14}},[n("text",{staticClass:t._$s(15,"sc","error-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.errorMessage)))])]):t._e()],2)])},r=[]},bb8e:function(t,e,n){"use strict";n.r(e);var i=n("f67b"),a=n("96e1");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},bbbb:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("e6ed"),r=n("26cb");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=t.database(),c="create_date",d=[],f=20,h=1,p={ascending:"asc",descending:"desc"},m={data:function(){return{query:"",where:"",orderby:c,orderByFieldName:"",selectedIndexs:[],options:s({pageSize:f,pageCurrent:h,filterData:{}},a.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"opendb-app-list.xls",type:"xls",fields:{AppID:"appid","\u5e94\u7528\u540d\u79f0":"name","\u5e94\u7528\u63cf\u8ff0":"description","\u521b\u5efa\u65f6\u95f4":"create_date"}},exportExcelData:[],addAppidLoading:!0,descriptionThWidth:380,buttonThWidth:400}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},computed:s({},(0,r.mapState)("app",["appName","appid"])),methods:{pageSizeChange:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},onqueryload:function(t){var e=this;t.find((function(t){return t.appid===e.appid}))?this.addAppidLoading=!1:this.addCurrentAppid({appid:this.appid,name:this.appName,description:"admin \u7ba1\u7406\u540e\u53f0",create_date:Date.now()}),this.exportExcelData=t},changeSize:function(t){this.pageSizeIndex=t.detail.value},addCurrentAppid:function(t){var e=this;u.collection("opendb-app-list").add(t).then((function(t){e.loadData(),setTimeout((function(){uni.showModal({content:"\u68c0\u6d4b\u5230\u6570\u636e\u5e93\u4e2d\u65e0\u5f53\u524d\u5e94\u7528, \u5df2\u81ea\u52a8\u6dfb\u52a0\u5e94\u7528: ".concat(e.appName),showCancel:!1})}),500)})).catch((function(t){})).finally((function(){e.addAppidLoading=!1}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return d.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this.getWhere();this.where=t,this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var n=this;uni.navigateTo({url:t,events:{refreshData:function(){n.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{confirmContent:"\u662f\u5426\u5220\u9664\u8be5\u5e94\u7528",success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var n=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+p[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){n.$refs.udb.loadData()}))},filterChange:function(t,e){var n=this;this._filter[e]={type:t.filterType,value:t.filter};var i=(0,a.filterToWhere)(this._filter,u.command);Object.keys(i).length?this.where=i:this.where="",this.$nextTick((function(){n.$refs.udb.loadData()}))},publish:function(t){uni.navigateTo({url:"/pages/system/app/uni-portal/uni-portal?id="+t})}}};e.default=m}).call(this,n("a9ff")["default"],n("0de9")["default"])},bbdd:function(t,e,n){var i=function(){return this||"object"===typeof self&&self}()||Function("return this")(),a=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=a&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n("96cf"),a)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(o){i.regeneratorRuntime=void 0}},bbeb:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniDataCheckbox:n("a93f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[n("uni-forms-item",{attrs:{name:"role_id",label:"\u552f\u4e00ID",required:!0,_i:2}},[n("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",_i:3},model:{value:t._$s(3,"v-model",t.formData.role_id),callback:function(e){t.$set(t.formData,"role_id",e)},expression:"formData.role_id"}})],1),n("uni-forms-item",{attrs:{name:"role_name",label:"\u540d\u79f0",required:!0,_i:4}},[n("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u540d\u79f0",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.role_name),callback:function(e){t.$set(t.formData,"role_name",e)},expression:"formData.role_name"}})],1),n("uni-forms-item",{staticClass:t._$s(6,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650",_i:6}},[n("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:7},model:{value:t._$s(7,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}})],1),n("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:8}},[n("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u5907\u6ce8",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.comment),callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),n("view",{staticClass:t._$s(10,"sc","uni-button-group"),attrs:{_i:10}},[n("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.submit}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},bc70:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-easyinput"),class:t._$s(0,"c",{"uni-easyinput-error":t.msg}),style:t._$s(0,"s",t.boxStyle),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-easyinput__content"),class:t._$s(1,"c",t.inputContentClass),style:t._$s(1,"s",t.inputContentStyle),attrs:{_i:1}},[t._$s(2,"i",t.prefixIcon)?n("uni-icons",{staticClass:t._$s(2,"sc","content-clear-icon"),attrs:{type:t.prefixIcon,color:"#c0c4cc",size:"22",_i:2},on:{click:function(e){return t.onClickIcon("prefix")}}}):t._e(),t._$s(3,"i","textarea"===t.type)?n("textarea",{staticClass:t._$s(3,"sc","uni-easyinput__content-textarea"),class:t._$s(3,"c",{"input-padding":t.inputBorder}),attrs:{name:t._$s(3,"a-name",t.name),value:t._$s(3,"a-value",t.val),placeholder:t._$s(3,"a-placeholder",t.placeholder),placeholderStyle:t._$s(3,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(3,"a-disabled",t.disabled),maxlength:t._$s(3,"a-maxlength",t.inputMaxlength),focus:t._$s(3,"a-focus",t.focused),autoHeight:t._$s(3,"a-autoHeight",t.autoHeight),_i:3},on:{input:t.onInput,blur:t._Blur,focus:t._Focus,confirm:t.onConfirm}}):n("input",{staticClass:t._$s(4,"sc","uni-easyinput__content-input"),style:t._$s(4,"s",t.inputStyle),attrs:{type:t._$s(4,"a-type","password"===t.type?"text":t.type),name:t._$s(4,"a-name",t.name),value:t._$s(4,"a-value",t.val),password:t._$s(4,"a-password",!t.showPassword&&"password"===t.type),placeholder:t._$s(4,"a-placeholder",t.placeholder),placeholderStyle:t._$s(4,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(4,"a-disabled",t.disabled),maxlength:t._$s(4,"a-maxlength",t.inputMaxlength),focus:t._$s(4,"a-focus",t.focused),confirmType:t._$s(4,"a-confirmType",t.confirmType),_i:4},on:{focus:t._Focus,blur:t._Blur,input:t.onInput,confirm:t.onConfirm}}),t._$s(5,"i","password"===t.type&&t.passwordIcon)?[t._$s(6,"i",t.isVal)?n("uni-icons",{staticClass:t._$s(6,"sc","content-clear-icon"),class:t._$s(6,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:t.showPassword?"eye-slash-filled":"eye-filled",size:22,color:t.focusShow?"#2979ff":"#c0c4cc",_i:6},on:{click:t.onEyes}}):t._e()]:t._$s(7,"e",t.suffixIcon)?[t._$s(8,"i",t.suffixIcon)?n("uni-icons",{staticClass:t._$s(8,"sc","content-clear-icon"),attrs:{type:t.suffixIcon,color:"#c0c4cc",size:"22",_i:8},on:{click:function(e){return t.onClickIcon("suffix")}}}):t._e()]:[t._$s(10,"i",t.clearable&&t.isVal&&!t.disabled&&"textarea"!==t.type)?n("uni-icons",{staticClass:t._$s(10,"sc","content-clear-icon"),class:t._$s(10,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:"clear",size:t.clearSize,color:t.msg?"#dd524d":t.focusShow?"#2979ff":"#c0c4cc",_i:10},on:{click:t.onClear}}):t._e()],t._t("right",null,{_i:11})],2)])},r=[]},bcc9:function(t,e,n){"use strict";n.r(e);var i=n("0576"),a=n("b1ca");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"04ed0f7c",null,!1,i["a"],o);e["default"]=l.exports},bd18:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),n("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-stat--x flex"),attrs:{_i:4}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(7,"sc","flex"),attrs:{_i:7}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",today:!0,_i:8},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(9,"sc","uni-stat-datetime-picker"),class:t._$s(9,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:9},on:{change:t.useDatetimePicker},model:{value:t._$s(9,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(10,"sc","uni-stat--x"),attrs:{_i:10}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:11},on:{change:t.changePlatform},model:{value:t._$s(11,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),n("uni-stat-panel",{attrs:{items:t.panelData,contrast:!0,_i:12}}),n("view",{staticClass:t._$s(13,"sc","uni-stat--x p-m"),attrs:{_i:13}},[n("view",{staticClass:t._$s(14,"sc","uni-stat-card-header"),attrs:{_i:14}}),n("uni-stat-tabs",{staticClass:t._$s(15,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:15},on:{change:t.changeChartTab},model:{value:t._$s(15,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(16,"sc","uni-charts-box"),attrs:{_i:16}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:t.eopts,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:17}})],1)],1)],1),n("fix-window",{attrs:{_i:18}})],1)},r=[]},bd2a:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniNavMenu:n("1cc5").default,uniMenuSidebar:n("4a2c").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("uni-nav-menu",{attrs:{active:t.value,activeKey:"value",activeTextColor:t.activeTextColor,uniqueOpened:t.uniqueOpened,_i:1},on:{select:t.onSelect}},[n("uni-menu-sidebar",{attrs:{data:t.userMenu,_i:2}}),n("uni-menu-sidebar",{attrs:{data:t.staticMenu,_i:3}})],1)],1)},r=[]},bfba:function(t,e,n){"use strict";n.r(e);var i=n("710e"),a=n("98c7");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},c028:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("48d1"),a=n("6c9e"),r=n("5a6b"),o=n("ef51"),s=n("3b43"),l=n("f0b6"),u={install:function(t){(0,i.initUtil)(t),(0,a.initError)(t),(0,r.initRequest)(t),(0,o.initFetch)(t),(0,s.initPermission)(t),(0,l.initInterceptor)()}};e.default=u},c06e:function(t,e,n){"use strict";n.r(e);var i=n("5af0"),a=n("8948");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},c1ae:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[t._t("default",null,{options:t.options,data:t.dataList,pagination:t.paginationInternal,loading:t.loading,hasMore:t.hasMore,error:t.errorMessage,_i:1})],2)},r=[]},c26a:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:t._$s(0,"a-id",t.idName),_i:0},on:{click:t.generate}},[t._t("default",[t._v(t._$s(1,"t0-0",t._s(t.name)))],{_i:1})],2)},r=[]},c35f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={methods:{getParentAll:function(t,e){e=this.getParent("uni".concat(t),e),e&&(this.rootMenu[t].push(e),this.getParentAll(t,e))},getParent:function(t,e,n){e=e.$parent;var i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};e.default=i},c36d:function(t,e,n){"use strict";n.r(e);var i=n("d7b6"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},c3d9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading6",data:function(){return{}}};e.default=i},c431:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{uploadTasks:{type:Array,default:[]},showProgress:{type:Boolean,default:!0}}};e.default=i},c4eb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={menu_id:{rules:[{required:!0},{format:"string"}]},name:{rules:[{required:!0},{format:"string"}]},icon:{rules:[{format:"string"}]},url:{rules:[{format:"string"}]},sort:{rules:[{format:"int"}]},parent_id:{rules:[{format:"string"}]},permission:{rules:[{format:"array"}]},enable:{rules:[{format:"bool"}]}};e.default=i},c4fa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uploadImage",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},limit:{type:[Number,String],default:9},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto",border:{}}}},delIcon:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},computed:{styles:function(){var t={width:"auto",height:"auto",border:{}};return Object.assign(t,this.imageStyles)},boxStyle:function(){var t=this.styles,e=t.width,n=void 0===e?"auto":e,i=t.height,a=void 0===i?"auto":i,r={};"auto"===a?"auto"!==n?(r.height=this.value2px(n),r["padding-top"]=0):r.height=0:(r.height=this.value2px(a),r["padding-top"]=0),r.width="auto"===n?"auto"!==a?this.value2px(a):"33.3%":this.value2px(n);var o="";for(var s in r)o+="".concat(s,":").concat(r[s],";");return o},borderStyle:function(){var t=this.styles.border,e={},n=1,i=3;if("boolean"===typeof t)e.border=t?"1px #eee solid":"none";else{var a=t&&t.width||n;a=this.value2px(a);var r=t&&t.radius||i;r=this.value2px(r),e={"border-width":a,"border-style":t&&t.style||"solid","border-color":t&&t.color||"#eee","border-radius":r}}var o="";for(var s in e)o+="".concat(s,":").concat(e[s],";");return o}},methods:{uploadFiles:function(t,e){this.$emit("uploadFiles",t)},choose:function(){this.$emit("choose")},delFile:function(t){this.$emit("delFile",t)},prviewImage:function(t,e){var n=[];1===Number(this.limit)&&this.disablePreview&&!this.disabled&&this.$emit("choose"),this.disablePreview||(this.filesList.forEach((function(t){n.push(t.url)})),uni.previewImage({urls:n,current:e}))},value2px:function(t){return"number"===typeof t?t+="px":-1===t.indexOf("%")&&(t=-1!==t.indexOf("px")?t:t+"px"),t}}};e.default=i},c545:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=r(n("0953"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return s(s({},a.default.sideBar),{},{field:"url as value, name as text, menu_id, parent_id, sort, icon, permission",currentMenu:"/"})},computed:s(s({},(0,i.mapState)("app",["inited","navMenu","active"])),(0,i.mapState)("user",["userInfo"])),methods:s(s({},(0,i.mapActions)({setRoutes:"app/setRoutes"})),{},{select:function(t,e){var n=t.value;n||(n=this.active),this.clickMenuItem(n),this.setRoutes(e)},clickMenuItem:function(t){"/"!==t[0]&&0!==t.indexOf("http")&&(t="/"+t),uni.redirectTo({url:t,fail:function(){uni.showModal({title:"\u63d0\u793a",content:"\u9875\u9762 "+t+" \u8df3\u8f6c\u5931\u8d25",showCancel:!1})}})},splitFullPath:function(t){return t||(t="/"),t.split("?")[0]}})};e.default=u}).call(this,n("0de9")["default"])},c68d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},created:function(){this.popup=this.getParent()},methods:{getParent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniPopup",e=this.$parent,n=e.$options.name;while(n!==t){if(e=e.$parent,!e)return!1;n=e.$options.name}return e}}};e.default=i},c6e6:function(t,e,n){"use strict";n.r(e);var i=n("4732"),a=n("301b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},c700:function(t,e,n){"use strict";n.r(e);var i=n("cfd9"),a=n("af4d");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},c762:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(e.date,e.selected),a=e.startDate,r=e.endDate,o=e.range;i(this,t),this.date=this.getDate(new Date),this.selected=n||[],this.startDate=a,this.endDate=r,this.range=o,this.cleanMultipleStatus(),this.weeks={},this.lastHover=!1}return r(t,[{key:"setDate",value:function(t){this.selectDate=this.getDate(t),this._getWeek(this.selectDate.fullDate)}},{key:"cleanMultipleStatus",value:function(){this.multipleStatus={before:"",after:"",data:[]}}},{key:"resetSatrtDate",value:function(t){this.startDate=t}},{key:"resetEndDate",value:function(t){this.endDate=t}},{key:"getDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";t||(t=new Date),"object"!==typeof t&&(t=t.replace(/-/g,"/"));var i=new Date(t);switch(n){case"day":i.setDate(i.getDate()+e);break;case"month":31===i.getDate()?i.setDate(i.getDate()+e):i.setMonth(i.getMonth()+e);break;case"year":i.setFullYear(i.getFullYear()+e);break}var a=i.getFullYear(),r=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,o=i.getDate()<10?"0"+i.getDate():i.getDate();return{fullDate:a+"-"+r+"-"+o,year:a,month:r,date:o,day:i.getDay()}}},{key:"_getLastMonthDays",value:function(t,e){for(var n=[],i=t;i>0;i--){var a=new Date(e.year,e.month-1,1-i).getDate();n.push({date:a,month:e.month-1,disable:!0})}return n}},{key:"_currentMonthDys",value:function(t,e){for(var n=this,i=[],a=this.date.fullDate,r=function(t){var r=e.year+"-"+(e.month,e.month+"-")+(t<10?"0"+t:t),o=a===r,s=n.selected&&n.selected.find((function(t){if(n.dateEqual(r,t.date))return t})),l=!0,u=!0;n.startDate&&(l=n.dateCompare(n.startDate,r)),n.endDate&&(u=n.dateCompare(r,n.endDate));var c=n.multipleStatus.data,d=!1,f=-1;n.range&&(c&&(f=c.findIndex((function(t){return n.dateEqual(t,r)}))),-1!==f&&(d=!0));var h={fullDate:r,year:e.year,date:t,multiple:!!n.range&&d,beforeMultiple:n.isLogicBefore(r,n.multipleStatus.before,n.multipleStatus.after),afterMultiple:n.isLogicAfter(r,n.multipleStatus.before,n.multipleStatus.after),month:e.month,disable:!(l&&u),isDay:o,userChecked:!1};s&&(h.extraInfo=s),i.push(h)},o=1;o<=t;o++)r(o);return i}},{key:"_getNextMonthDays",value:function(t,e){for(var n=[],i=1;i<t+1;i++)n.push({date:i,month:Number(e.month)+1,disable:!0});return n}},{key:"getInfo",value:function(t){var e=this;t||(t=new Date);var n=this.canlender.find((function(n){return n.fullDate===e.getDate(t).fullDate}));return n}},{key:"dateCompare",value:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e}},{key:"dateEqual",value:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t.getTime()-e.getTime()===0}},{key:"isLogicBefore",value:function(t,e,n){var i=e;return e&&n&&(i=this.dateCompare(e,n)?e:n),this.dateEqual(i,t)}},{key:"isLogicAfter",value:function(t,e,n){var i=n;return e&&n&&(i=this.dateCompare(e,n)?n:e),this.dateEqual(i,t)}},{key:"geDateAll",value:function(t,e){var n=[],i=t.split("-"),a=e.split("-"),r=new Date;r.setFullYear(i[0],i[1]-1,i[2]);var o=new Date;o.setFullYear(a[0],a[1]-1,a[2]);for(var s=r.getTime()-864e5,l=o.getTime()-864e5,u=s;u<=l;)u+=864e5,n.push(this.getDate(new Date(parseInt(u))).fullDate);return n}},{key:"setMultiple",value:function(t){var e=this.multipleStatus,n=e.before,i=e.after;if(this.range){if(n&&i){if(!this.lastHover)return void(this.lastHover=!0);this.multipleStatus.before=t,this.multipleStatus.after="",this.multipleStatus.data=[],this.multipleStatus.fulldate="",this.lastHover=!1}else n?(this.multipleStatus.after=t,this.dateCompare(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before),this.lastHover=!0):(this.multipleStatus.before=t,this.lastHover=!1);this._getWeek(t)}}},{key:"setHoverMultiple",value:function(t){var e=this.multipleStatus,n=e.before;e.after;this.range&&(this.lastHover||(n?(this.multipleStatus.after=t,this.dateCompare(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before)):this.multipleStatus.before=t,this._getWeek(t)))}},{key:"setDefaultMultiple",value:function(t,e){this.multipleStatus.before=t,this.multipleStatus.after=e,t&&e&&(this.dateCompare(t,e)?(this.multipleStatus.data=this.geDateAll(t,e),this._getWeek(e)):(this.multipleStatus.data=this.geDateAll(e,t),this._getWeek(t)))}},{key:"_getWeek",value:function(t){var e=this.getDate(t),n=(e.fullDate,e.year),i=e.month,a=(e.date,e.day,new Date(n,i-1,1).getDay()),r=new Date(n,i,0).getDate(),o={lastMonthDays:this._getLastMonthDays(a,this.getDate(t)),currentMonthDys:this._currentMonthDys(r,this.getDate(t)),nextMonthDays:[],weeks:[]},s=[],l=42-(o.lastMonthDays.length+o.currentMonthDys.length);o.nextMonthDays=this._getNextMonthDays(l,this.getDate(t)),s=s.concat(o.lastMonthDays,o.currentMonthDys,o.nextMonthDays);for(var u={},c=0;c<s.length;c++)c%7===0&&(u[parseInt(c/7)]=new Array(7)),u[parseInt(c/7)][c%7]=s[c];this.canlender=s,this.weeks=u}}]),t}(),s=o;e.default=s},c830:function(t,e,n){"use strict";n.r(e);var i=n("ff51"),a=n("f6ff");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},c895:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniLink:n("e232").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniPagination:n("2101").default,uniPopup:n("da7a").default,uniPopupDialog:n("6f1a").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}},[n("uni-link",{attrs:{href:"https://ask.dcloud.net.cn/article/36304",text:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u8bf4\u660e>>",_i:5}})],1)])],1),n("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[n("view",{staticClass:t._$s(7,"sc","uni-stat--x flex"),attrs:{_i:7}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:8},model:{value:t._$s(8,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(10,"sc","flex"),attrs:{_i:10}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:11},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(12,"sc","uni-stat-datetime-picker"),class:t._$s(12,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.create_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:12},on:{change:t.useDatetimePicker},model:{value:t._$s(12,"v-model",t.query.create_time),callback:function(e){t.$set(t.query,"create_time",e)},expression:"query.create_time"}})],1)],1),n("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?n("uni-data-select",{attrs:{localdata:t.channelData,label:"\u6e20\u9053\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),n("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[n("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,i,a,r){return[t._$s("20-"+r,"i",e.title)?n("uni-th",{key:t._$s(19,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(21,"f",{forItems:t.tableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(21,"f",{forIndex:a,key:i}),attrs:{_i:"21-"+r}},[t._l(t._$s("22-"+r,"f",{forItems:t.fieldsMap}),(function(i,a,o,s){return[n("uni-td",{key:t._$s("22-"+r,"f",{forIndex:o,keyIndex:0,key:"22-"+r+"-0"+s}),attrs:{align:"center",_i:"23-"+r+"-"+s}},[t._v(t._$s("23-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2),n("view",{staticClass:t._$s(24,"sc","uni-pagination-box"),attrs:{_i:24}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:25},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),n("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:26}},[n("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:27},on:{confirm:t.editName},model:{value:t._$s(27,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),n("fix-window",{attrs:{_i:28}})],1)},r=[]},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},c8be:function(t,e,n){"use strict";n.r(e);var i=n("9246"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},c9b4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",stat:-1},{title:"\u9875\u9762\u540d\u79f0",field:"title",stat:-1},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee\uff1b",value:0},{title:"\u9000\u51fa\u9875\u6b21\u6570",field:"exit_times",tooltip:"\u4f5c\u4e3a\u8bbf\u95ee\u4f1a\u8bdd\u6700\u540e\u4e00\u4e2a\u8bbf\u95ee\u9875\u9762(\u5373\u79bb\u5f00\u9875\uff09\u7684\u6b21\u6570",value:0},{title:"\u9000\u51fa\u7387",field:"exitRate",computed:"exit_times/visit_times",formatter:"%",tooltip:"\u5728\u6b64\u9875\u9762\uff0c\u9009\u62e9\u79bb\u5f00\u5e94\u7528\u5360\u6b64\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",stat:-1},{title:"\u8bbf\u95ee\u603b\u65f6\u957f",field:"duration",disabled:!0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",computed:"duration/visit_times",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_time",computed:"duration/visit_devices",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u8bbf\u95ee\u8bbe\u5907\u6570",value:0},{title:"\u5206\u4eab\u6b21\u6570",field:"share_count",tooltip:"\u9875\u9762\u88ab\u5206\u4eab\u6210\u529f\u7684\u6b21\u6570",value:0}];e.default=i},c9f1:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-pagination"),attrs:{_i:0}},[t._$s(1,"i",!0===t.showPageSize||"true"===t.showPageSize)?n("picker",{staticClass:t._$s(1,"sc","select-picker"),attrs:{value:t._$s(1,"a-value",t.pageSizeIndex),range:t._$s(1,"a-range",t.pageSizeRange),_i:1},on:{change:t.pickerChange,cancel:t.pickerClick},nativeOn:{click:function(e){return t.pickerClick(e)}}},[n("button",{attrs:{_i:2}},[n("text",[t._v(t._$s(3,"t0-0",t._s(t.pageSizeRange[t.pageSizeIndex]))+t._$s(3,"t0-1",t._s(t.piecePerPage)))]),n("uni-icons",{staticClass:t._$s(4,"sc","select-picker-icon"),attrs:{type:"arrowdown",size:"12",color:"#999",_i:4}})],1)]):t._e(),n("view",{staticClass:t._$s(5,"sc","uni-pagination__total is-phone-hide"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.total)))]),n("view",{staticClass:t._$s(6,"sc","uni-pagination__btn"),class:t._$s(6,"c",1===t.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"),attrs:{"hover-class":t._$s(6,"a-hover-class",1===t.currentIndex?"":"uni-pagination--hover"),_i:6},on:{click:t.clickLeft}},[t._$s(7,"i",!0===t.showIcon||"true"===t.showIcon)?[n("uni-icons",{attrs:{color:"#666",size:"16",type:"left",_i:8}})]:[n("text",{staticClass:t._$s(10,"sc","uni-pagination__child-btn"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.prevPageText)))])]],2),n("view",{staticClass:t._$s(11,"sc","uni-pagination__num uni-pagination__num-flex-none"),attrs:{_i:11}},[n("view",{staticClass:t._$s(12,"sc","uni-pagination__num-current"),attrs:{_i:12}},[n("text",{staticClass:t._$s(13,"sc","uni-pagination__num-current-text is-pc-hide"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.currentIndex)))]),n("text",{staticClass:t._$s(14,"sc","uni-pagination__num-current-text is-pc-hide"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.maxPage||0)))]),t._l(t._$s(15,"f",{forItems:t.paper}),(function(e,i,a,r){return n("view",{key:t._$s(15,"f",{forIndex:a,key:i}),staticClass:t._$s("15-"+r,"sc","uni-pagination__num-tag tag--active is-phone-hide"),class:t._$s("15-"+r,"c",{"page--active":e===t.currentIndex}),attrs:{_i:"15-"+r},on:{click:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"top",void 0,n.key,void 0)?null:t.selectPage(e,i)}}},[n("text",[t._v(t._$s("16-"+r,"t0-0",t._s(e)))])])}))],2)]),n("view",{staticClass:t._$s(17,"sc","uni-pagination__btn"),class:t._$s(17,"c",t.currentIndex>=t.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"),attrs:{"hover-class":t._$s(17,"a-hover-class",t.currentIndex===t.maxPage?"":"uni-pagination--hover"),_i:17},on:{click:t.clickRight}},[t._$s(18,"i",!0===t.showIcon||"true"===t.showIcon)?[n("uni-icons",{attrs:{color:"#666",size:"16",type:"right",_i:19}})]:[n("text",{staticClass:t._$s(21,"sc","uni-pagination__child-btn"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.nextPageText)))])]],2)])},r=[]},cae1:function(t,e,n){"use strict";n.r(e);var i=n("fccd"),a=n("2fd6");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},caf4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("2905")),a=o(n("3392")),r=o(n("31d5"));function o(t){return t&&t.__esModule?t:{default:t}}var s={en:i.default,"zh-Hans":a.default,"zh-Hant":r.default};e.default=s},cb1d:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"prxima","uni-pagination.piecePerPage":"Art\ufffd\ufffdculo/P\ufffd\ufffdgina"}')},cb8a:function(t,e,n){"use strict";n.r(e);var i=n("f0ed"),a=n("2d7a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},cbd7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("d475"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return u(t)||l(t)||s(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var d={name:"UniDataPickerView",emits:["nodeclick","change","datachange","update:modelValue"],mixins:[i.default],props:{managedMode:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!0}},data:function(){return{}},created:function(){var t=this;this.managedMode||this.$nextTick((function(){t.load()}))},methods:{onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var t=this;this.isLocaldata?this.loadData():this.dataValue.length&&this.getTreePath((function(e){t.loadData()}))},handleSelect:function(t){this.selectedIndex=t},handleNodeClick:function(t,e,n){var i=this;if(!t.disable){var a=this.dataList[e][n],o=a[this.map.text],s=a[this.map.value];if(e<this.selected.length-1?(this.selected.splice(e,this.selected.length-e),this.selected.push({text:o,value:s})):e===this.selected.length-1&&this.selected.splice(e,1,{text:o,value:s}),a.isleaf)this.onSelectedChange(a,a.isleaf);else{var l=this._updateBindData(),u=l.isleaf,c=l.hasNodes;(this._isTreeView()||c)&&(!this.isLocaldata||c&&!u)?u||c?this.onSelectedChange(a,!1):this._loadNodeData((function(t){var e;t.length?((e=i._treeData).push.apply(e,r(t)),i._updateBindData(a)):a.isleaf=!0;i.onSelectedChange(a,a.isleaf)}),this._nodeWhere()):this.onSelectedChange(a,!0)}}},updateData:function(t){this._treeData=t.treeData,this.selected=t.selected,this._treeData.length?this._updateBindData():this.loadData()},onDataChange:function(){this.$emit("datachange")},onSelectedChange:function(t,e){e&&this._dispatchEvent(),t&&this.$emit("nodeclick",t)},_dispatchEvent:function(){this.$emit("change",this.selected.slice(0))}}};e.default=d},cc66:function(t,e,n){"use strict";n.r(e);var i=n("1e51"),a=n("3fb0");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},cd13:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-datetime-picker"),attrs:{_i:0}},[n("view",{attrs:{_i:1},on:{click:t.initTimePicker}},[t._t("default",[n("view",{staticClass:t._$s(3,"sc","uni-datetime-picker-timebox-pointer"),class:t._$s(3,"c",{"uni-datetime-picker-disabled":t.disabled,"uni-datetime-picker-timebox":t.border}),attrs:{_i:3}},[n("text",{staticClass:t._$s(4,"sc","uni-datetime-picker-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.time)))]),t._$s(5,"i",!t.time)?n("view",{staticClass:t._$s(5,"sc","uni-datetime-picker-time"),attrs:{_i:5}},[n("text",{staticClass:t._$s(6,"sc","uni-datetime-picker-text"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.selectTimeText)))])]):t._e()])],{_i:2})],2),t._$s(7,"i",t.visible)?n("view",{staticClass:t._$s(7,"sc","uni-datetime-picker-mask"),attrs:{id:"mask",_i:7},on:{click:t.tiggerTimePicker}}):t._e(),t._$s(8,"i",t.visible)?n("view",{staticClass:t._$s(8,"sc","uni-datetime-picker-popup"),class:t._$s(8,"c",[t.dateShow&&t.timeShow?"":"fix-nvue-height"]),style:t._$s(8,"s",t.fixNvueBug),attrs:{_i:8}},[n("view",{staticClass:t._$s(9,"sc","uni-title"),attrs:{_i:9}},[n("text",{staticClass:t._$s(10,"sc","uni-datetime-picker-text"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.selectTimeText)))])]),t._$s(11,"i",t.dateShow)?n("view",{staticClass:t._$s(11,"sc","uni-datetime-picker__container-box"),attrs:{_i:11}},[n("picker-view",{staticClass:t._$s(12,"sc","uni-datetime-picker-view"),attrs:{"indicator-style":t._$s(12,"a-indicator-style",t.indicatorStyle),value:t._$s(12,"a-value",t.ymd),_i:12},on:{change:t.bindDateChange}},[n("picker-view-column",t._l(t._$s(14,"f",{forItems:t.years}),(function(e,i,a,r){return n("view",{key:t._$s(14,"f",{forIndex:a,key:i}),staticClass:t._$s("14-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"14-"+r}},[n("text",{staticClass:t._$s("15-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"15-"+r}},[t._v(t._$s("15-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),n("picker-view-column",t._l(t._$s(17,"f",{forItems:t.months}),(function(e,i,a,r){return n("view",{key:t._$s(17,"f",{forIndex:a,key:i}),staticClass:t._$s("17-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"17-"+r}},[n("text",{staticClass:t._$s("18-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"18-"+r}},[t._v(t._$s("18-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),n("picker-view-column",t._l(t._$s(20,"f",{forItems:t.days}),(function(e,i,a,r){return n("view",{key:t._$s(20,"f",{forIndex:a,key:i}),staticClass:t._$s("20-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"20-"+r}},[n("text",{staticClass:t._$s("21-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"21-"+r}},[t._v(t._$s("21-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0)]),n("text",{staticClass:t._$s(22,"sc","uni-datetime-picker-sign sign-left"),attrs:{_i:22}}),n("text",{staticClass:t._$s(23,"sc","uni-datetime-picker-sign sign-right"),attrs:{_i:23}})]):t._e(),t._$s(24,"i",t.timeShow)?n("view",{staticClass:t._$s(24,"sc","uni-datetime-picker__container-box"),attrs:{_i:24}},[n("picker-view",{staticClass:t._$s(25,"sc","uni-datetime-picker-view"),class:t._$s(25,"c",[t.hideSecond?"time-hide-second":""]),attrs:{"indicator-style":t._$s(25,"a-indicator-style",t.indicatorStyle),value:t._$s(25,"a-value",t.hms),_i:25},on:{change:t.bindTimeChange}},[n("picker-view-column",t._l(t._$s(27,"f",{forItems:t.hours}),(function(e,i,a,r){return n("view",{key:t._$s(27,"f",{forIndex:a,key:i}),staticClass:t._$s("27-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"27-"+r}},[n("text",{staticClass:t._$s("28-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),n("picker-view-column",t._l(t._$s(30,"f",{forItems:t.minutes}),(function(e,i,a,r){return n("view",{key:t._$s(30,"f",{forIndex:a,key:i}),staticClass:t._$s("30-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"30-"+r}},[n("text",{staticClass:t._$s("31-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"31-"+r}},[t._v(t._$s("31-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),t._$s(32,"i",!t.hideSecond)?n("picker-view-column",t._l(t._$s(33,"f",{forItems:t.seconds}),(function(e,i,a,r){return n("view",{key:t._$s(33,"f",{forIndex:a,key:i}),staticClass:t._$s("33-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"33-"+r}},[n("text",{staticClass:t._$s("34-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"34-"+r}},[t._v(t._$s("34-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0):t._e()]),n("text",{staticClass:t._$s(35,"sc","uni-datetime-picker-sign"),class:t._$s(35,"c",[t.hideSecond?"sign-center":"sign-left"]),attrs:{_i:35}}),t._$s(36,"i",!t.hideSecond)?n("text",{staticClass:t._$s(36,"sc","uni-datetime-picker-sign sign-right"),attrs:{_i:36}}):t._e()]):t._e(),n("view",{staticClass:t._$s(37,"sc","uni-datetime-picker-btn"),attrs:{_i:37}},[n("view",{attrs:{_i:38},on:{click:t.clearTime}},[n("text",{staticClass:t._$s(39,"sc","uni-datetime-picker-btn-text"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.clearText)))])]),n("view",{staticClass:t._$s(40,"sc","uni-datetime-picker-btn-group"),attrs:{_i:40}},[n("view",{staticClass:t._$s(41,"sc","uni-datetime-picker-cancel"),attrs:{_i:41},on:{click:t.tiggerTimePicker}},[n("text",{staticClass:t._$s(42,"sc","uni-datetime-picker-btn-text"),attrs:{_i:42}},[t._v(t._$s(42,"t0-0",t._s(t.cancelText)))])]),n("view",{attrs:{_i:43},on:{click:t.setTime}},[n("text",{staticClass:t._$s(44,"sc","uni-datetime-picker-btn-text"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.okText)))])])])])]):t._e()])},r=[]},cd9e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("1379"));function a(t){return t&&t.__esModule?t:{default:t}}var r={components:{updatePassword:i.default},data:function(){return{}},onShow:function(){uni.setNavigationBarTitle({title:this.$i18n.t("updatePwd.text.title")})},methods:{}};e.default=r},ce30:function(t,e,n){"use strict";n.r(e);var i=n("9780"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},cfcb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:function(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{width:function(){return 8*String(this.text).length+12},classNames:function(){var t=this.inverted,e=this.type,n=this.size,i=this.absolute;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+n,i?"uni-badge--absolute":""].join(" ")},positionStyle:function(){if(!this.absolute)return{};var t=this.width/2,e=10;this.isDot&&(t=5,e=5);var n="".concat(-t+this.offset[0],"px"),i="".concat(-e+this.offset[1],"px"),a={rightTop:{right:n,top:i},rightBottom:{right:n,bottom:i},leftBottom:{left:n,bottom:i},leftTop:{left:n,top:i}},r=a[this.absolute];return r||a["rightTop"]},badgeWidth:function(){return{width:"".concat(this.width,"px")}},dotStyle:function(){return this.isDot?{width:"10px",height:"10px",borderRadius:"10px"}:{}},displayValue:function(){var t=this.isDot,e=this.text,n=this.maxNum;return t?"":Number(e)>n?"".concat(n,"+"):e}},methods:{onClick:function(){this.$emit("click")}}};e.default=i},cfd9:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniDatetimePicker:n("afb3").default,qiunDataCharts:n("ead8").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex mb-m"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[n("view",{staticClass:t._$s(10,"sc","ml-m label-text hide-on-phone"),attrs:{_i:10}}),n("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":!!t.query.start_time}),attrs:{type:"date",returnType:"timestamp",clearIcon:!1,_i:11},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(12,"sc","dispaly-grid"),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.chartsData}),(function(e,i,a,r){return n("view",{key:t._$s(13,"f",{forIndex:a,key:i}),staticClass:t._$s("13-"+r,"sc","uni-stat--x uni-charts-box1"),attrs:{_i:"13-"+r}},[n("view",{staticClass:t._$s("14-"+r,"sc","label-text"),attrs:{_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(t.chartsData[i].title)))]),n("qiun-data-charts",{attrs:{type:"ring",chartData:t.chartsData[i],echartsH5:!0,echartsApp:!0,_i:"15-"+r}})],1)})),0)]),n("fix-window",{attrs:{_i:16}})],1)},r=[]},d022:function(t,e,n){"use strict";n.r(e);var i=n("dcbe"),a=n("9b14");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},d18a:function(t,e,n){"use strict";n.r(e);var i=n("849b"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},d1e7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading5",data:function(){return{}}};e.default=i},d1ef:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("709c");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l=(s.command,"uni-id-permissions");function u(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var c={data:function(){var t={permission_id:"",permission_name:"",comment:""};return{formData:t,formOptions:{},rules:r({},u(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;s.collection(l).add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,n("a9ff")["default"])},d202:function(t,e,n){"use strict";n.r(e);var i=n("bb3a"),a=n("614d");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},d30f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(t){o(r,i,a,s,l,"next",t)}function l(t){o(r,i,a,s,l,"throw",t)}s(void 0)}))}}var l={name:"uniFormsItem",options:{virtualHost:!0},provide:function(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:function(){return null}},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:function(){return{errMsg:"",isRequired:!1,userRules:null,localLabelAlign:"left",localLabelWidth:"65px",localLabelPos:"left",border:!1,isFirstBorder:!1}},computed:{msg:function(){return this.errorMessage||this.errMsg}},watch:{"form.formRules":function(t){this.init()},"form.labelWidth":function(t){this.localLabelWidth=this._labelWidthUnit(t)},"form.labelPosition":function(t){this.localLabelPos=this._labelPosition()},"form.labelAlign":function(t){}},created:function(){var t=this;this.init(!0),this.name&&this.form&&this.$watch((function(){var e=t.form._getDataValue(t.name,t.form.localData);return e}),(function(e,n){var i=t.form._isEqual(e,n);if(!i){var a=t.itemSetValue(e);t.onFieldChange(a,!1)}}),{immediate:!1})},destroyed:function(){this.__isUnmounted||this.unInit()},methods:{setRules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.userRules=t,this.init(!1)},setValue:function(){},onFieldChange:function(t){var e=arguments,n=this;return s(i.default.mark((function a(){var o,s,l,u,c,d,f,h,p,m,_,g;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=!(e.length>1&&void 0!==e[1])||e[1],s=n.form,l=s.formData,s.localData,u=s.errShowType,c=s.validateCheck,d=s.validateTrigger,f=s._isRequiredField,h=s._realName,p=h(n.name),t||(t=n.form.formData[p]),m=n.itemRules.rules&&n.itemRules.rules.length,n.validator&&m&&0!==m){i.next=7;break}return i.abrupt("return");case 7:if(_=f(n.itemRules.rules||[]),g=null,"bind"!==d&&!o){i.next=18;break}return i.next=12,n.validator.validateUpdate(r({},p,t),l);case 12:g=i.sent,_||void 0!==t&&""!==t||(g=null),g&&g.errorMessage?("undertext"===u&&(n.errMsg=g?g.errorMessage:""),"toast"===u&&uni.showToast({title:g.errorMessage||"\u6821\u9a8c\u9519\u8bef",icon:"none"}),"modal"===u&&uni.showModal({title:"\u63d0\u793a",content:g.errorMessage||"\u6821\u9a8c\u9519\u8bef"})):n.errMsg="",c(g||null),i.next=19;break;case 18:n.errMsg="";case 19:return i.abrupt("return",g||null);case 20:case"end":return i.stop()}}),a)})))()},init:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.form||{},n=e.validator,i=e.formRules,a=e.childrens,r=(e.formData,e.localData),o=e._realName,s=e.labelWidth,l=e._getDataValue;e._setDataValue;if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(s),this.localLabelPos=this._labelPosition(),this.isRequired=this.required,this.form&&t&&a.push(this),n&&i){this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;var u=o(this.name),c=this.userRules||this.rules;"object"===typeof i&&c&&(i[u]={rules:c},n.updateSchema(i));var d=i[u]||{};this.itemRules=d,this.validator=n,this.itemSetValue(l(this.name,r)),this.isRequired=this._isRequired()}},unInit:function(){var t=this;if(this.form){var e=this.form,n=e.childrens,i=e.formData,a=e._realName;n.forEach((function(e,n){e===t&&(t.form.childrens.splice(n,1),delete i[a(e.name)])}))}},itemSetValue:function(t){var e=this.form._realName(this.name),n=this.itemRules.rules||[],i=this.form._getValue(e,t,n);return this.form._setDataValue(e,this.form.formData,i),i},clearValidate:function(){this.errMsg=""},_isRequired:function(){return this.form?this.required||this.form._isRequiredField(this.itemRules.rules||[]):this.required},_justifyContent:function(){if(this.form){var t=this.form.labelAlign,e=this.labelAlign?this.labelAlign:t;if("left"===e)return"flex-start";if("center"===e)return"center";if("right"===e)return"flex-end"}return"flex-start"},_labelWidthUnit:function(t){return this.num2px(this.labelWidth?this.labelWidth:t||(this.label?65:"auto"))},_labelPosition:function(){return this.form&&this.form.labelPosition||"left"},isTrigger:function(t,e,n){return"submit"!==t&&t?"bind":void 0===t?"bind"!==e?e?"submit":""===n?"bind":"submit":"bind":"submit"},num2px:function(t){return"number"===typeof t?"".concat(t,"px"):t}}};e.default=l},d3a0:function(t,e,n){"use strict";n.r(e);var i=n("adeb"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},d3a7:function(t,e,n){"use strict";n.r(e);var i=n("4ee4"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},d3fc:function(t,e,n){"use strict";n.r(e);var i=n("2b1e"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},d43e:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniLink:n("e232").default,uniTag:n("9799").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default,fixWindow:n("d640").default,uniPopup:n("da7a").default,uniDataCheckbox:n("a93f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),n("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),n("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))]),n("button",{staticClass:t._$s(8,"sc","uni-button"),attrs:{disabled:t._$s(8,"a-disabled",!t.selectedIndexs.length),_i:8},on:{click:t.openTagsPopup}})])],1),n("view",{staticClass:t._$s(9,"sc","uni-container"),attrs:{_i:9}},[n("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-users,uni-id-roles",field:"username,mobile,status,email,role{role_name},dcloud_appid,tags,last_login_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:10},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=e.pagination,s=e.loading,l=e.error,u=e.options;return[n("uni-table",{ref:"table",attrs:{loading:s,emptyText:l.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"11-"+a},on:{"selection-change":t.selectionChange}},[n("uni-tr",{attrs:{_i:"12-"+a}},[n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+a},on:{"filter-change":function(e){return t.filterChange(e,"username")},"sort-change":function(e){return t.sortChange(e,"username")}}},[t._v("\u7528\u6237\u540d")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"14-"+a},on:{"filter-change":function(e){return t.filterChange(e,"mobile")},"sort-change":function(e){return t.sortChange(e,"mobile")}}},[t._v("\u624b\u673a\u53f7\u7801")]),n("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":u.filterData.status_localdata,_i:"15-"+a},on:{"filter-change":function(e){return t.filterChange(e,"status")}}},[t._v("\u7528\u6237\u72b6\u6001")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"16-"+a},on:{"filter-change":function(e){return t.filterChange(e,"email")},"sort-change":function(e){return t.sortChange(e,"email")}}},[t._v("\u90ae\u7bb1")]),n("uni-th",{attrs:{align:"center",_i:"17-"+a}},[t._v("\u89d2\u8272")]),n("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":t.tagsData,_i:"18-"+a},on:{"filter-change":function(e){return t.filterChange(e,"tags")}}},[t._v("\u7528\u6237\u6807\u7b7e")]),n("uni-th",{attrs:{align:"center",_i:"19-"+a}},[t._v("\u53ef\u767b\u5f55\u5e94\u7528")]),n("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"20-"+a},on:{"filter-change":function(e){return t.filterChange(e,"last_login_date")},"sort-change":function(e){return t.sortChange(e,"last_login_date")}}},[t._v("\u6700\u540e\u767b\u5f55\u65f6\u95f4")]),n("uni-th",{attrs:{align:"center",_i:"21-"+a}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("22-"+a,"f",{forItems:r}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("22-"+a,"f",{forIndex:o,key:r}),attrs:{_i:"22-"+a+s}},[n("uni-td",{attrs:{align:"center",_i:"23-"+a+s}},[t._v(i._$s("23-"+a+s,"t0-0",t._s(e.username)))]),n("uni-td",{attrs:{align:"center",_i:"24-"+a+s}},[t._v(i._$s("24-"+a+s,"t0-0",t._s(e.mobile)))]),n("uni-td",{attrs:{align:"center",_i:"25-"+a+s}},[t._v(i._$s("25-"+a+s,"t0-0",t._s(u.status_valuetotext[e.status])))]),n("uni-td",{attrs:{align:"center",_i:"26-"+a+s}},[n("uni-link",{attrs:{href:"mailto:"+e.email,text:e.email,_i:"27-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"28-"+a+s}},[t._v(i._$s("28-"+a+s,"t0-0",t._s(e.role)))]),n("uni-td",{attrs:{align:"center",_i:"29-"+a+s}},[t._l(i._$s("30-"+a+"-"+s,"f",{forItems:e.tags}),(function(r,o,l,u){return i._$s("30-"+a+s+"-"+u,"i",e.tags)?[n("uni-tag",{key:i._$s("30-"+a+"-"+s,"f",{forIndex:l,keyIndex:0,key:"30-"+a+"-"+s+"-0"+u}),staticStyle:{margin:"0 5px"},attrs:{type:"primary",inverted:!0,size:"small",text:r,_i:"31-"+a+s+"-"+u}})]:t._e()}))],2),n("uni-td",{attrs:{align:"center",_i:"32-"+a+s}},[i._$s("33-"+a+s,"i",void 0===e.dcloud_appid)?n("uni-link",{attrs:{href:t.noAppidWhatShouldIDoLink,_i:"33-"+a+s}},[t._v("\u672a\u7ed1\u5b9a\u53ef\u767b\u5f55\u5e94\u7528"),n("view",{staticClass:i._$s("34-"+a+s,"sc","uni-icons-help"),attrs:{_i:"34-"+a+s}})]):t._e(),t._v(i._$s("32-"+a+s,"t1-0",t._s(e.dcloud_appid)))],1),n("uni-td",{attrs:{align:"center",_i:"35-"+a+s}},[n("uni-dateformat",{attrs:{threshold:[0,0],date:e.last_login_date,_i:"36-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"37-"+a+s}},[n("view",{staticClass:i._$s("38-"+a+s,"sc","uni-group"),attrs:{_i:"38-"+a+s}},[n("button",{staticClass:i._$s("39-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"39-"+a+s},on:{click:function(n){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("39-"+a+s,"t0-0",t._s(t.$t("common.button.edit"))))]),n("button",{staticClass:i._$s("40-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"40-"+a+s},on:{click:function(n){return t.confirmDelete(e._id)}}},[t._v(i._$s("40-"+a+s,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),n("view",{staticClass:i._$s("41-"+a,"sc","uni-pagination-box"),attrs:{_i:"41-"+a}},[n("uni-pagination",{attrs:{"show-iconn":!0,"show-page-size":!0,"page-size":o.size,total:o.count,_i:"42-"+a},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("42-"+a,"v-model",o.current),callback:function(e){t.$set(o,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),n("fix-window",{attrs:{_i:43}}),n("uni-popup",{ref:"tagsPopup",attrs:{type:"center",_i:44}},[n("view",{staticClass:t._$s(45,"sc","tags-manager--x"),attrs:{_i:45}},[n("view",{staticClass:t._$s(46,"sc","tags-manager--header mb"),attrs:{_i:46}}),n("uni-data-checkbox",{ref:"checkbox",staticClass:t._$s(47,"sc","mb ml"),attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:47},model:{value:t._$s(47,"v-model",t.managerTags),callback:function(e){t.managerTags=e},expression:"managerTags"}}),n("view",{staticClass:t._$s(48,"sc","uni-group"),attrs:{_i:48}},[n("button",{staticClass:t._$s(49,"sc","uni-button"),attrs:{_i:49},on:{click:function(e){return t.managerMultiTag("add")}}}),n("button",{staticClass:t._$s(50,"sc","uni-button"),attrs:{_i:50},on:{click:function(e){return t.managerMultiTag("del")}}})])],1)])],1)},r=[]},d475:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{localdata:{type:[Array,Object],default:function(){return[]}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},manual:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return[]}},modelValue:{type:[Array,String,Number],default:function(){return[]}},preload:{type:Boolean,default:!1},stepSearh:{type:Boolean,default:!0},selfField:{type:String,default:""},parentField:{type:String,default:""},multiple:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},data:function(){return{loading:!1,errorMessage:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},dataList:[],selected:[],selectedIndex:0,page:{current:this.pageCurrent,size:this.pageSize,count:0}}},computed:{isLocaldata:function(){return!this.collection.length},postField:function(){var t=[this.field];return this.parentField&&t.push("".concat(this.parentField," as parent_value")),t.join(",")},dataValue:function(){var t=Array.isArray(this.modelValue)?this.modelValue.length>0:null!==this.modelValue||void 0!==this.modelValue;return t?this.modelValue:this.value},hasValue:function(){return"number"===typeof this.dataValue||null!=this.dataValue&&this.dataValue.length>0}},created:function(){var t=this;this.$watch((function(){var e=[];return["pageCurrent","pageSize","spaceInfo","value","modelValue","localdata","collection","action","field","orderby","where","getont","getcount","gettree"].forEach((function(n){e.push(t[n])})),e}),(function(e,n){for(var i=2;i<e.length;i++)if(e[i]!=n[i]){!0;break}e[0]!=n[0]&&(t.page.current=t.pageCurrent),t.page.size=t.pageSize,t.onPropsChange()})),this._treeData=[]},methods:{onPropsChange:function(){this._treeData=[]},getCommand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.database(this.spaceInfo),i=e.action||this.action;i&&(n=n.action(i));var a=e.collection||this.collection;n=n.collection(a);var r=e.where||this.where;r&&Object.keys(r).length&&(n=n.where(r));var o=e.field||this.field;o&&(n=n.field(o));var s=e.orderby||this.orderby;s&&(n=n.orderBy(s));var l=void 0!==e.pageCurrent?e.pageCurrent:this.page.current,u=void 0!==e.pageSize?e.pageSize:this.page.size,c=void 0!==e.getcount?e.getcount:this.getcount,d=void 0!==e.gettree?e.gettree:this.gettree,f={getCount:c,getTree:d};return e.getTreePath&&(f.getTreePath=e.getTreePath),n=n.skip(u*(l-1)).limit(u).get(f),n},getNodeData:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:this._pathWhere()}).then((function(n){e.loading=!1,e.selected=n.result.data,t&&t()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},getTreePath:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,getTreePath:{startWith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}}).then((function(n){e.loading=!1;var i=[];e._extractTreePath(n.result.data,i),e.selected=i,t&&t()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},loadData:function(){var t=this;this.isLocaldata?this._processLocalData():null==this.dataValue?this.stepSearh?this._loadNodeData((function(e){t._treeData=e,t._updateBindData()})):this._loadAllData((function(e){t._treeData=[],t._extractTree(e,t._treeData,null),t._updateBindData()})):this._loadNodeData((function(e){t._treeData=e,t._updateBindData(),t._updateSelected()}))},_loadAllData:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,gettree:!0,startwith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}).then((function(n){e.loading=!1,t(n.result.data),e.onDataChange()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},_loadNodeData:function(t,e){var n=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:e||this._postWhere(),pageSize:500}).then((function(e){n.loading=!1,t(e.result.data),n.onDataChange()})).catch((function(t){n.loading=!1,n.errorMessage=t})))},_pathWhere:function(){var t=[],e=this._getParentNameByField();return e&&t.push("".concat(e," == '").concat(this.dataValue,"'")),this.where?"(".concat(this.where,") && (").concat(t.join(" || "),")"):t.join(" || ")},_postWhere:function(){var t=[],e=this.selected,n=this.parentField;if(n&&t.push("".concat(n," == null || ").concat(n,' == ""')),e.length)for(var i=0;i<e.length-1;i++)t.push("".concat(n," == '").concat(e[i].value,"'"));var a=[];return this.where&&a.push("(".concat(this.where,")")),t.length&&a.push("(".concat(t.join(" || "),")")),a.join(" && ")},_nodeWhere:function(){var t=[],e=this.selected;return e.length&&t.push("".concat(this.parentField," == '").concat(e[e.length-1].value,"'")),this.where?"(".concat(this.where,") && (").concat(t.join(" || "),")"):t.join(" || ")},_getParentNameByField:function(){for(var t=this.field.split(","),e=null,n=0;n<t.length;n++){var i=t[n].split("as");if(!(i.length<2)&&"value"===i[1].trim()){e=i[0].trim();break}}return e},_isTreeView:function(){return this.parentField&&this.selfField},_updateSelected:function(){for(var t=this.dataList,e=this.selected,n=this.map.text,i=this.map.value,a=0;a<e.length;a++)for(var r=e[a].value,o=t[a],s=0;s<o.length;s++){var l=o[s];if(l[i]===r){e[a].text=l[n];break}}},_updateBindData:function(t){var e=this._filterData(this._treeData,this.selected),n=e.dataList,i=e.hasNodes,a=!1===this._stepSearh&&!i;return t&&(t.isleaf=a),this.dataList=n,this.selectedIndex=n.length-1,!a&&this.selected.length<n.length&&this.selected.push({value:null,text:"\u8bf7\u9009\u62e9"}),{isleaf:a,hasNodes:i}},_filterData:function(t,e){var n=[],i=!0;n.push(t.filter((function(t){return null===t.parent_value||void 0===t.parent_value||""===t.parent_value})));for(var a=0;a<e.length;a++){var r=e[a].value,o=t.filter((function(t){return t.parent_value===r}));o.length?n.push(o):i=!1}return{dataList:n,hasNodes:i}},_extractTree:function(t,e,n){for(var i=this.map.value,a=0;a<t.length;a++){var r=t[a],o={};for(var s in r)"children"!==s&&(o[s]=r[s]);null!==n&&void 0!==n&&""!==n&&(o.parent_value=n),e.push(o);var l=r.children;l&&this._extractTree(l,e,r[i])}},_extractTreePath:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],a={};for(var r in i)"children"!==r&&(a[r]=i[r]);e.push(a);var o=i.children;o&&this._extractTreePath(o,e)}},_findNodePath:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.map.text,a=this.map.value,r=0;r<e.length;r++){var o=e[r],s=o.children,l=o[i],u=o[a];if(n.push({value:u,text:l}),u===t)return n;if(s){var c=this._findNodePath(t,s,n);if(c.length)return c}n.pop()}return[]},_processLocalData:function(){this._treeData=[],this._extractTree(this.localdata,this._treeData);var t=this.dataValue;void 0!==t&&(Array.isArray(t)&&(t=t[t.length-1],"object"===typeof t&&t[this.map.value]&&(t=t[this.map.value])),this.selected=this._findNodePath(t,this.localdata))}}};e.default=n}).call(this,n("a9ff")["default"])},d491:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[n("uni-forms-item",{attrs:{name:"permission_id",label:"\u6743\u9650ID",required:!0,_i:2}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_id,expression:"formData.permission_id"}],staticClass:t._$s(3,"sc","uni-input-border"),attrs:{_i:3},domProps:{value:t._$s(3,"v-model",t.formData.permission_id)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_id",e.target.value)},function(e){return t.binddata("permission_id",e.detail.value)}]}})]),n("uni-forms-item",{attrs:{name:"permission_name",label:"\u6743\u9650\u540d\u79f0",required:!0,_i:4}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_name,expression:"formData.permission_name"}],staticClass:t._$s(5,"sc","uni-input-border"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.formData.permission_name)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_name",e.target.value)},function(e){return t.binddata("permission_name",e.detail.value)}]}})]),n("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:6}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.comment,expression:"formData.comment"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.comment)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"comment",e.target.value)},function(e){return t.binddata("comment",e.detail.value)}]}})]),n("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[n("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}},[t._v(t._$s(9,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},d4f8:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniDataSelect:n("3fc3").default,uniStatTabs:n("1de1").default,uniDatetimePicker:n("afb3").default,uniStatPanel:n("f735").default,qiunDataCharts:n("ead8").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default,uniTd:n("abd8").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","uni-stat--x flex"),attrs:{_i:6}},[n("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),n("uni-data-select",{attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text",orderby:"text asc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",all:!1,mode:"platform-channel",_i:9},on:{change:t.changePlatform},model:{value:t._$s(9,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),n("view",{staticClass:t._$s(10,"sc","flex"),attrs:{_i:10}},[n("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,yesterday:!1,mode:"date",_i:11},on:{change:t.changeTimeRange}}),n("uni-datetime-picker",{staticClass:t._$s(12,"sc","uni-stat-datetime-picker"),class:t._$s(12,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:12},on:{change:t.useDatetimePicker},model:{value:t._$s(12,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),n("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[n("uni-stat-panel",{staticClass:t._$s(14,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:14}}),n("uni-stat-tabs",{staticClass:t._$s(15,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:15},model:{value:t._$s(15,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),n("view",{staticClass:t._$s(16,"sc","uni-charts-box"),attrs:{_i:16}},[n("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:{notMerge:!0},echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",_i:17}})],1)],1),n("view",{staticClass:t._$s(18,"sc","uni-stat--x p-m"),attrs:{_i:18}},[n("view",{staticClass:t._$s(19,"sc","flex-between"),attrs:{_i:19}},[n("view",{staticClass:t._$s(20,"sc","uni-stat-card-header"),attrs:{_i:20}}),n("view",{staticClass:t._$s(21,"sc","uni-group"),attrs:{_i:21}})]),n("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"appid,version,platform,channel,sdk_version,device_id,device_net,device_os,device_os_version,device_vendor,device_model,device_is_root,device_os_name,device_batt_level,device_batt_temp,device_memory_use_size,device_memory_total_size,device_disk_use_size,device_disk_total_size,device_abis,app_count,app_use_memory_size,app_webview_count,app_use_duration,app_run_fore,package_name,package_version,page_url,error_msg,create_time",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,loadtime:"manual",options:t.options,_i:22},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,a){e.data;var r=e.pagination,o=e.loading;e.error,e.options;return[n("uni-table",{ref:"table",staticStyle:{"overflow-y":"scroll"},attrs:{loading:o,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:"23-"+a}},[n("uni-tr",{attrs:{_i:"24-"+a}},[t._l(i._$s("25-"+a,"f",{forItems:t.fieldsMap}),(function(e,r,o,s){return[i._$s("26-"+a+s,"i",e.title)?n("uni-th",{key:i._$s("25-"+a,"f",{forIndex:o,keyIndex:0,key:r}),style:i._$s("26-"+a+s,"s",{minWidth:15*e.title.length+80+"px"}),attrs:{align:"center",_i:"26-"+a+s}},[n("uni-tooltip",{attrs:{_i:"27-"+a+s},scopedSlots:t._u([t._$s("29-"+s,"i",e.tooltip)?{key:"content",fn:function(i,a,r){return[n("view",{staticClass:a._$s("30-"+s+"-"+r,"sc","uni-stat-tooltip-s"),attrs:{_i:"30-"+s+"-"+r}},[t._v(a._$s("30-"+s+"-"+r,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(i._$s("27-"+a+s,"t0-0",t._s(e.title))),i._$s("28-"+a+s,"i",e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"28-"+a+s}}):t._e()],1)],1):t._e()]}))],2),t._l(i._$s("31-"+a,"f",{forItems:t.tableData}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("31-"+a,"f",{forIndex:o,key:r}),attrs:{_i:"31-"+a+s}},[t._l(i._$s("32-"+a+"-"+s,"f",{forItems:t.fieldsMap}),(function(r,o,l,u){return[i._$s("33-"+a+s+"-"+u,"i","error_msg"===r.field)?n("uni-td",{key:i._$s("32-"+a+"-"+s,"f",{forIndex:l,keyIndex:0,key:r.field}),staticStyle:{"min-width":"500px"},attrs:{align:"left",_i:"33-"+a+s+"-"+u}},[n("uni-tooltip",{attrs:{_i:"34-"+a+s+"-"+u},scopedSlots:t._u([t._$s("36-"+s+"-"+u,"i",e.error_msg)?{key:"content",fn:function(i,a,r){return[n("view",{staticClass:a._$s("37-"+s+"-"+u+"-"+r,"sc","uni-stat-tooltip-l"),attrs:{_i:"37-"+s+"-"+u+"-"+r}},[t._v(a._$s("37-"+s+"-"+u+"-"+r,"t0-0",t._s(e.error_msg)))])]}}:null],null,!0)},[t._v(i._$s("34-"+a+s+"-"+u,"t0-0",t._s(e.error_msg?e.error_msg.substring(0,100)+"...":""))),i._$s("35-"+a+s+"-"+u,"i",e.error_msg)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"35-"+a+s+"-"+u}}):t._e()],1)],1):i._$s("38-"+s+"-"+u,"e","create_time"===r.field)?n("uni-td",{key:i._$s("32-"+a+"-"+s,"f",{forIndex:l,keyIndex:-1,key:r.field}),attrs:{align:"center",_i:"38-"+s+"-"+u}},[n("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_time,_i:"39-"+s+"-"+u}})],1):n("uni-td",{key:i._$s("32-"+a+"-"+s,"f",{forIndex:l,keyIndex:-1,key:r.field}),attrs:{align:"center",_i:"40-"+s+"-"+u}},[t._v(i._$s("40-"+s+"-"+u+a,"t0-0",t._s(void 0!==e[r.field]?e[r.field]:"-")))])]}))],2)}))],2),n("view",{staticClass:i._$s("41-"+a,"sc","uni-pagination-box"),attrs:{_i:"41-"+a}},[n("uni-pagination",{attrs:{"show-icon":!0,"page-size":r.size,total:r.count,_i:"42-"+a},on:{change:t.onPageChanged},model:{value:t._$s("42-"+a,"v-model",r.current),callback:function(e){t.$set(r,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)]),n("fix-window",{attrs:{_i:43}})],1)},r=[]},d506:function(t,e,n){"use strict";n.r(e);var i=n("cbd7"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},d536:function(t,e,n){"use strict";n.r(e);var i=n("5d61"),a=n("c8be");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},d640:function(t,e,n){"use strict";n.r(e);var i=n("4d5d"),a=n("64aa");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},d7b6:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("48e3");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database(),l="create_date desc",u=["role_id","role_name","permission.permission_name"],c=20,d=1,f={ascending:"asc",descending:"desc"},h={data:function(){return{query:"",where:"",orderby:l,orderByFieldName:"",selectedIndexs:[],options:r({pageSize:c,pageCurrent:d,filterData:{}},i.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-roles.xls",type:"xls",fields:{"\u552f\u4e00ID":"role_id","\u540d\u79f0":"role_name","\u6743\u9650":"permission","\u5907\u6ce8":"comment",create_date:"create_date"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){for(var e=0;e<t.length;e++){var n=t[e];n.permission=n.permission.map((function(t){return t.permission_name})).join("\u3001"),n.create_date=this.$formatDate(n.create_date)}this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return u.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var n=this;uni.navigateTo({url:t,events:{refreshData:function(){n.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var n=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+f[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){n.$refs.udb.loadData()}))},filterChange:function(t,e){var n=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,i.filterToWhere)(this._filter,s.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){n.$refs.udb.loadData()}))}}};e.default=h}).call(this,n("a9ff")["default"])},d804:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniBreadcrumb:n("7d96").default,uniBreadcrumbItem:n("3afc").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-breadcrumb-x"),attrs:{_i:0}},[n("uni-breadcrumb",{attrs:{separator:"/",_i:1}},t._l(t._$s(2,"f",{forItems:t.routes}),(function(e,i,a,r){return n("uni-breadcrumb-item",{key:t._$s(2,"f",{forIndex:a,key:i}),attrs:{to:e.to&&e.to.path||"",_i:"2-"+r}},[t._v(t._$s("2-"+r,"t0-0",t._s(e.name)))])})),1)],1)},r=[]},d86c:function(t,e,n){"use strict";n.r(e);var i=n("5d9c"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},d98b:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-date"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-date-editor"),attrs:{_i:1},on:{click:t.show}},[t._t("default",[n("view",{staticClass:t._$s(3,"sc","uni-date-editor--x"),class:t._$s(3,"c",{"uni-date-editor--x__disabled":t.disabled,"uni-date-x--border":t.border}),attrs:{_i:3}},[t._$s(4,"i",!t.isRange)?n("view",{staticClass:t._$s(4,"sc","uni-date-x uni-date-single"),attrs:{_i:4}},[n("uni-icons",{attrs:{type:"calendar",color:"#c0c4cc",size:"22",_i:5}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.singleVal,expression:"singleVal"}],staticClass:t._$s(6,"sc","uni-date__x-input"),attrs:{placeholder:t._$s(6,"a-placeholder",t.singlePlaceholderText),_i:6},domProps:{value:t._$s(6,"v-model",t.singleVal)},on:{input:function(e){e.target.composing||(t.singleVal=e.target.value)}}})],1):n("view",{staticClass:t._$s(7,"sc","uni-date-x uni-date-range"),attrs:{_i:7}},[n("uni-icons",{attrs:{type:"calendar",color:"#c0c4cc",size:"22",_i:8}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.range.startDate,expression:"range.startDate"}],staticClass:t._$s(9,"sc","uni-date__x-input t-c"),attrs:{placeholder:t._$s(9,"a-placeholder",t.startPlaceholderText),_i:9},domProps:{value:t._$s(9,"v-model",t.range.startDate)},on:{input:function(e){e.target.composing||t.$set(t.range,"startDate",e.target.value)}}}),t._t("default",[n("view",[t._v(t._$s(11,"t0-0",t._s(t.rangeSeparator)))])],{_i:10}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.range.endDate,expression:"range.endDate"}],staticClass:t._$s(12,"sc","uni-date__x-input t-c"),attrs:{placeholder:t._$s(12,"a-placeholder",t.endPlaceholderText),_i:12},domProps:{value:t._$s(12,"v-model",t.range.endDate)},on:{input:function(e){e.target.composing||t.$set(t.range,"endDate",e.target.value)}}})],2),t._$s(13,"i",t.showClearIcon)?n("view",{staticClass:t._$s(13,"sc","uni-date__icon-clear"),attrs:{_i:13},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[n("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24",_i:14}})],1):t._e()])],{_i:2})],2),n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(15,"v-show",t.popup),expression:"_$s(15,'v-show',popup)"}],staticClass:t._$s(15,"sc","uni-date-mask"),attrs:{_i:15},on:{click:t.close}}),t._$s(16,"i",!t.isPhone)?n("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(16,"v-show",t.popup),expression:"_$s(16,'v-show',popup)"}],ref:"datePicker",staticClass:t._$s(16,"sc","uni-date-picker__container"),attrs:{_i:16}},[t._$s(17,"i",!t.isRange)?n("view",{staticClass:t._$s(17,"sc","uni-date-single--x"),style:t._$s(17,"s",t.popover),attrs:{_i:17}},[n("view",{staticClass:t._$s(18,"sc","uni-popper__arrow"),attrs:{_i:18}}),t._$s(19,"i",t.hasTime)?n("view",{staticClass:t._$s(19,"sc","uni-date-changed popup-x-header"),attrs:{_i:19}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempSingleDate,expression:"tempSingleDate"}],staticClass:t._$s(20,"sc","uni-date__input t-c"),attrs:{placeholder:t._$s(20,"a-placeholder",t.selectDateText),_i:20},domProps:{value:t._$s(20,"v-model",t.tempSingleDate)},on:{input:function(e){e.target.composing||(t.tempSingleDate=e.target.value)}}}),n("time-picker",{attrs:{type:"time",border:!1,disabled:!t.tempSingleDate,start:t.reactStartTime,end:t.reactEndTime,hideSecond:t.hideSecond,_i:21},model:{value:t._$s(21,"v-model",t.time),callback:function(e){t.time=e},expression:"time"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],staticClass:t._$s(22,"sc","uni-date__input t-c"),attrs:{placeholder:t._$s(22,"a-placeholder",t.selectTimeText),disabled:t._$s(22,"a-disabled",!t.tempSingleDate),_i:22},domProps:{value:t._$s(22,"v-model",t.time)},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}})])],1):t._e(),n("calendar",{ref:"pcSingle",attrs:{showMonth:!1,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,date:t.defSingleDate,_i:23},on:{change:t.singleChange}}),t._$s(24,"i",t.hasTime)?n("view",{staticClass:t._$s(24,"sc","popup-x-footer"),attrs:{_i:24}},[n("text",{staticClass:t._$s(25,"sc","confirm"),attrs:{_i:25},on:{click:t.confirmSingleChange}},[t._v(t._$s(25,"t0-0",t._s(t.okText)))])]):t._e(),n("view",{staticClass:t._$s(26,"sc","uni-date-popper__arrow"),attrs:{_i:26}})],1):n("view",{staticClass:t._$s(27,"sc","uni-date-range--x"),style:t._$s(27,"s",t.popover),attrs:{_i:27}},[n("view",{staticClass:t._$s(28,"sc","uni-popper__arrow"),attrs:{_i:28}}),t._$s(29,"i",t.hasTime)?n("view",{staticClass:t._$s(29,"sc","popup-x-header uni-date-changed"),attrs:{_i:29}},[n("view",{staticClass:t._$s(30,"sc","popup-x-header--datetime"),attrs:{_i:30}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.startDate,expression:"tempRange.startDate"}],staticClass:t._$s(31,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(31,"a-placeholder",t.startDateText),_i:31},domProps:{value:t._$s(31,"v-model",t.tempRange.startDate)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"startDate",e.target.value)}}}),n("time-picker",{attrs:{type:"time",start:t.reactStartTime,border:!1,disabled:!t.tempRange.startDate,hideSecond:t.hideSecond,_i:32},model:{value:t._$s(32,"v-model",t.tempRange.startTime),callback:function(e){t.$set(t.tempRange,"startTime",e)},expression:"tempRange.startTime"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.startTime,expression:"tempRange.startTime"}],staticClass:t._$s(33,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(33,"a-placeholder",t.startTimeText),disabled:t._$s(33,"a-disabled",!t.tempRange.startDate),_i:33},domProps:{value:t._$s(33,"v-model",t.tempRange.startTime)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"startTime",e.target.value)}}})])],1),n("uni-icons",{attrs:{type:"arrowthinright",color:"#999",_i:34}}),n("view",{staticClass:t._$s(35,"sc","popup-x-header--datetime"),attrs:{_i:35}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.endDate,expression:"tempRange.endDate"}],staticClass:t._$s(36,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(36,"a-placeholder",t.endDateText),_i:36},domProps:{value:t._$s(36,"v-model",t.tempRange.endDate)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"endDate",e.target.value)}}}),n("time-picker",{attrs:{type:"time",end:t.reactEndTime,border:!1,disabled:!t.tempRange.endDate,hideSecond:t.hideSecond,_i:37},model:{value:t._$s(37,"v-model",t.tempRange.endTime),callback:function(e){t.$set(t.tempRange,"endTime",e)},expression:"tempRange.endTime"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.endTime,expression:"tempRange.endTime"}],staticClass:t._$s(38,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(38,"a-placeholder",t.endTimeText),disabled:t._$s(38,"a-disabled",!t.tempRange.endDate),_i:38},domProps:{value:t._$s(38,"v-model",t.tempRange.endTime)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"endTime",e.target.value)}}})])],1)],1):t._e(),n("view",{staticClass:t._$s(39,"sc","popup-x-body"),attrs:{_i:39}},[n("calendar",{ref:"left",attrs:{showMonth:!1,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,range:!0,pleStatus:t.endMultipleStatus,_i:40},on:{change:t.leftChange,firstEnterCale:t.updateRightCale,monthSwitch:t.leftMonthSwitch}}),n("calendar",{ref:"right",attrs:{showMonth:!1,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,range:!0,pleStatus:t.startMultipleStatus,_i:41},on:{change:t.rightChange,firstEnterCale:t.updateLeftCale,monthSwitch:t.rightMonthSwitch}})],1),t._$s(42,"i",t.hasTime)?n("view",{staticClass:t._$s(42,"sc","popup-x-footer"),attrs:{_i:42}},[n("text",{attrs:{_i:43},on:{click:t.clear}},[t._v(t._$s(43,"t0-0",t._s(t.clearText)))]),n("text",{staticClass:t._$s(44,"sc","confirm"),attrs:{_i:44},on:{click:t.confirmRangeChange}},[t._v(t._$s(44,"t0-0",t._s(t.okText)))])]):t._e()])]):t._e(),n("calendar",{directives:[{name:"show",rawName:"v-show",value:t._$s(45,"v-show",t.isPhone),expression:"_$s(45,'v-show',isPhone)"}],ref:"mobile",attrs:{clearDate:!1,date:t.defSingleDate,defTime:t.reactMobDefTime,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,selectableTimes:t.mobSelectableTime,pleStatus:t.endMultipleStatus,showMonth:!1,range:t.isRange,typeHasTime:t.hasTime,insert:!1,hideSecond:t.hideSecond,_i:45},on:{confirm:t.mobileChange}})],1)},r=[]},d99d:function(t,e,n){"use strict";n.r(e);var i=n("6e46"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},da19:function(t,e,n){"use strict";n.r(e);var i=n("de78"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},da7a:function(t,e,n){"use strict";n.r(e);var i=n("fdb8"),a=n("d3a7");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},dab3:function(t,e,n){"use strict";n.r(e);var i=n("e3cc"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},dad5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniTag",emits:["click"],props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1},customStyle:{type:String,default:""}},computed:{classes:function(){var t=this.type,e=this.disabled,n=this.inverted,i=this.circle,a=this.mark,r=this.size,o=this.isTrue,s=["uni-tag--"+t,"uni-tag--"+r,o(e)?"uni-tag--disabled":"",o(n)?"uni-tag--"+t+"--inverted":"",o(i)?"uni-tag--circle":"",o(a)?"uni-tag--mark":"",o(n)?"uni-tag--inverted uni-tag-text--"+t:"","small"===r?"uni-tag-text--small":""];return s.join(" ")}},methods:{isTrue:function(t){return!0===t||"true"===t},onClick:function(){this.isTrue(this.disabled)||this.$emit("click")}}};e.default=i},db93:function(t,e,n){"use strict";n.r(e);var i=n("1a67"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},dc6c:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[n("uni-forms-item",{attrs:{name:"tagid",label:"\u6807\u7b7etagid",required:!0,_i:2}},[n("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u7684tagid",_i:3},model:{value:t._$s(3,"v-model",t.formData.tagid),callback:function(e){t.$set(t.formData,"tagid",e)},expression:"formData.tagid"}})],1),n("uni-forms-item",{attrs:{name:"name",label:"\u6807\u7b7e\u540d\u79f0",required:!0,_i:4}},[n("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("uni-forms-item",{attrs:{name:"description",label:"\u6807\u7b7e\u63cf\u8ff0",_i:6}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})]),n("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[n("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}}),n("navigator",{},[n("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}})])])],1)],1)},r=[]},dcbe:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,uniNoticeBar:n("0b71").default,uniStatTabs:n("1de1").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[t._$s(6,"i",!t.deviceTableData.length&&!t.userTableData.length&&!t.query.platform_id)?n("uni-notice-bar",{staticClass:t._$s(6,"sc","mb-m pointer"),attrs:{showGetMore:!0,showIcon:!0,text:"\u6682\u65e0\u6570\u636e, \u7edf\u8ba1\u76f8\u5173\u529f\u80fd\u9700\u5f00\u901a uni \u7edf\u8ba1\u540e\u624d\u80fd\u4f7f\u7528, \u5982\u672a\u5f00\u901a, \u70b9\u51fb\u67e5\u770b\u5177\u4f53\u6d41\u7a0b",_i:6},on:{click:function(e){return t.navTo("https://uniapp.dcloud.io/uni-stat-v2.html")}}}):t._e(),n("view",{staticClass:t._$s(7,"sc","uni-stat--x mb-m"),attrs:{_i:7}},[n("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:8},model:{value:t._$s(8,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),n("view",{staticClass:t._$s(9,"sc","uni-stat--x p-m"),attrs:{_i:9}},[n("view",{staticClass:t._$s(10,"sc","uni-stat-card-header"),attrs:{_i:10}}),n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:11}},[n("uni-tr",{attrs:{_i:12}},[t._l(t._$s(13,"f",{forItems:t.deviceTableFields}),(function(e,i,a,r){return[t._$s("14-"+r,"i",e.title)?n("uni-th",{key:t._$s(13,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(15,"f",{forItems:t.deviceTableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(15,"f",{forIndex:a,key:i}),attrs:{_i:"15-"+r}},[t._l(t._$s("16-"+r,"f",{forItems:t.deviceTableFields}),(function(i,a,o,s){return[t._$s("17-"+r+"-"+s,"i","appid"===i.field)?n("uni-td",{key:t._$s("16-"+r,"f",{forIndex:o,keyIndex:0,key:"16-"+r+"-0"+s}),attrs:{align:"center",_i:"17-"+r+"-"+s}},[t._$s("18-"+r+"-"+s,"i",e.appid)?n("view",{staticClass:t._$s("18-"+r+"-"+s,"sc","link-btn-color"),attrs:{_i:"18-"+r+"-"+s},on:{click:function(n){return t.navTo("/pages/uni-stat/device/overview/overview",e.appid)}}},[t._v(t._$s("18-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):n("view",{staticClass:t._$s("19-"+r+"-"+s,"sc","link-btn-color"),attrs:{_i:"19-"+r+"-"+s},on:{click:function(e){return t.navTo("/pages/system/app/add")}}})]):n("uni-td",{key:t._$s("16-"+r,"f",{forIndex:o,keyIndex:-1,key:a}),attrs:{align:"center",_i:"20-"+r+"-"+s}},[t._v(t._$s("20-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2)],1),n("view",{staticClass:t._$s(21,"sc","uni-stat--x p-m"),attrs:{_i:21}},[n("view",{staticClass:t._$s(22,"sc","uni-stat-card-header"),attrs:{_i:22}}),n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:23}},[n("uni-tr",{attrs:{_i:24}},[t._l(t._$s(25,"f",{forItems:t.userTableFields}),(function(e,i,a,r){return[t._$s("26-"+r,"i",e.title)?n("uni-th",{key:t._$s(25,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"26-"+r}},[t._v(t._$s("26-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(27,"f",{forItems:t.userTableData}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(27,"f",{forIndex:a,key:i}),attrs:{_i:"27-"+r}},[t._l(t._$s("28-"+r,"f",{forItems:t.userTableFields}),(function(i,a,o,s){return[t._$s("29-"+r+"-"+s,"i","appid"===i.field)?n("uni-td",{key:t._$s("28-"+r,"f",{forIndex:o,keyIndex:0,key:"28-"+r+"-0"+s}),attrs:{align:"center",_i:"29-"+r+"-"+s}},[t._$s("30-"+r+"-"+s,"i",e.appid)?n("view",{staticClass:t._$s("30-"+r+"-"+s,"sc","link-btn-color"),attrs:{_i:"30-"+r+"-"+s},on:{click:function(n){return t.navTo("/pages/uni-stat/user/overview/overview",e.appid)}}},[t._v(t._$s("30-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):n("view",{staticClass:t._$s("31-"+r+"-"+s,"sc","link-btn-color"),attrs:{_i:"31-"+r+"-"+s},on:{click:function(e){return t.navTo("/pages/system/app/add")}}})]):n("uni-td",{key:t._$s("28-"+r,"f",{forIndex:o,keyIndex:-1,key:a}),attrs:{align:"center",_i:"32-"+r+"-"+s}},[t._v(t._$s("32-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))])]}))],2)}))],2)],1)],1),n("fix-window",{attrs:{_i:33}})],1)},r=[]},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},ddf9:function(t,e,n){"use strict";n.r(e);var i=n("2a37"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},de78:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t.database();var n="uni-id-log, uni-id-users",i="create_date",a=["user_id.username","type","ip"],r=20,o=1,s={data:function(){return{query:"",where:"",orderby:i,collectionName:n,options:{pageSize:r,pageCurrent:o}}},methods:{getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return a.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this.getWhere(),e=t===this.where;this.where=t,e&&this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.$refs.udb.loadData({current:t.current})},navigateTo:function(t){var e=this;uni.navigateTo({url:t,events:{refreshData:function(){e.loadData()}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){this.$refs.udb.remove(this.selectedItems())},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){this.$refs.udb.remove(t)}}};e.default=s}).call(this,n("a9ff")["default"])},de8c:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniStatBreadcrumb:n("7382").default,unicloudDb:n("960d").default,uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTd:n("abd8").default,uniDateformat:n("6c10").default,uniPagination:n("2101").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),n("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),n("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),n("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[n("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-roles,uni-id-permissions",field:"role_id,role_name,permission{permission_name},comment,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,i,a){var r=e.data,o=e.pagination,s=e.loading,l=e.error;e.options;return[n("uni-table",{ref:"table",attrs:{loading:s,emptyText:l.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+a},on:{"selection-change":t.selectionChange}},[n("uni-tr",{attrs:{_i:"11-"+a}},[n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+a},on:{"filter-change":function(e){return t.filterChange(e,"role_id")},"sort-change":function(e){return t.sortChange(e,"role_id")}}},[t._v("\u552f\u4e00ID")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+a},on:{"filter-change":function(e){return t.filterChange(e,"role_name")},"sort-change":function(e){return t.sortChange(e,"role_name")}}},[t._v("\u540d\u79f0")]),n("uni-th",{attrs:{align:"center",_i:"14-"+a}},[t._v("\u6743\u9650")]),n("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+a},on:{"filter-change":function(e){return t.filterChange(e,"comment")},"sort-change":function(e){return t.sortChange(e,"comment")}}},[t._v("\u5907\u6ce8")]),n("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"16-"+a},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),n("uni-th",{attrs:{align:"center",_i:"17-"+a}},[t._v("\u64cd\u4f5c")])],1),t._l(i._$s("18-"+a,"f",{forItems:r}),(function(e,r,o,s){return n("uni-tr",{key:i._$s("18-"+a,"f",{forIndex:o,key:r}),attrs:{_i:"18-"+a+s}},[n("uni-td",{attrs:{align:"center",_i:"19-"+a+s}},[t._v(i._$s("19-"+a+s,"t0-0",t._s(e.role_id)))]),n("uni-td",{attrs:{align:"center",_i:"20-"+a+s}},[t._v(i._$s("20-"+a+s,"t0-0",t._s(e.role_name)))]),n("uni-td",{attrs:{align:"center",_i:"21-"+a+s}},[t._v(i._$s("21-"+a+s,"t0-0",t._s(e.permission)))]),n("uni-td",{attrs:{align:"center",_i:"22-"+a+s}},[t._v(i._$s("22-"+a+s,"t0-0",t._s(e.comment)))]),n("uni-td",{attrs:{align:"center",_i:"23-"+a+s}},[n("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"24-"+a+s}})],1),n("uni-td",{attrs:{align:"center",_i:"25-"+a+s}},[n("view",{staticClass:i._$s("26-"+a+s,"sc","uni-group"),attrs:{_i:"26-"+a+s}},[n("button",{staticClass:i._$s("27-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"27-"+a+s},on:{click:function(n){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(i._$s("27-"+a+s,"t0-0",t._s(t.$t("common.button.edit"))))]),n("button",{staticClass:i._$s("28-"+a+s,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"28-"+a+s},on:{click:function(n){return t.confirmDelete(e._id)}}},[t._v(i._$s("28-"+a+s,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),n("view",{staticClass:i._$s("29-"+a,"sc","uni-pagination-box"),attrs:{_i:"29-"+a}},[n("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":o.size,total:o.count,_i:"30-"+a},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("30-"+a,"v-model",o.current),callback:function(e){t.$set(o,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),n("fix-window",{attrs:{_i:31}})],1)},r=[]},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var a=t[i];"."===a?t.splice(i,1):".."===a?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t){"string"!==typeof t&&(t+="");var e,n=0,i=-1,a=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!a){n=e+1;break}}else-1===i&&(a=!1,i=e+1);return-1===i?"":t.slice(n,i)}function a(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var o=r>=0?arguments[r]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return e=n(a(e.split("/"),(function(t){return!!t})),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===r(t,-1);return t=n(a(t.split("/"),(function(t){return!!t})),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(a(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var a=i(t.split("/")),r=i(n.split("/")),o=Math.min(a.length,r.length),s=o,l=0;l<o;l++)if(a[l]!==r[l]){s=l;break}var u=[];for(l=s;l<a.length;l++)u.push("..");return u=u.concat(r.slice(s)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,a=!0,r=t.length-1;r>=1;--r)if(e=t.charCodeAt(r),47===e){if(!a){i=r;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=i(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,i=-1,a=!0,r=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(47!==s)-1===i&&(a=!1,i=o+1),46===s?-1===e?e=o:1!==r&&(r=1):-1!==e&&(r=-1);else if(!a){n=o+1;break}}return-1===e||-1===i||0===r||1===r&&e===i-1&&e===n+1?"":t.slice(e,i)};var r="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},dfa4:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.icons.title"))))]),n("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.$t("demo.icons.describle"))))])])]),n("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[n("view",{staticClass:t._$s(6,"sc","icons"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.icons}),(function(e,i,a,r){return n("view",{key:t._$s(7,"f",{forIndex:a,key:i}),staticClass:t._$s("7-"+r,"sc","icon-item pointer"),attrs:{_i:"7-"+r}},[n("view",{class:t._$s("8-"+r,"c","uni-icons-"+e),attrs:{_i:"8-"+r},on:{click:function(n){return t.setClipboardData("tag",e)}}}),n("text",{staticClass:t._$s("9-"+r,"sc","icon-text"),attrs:{_i:"9-"+r},on:{click:function(n){return t.setClipboardData("class",e)}}},[t._v(t._$s("9-"+r,"t0-0",t._s(e)))])])})),0)]),t._$s(10,"i",t.fixWindow)?n("fix-window",{attrs:{_i:10}}):t._e()],1)},r=[]},dfe9:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("163a"));function r(t){return t&&t.__esModule?t:{default:t}}var o=t.database(),s=(o.command,"opendb-app-list");function l(t){for(var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",i=0;i<t;i++)n+=e[Math.floor(26*Math.random())];return n}var u={mixins:[a.default],data:function(){return{mpExtra:" ",mpAccordionStatus:1,labelWidth:"80px"}},onLoad:function(t){var e=this;t.id?(this.isEdit=!0,this.setFormData("appid",t.id),this.getDetail(t.id)):this.$watch("formData.name",(function(t){e.platFormKeys.forEach((function(n){e.setFormData("".concat(n,".name"),t)}))}))},onReady:function(){this.mpExtra="\u6298\u53e0"},methods:{resolvestableVersionStoreList:function(){var t=this,e={},n=[];return this.formData.store_list.forEach((function(t,i){n.push(t.id),e[t.id]=i})),this.fetchAppInfo(this.getFormData("appid"),"Android").then((function(i){if(i.success){if(i.store_list){var a={},r=[];i.store_list.forEach((function(t,e){r.push(t.id),a[t.id]=e})),n.forEach((function(n,o){var s=t.formData.store_list[e[n]];-1===r.indexOf(n)?i.store_list.push(s):(i.store_list[a[n]].name=s.name,i.store_list[a[n]].scheme=s.scheme)}));for(var o=0;o<i.store_list.length;o++){var s=i.store_list[o].id;-1!==t.deletedStore.indexOf(s)&&-1===n.indexOf(s)&&(i.store_list.splice(o,1),o--)}}else i.store_list=t.formData.store_list;return t.updateAppVersion(i._id,{store_list:i.store_list})}}))},updateAppVersion:function(t,e){return o.collection("opendb-app-versions").doc(t).update(e)},submit:function(){var t=this;uni.showLoading({mask:!0}),this.formatFormData(),this.$refs.form.validate(this.keepItems).then((function(e){return t.submitForm(e)})).catch((function(t){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;(this.isEdit?this.requestCloudFunction("setNewAppData",{id:this.formDataId,value:t}):o.collection(s).add(t)).then((function(t){if(e.isEdit)return e.resolvestableVersionStoreList()})).then((function(){uni.showToast({title:"".concat(e.isEdit?"\u66f4\u65b0":"\u65b0\u589e","\u6210\u529f")}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),o.collection(s).where({appid:t}).get().then((function(t){var n=t.result.data[0];n?(e.formDataId=n._id,e.initFormData(n)):(e.autoFill(),e.autoFillApp())})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},mpAccordion:function(){this.mpAccordionStatus?(this.mpExtra="\u5c55\u5f00",this.mpAccordionStatus=0):(this.mpExtra="\u6298\u53e0",this.mpAccordionStatus=1)},addStoreScheme:function(){this.formData.store_list.push({enable:!1,priority:0,id:l(5)+"_"+Date.now()})},deleteStore:function(t,e){var n=this;e.scheme&&e.scheme.trim().length&&this.isEdit?uni.showModal({content:"\u662f\u5426\u540c\u6b65\u5220\u9664\u7ebf\u4e0a\u7248\u672c\u6b64\u6761\u5546\u5e97\u8bb0\u5f55\uff1f",success:function(e){var i=n.formData.store_list.splice(t,1)[0];i&&e.confirm&&n.deletedStore.push(i.id)}}):this.formData.store_list.splice(t,1)[0]},schemeDemo:function(){$refs.scheme.open("center")}}};e.default=u}).call(this,n("a9ff")["default"],n("0de9")["default"])},e040:function(t,e,n){"use strict";n.r(e);var i=n("f1b5"),a=n("8887");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},e065:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u786e\u5b9a","uni-popup.placeholder":"\u8bf7\u8f93\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},e0e4:function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},e0fb:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"pr\xe9c\xe9dente","uni-pagination.nextText":"suivante","uni-pagination.piecePerPage":"Articles/Pages"}')},e141:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","login-box"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}})])]),n("view",{staticClass:t._$s(4,"sc","uni-container"),attrs:{_i:4}},[n("uni-forms",{ref:"form",attrs:{validateTrigger:"bind",rules:t.rules,_i:5},on:{submit:t.submit}},[n("uni-forms-item",{attrs:{"left-icon":"person",name:"username",labelWidth:"35",_i:6}},[n("input",{ref:"usernameInput",staticClass:t._$s(7,"sc","uni-input-border"),attrs:{_i:7},on:{blur:function(e){return t.binddata("username",e.detail.value)}}})]),n("uni-forms-item",{attrs:{"left-icon":"locked",name:"password",labelWidth:"35",_i:8}},[n("input",{staticClass:t._$s(9,"sc","uni-input-border"),attrs:{password:t._$s(9,"a-password",t.showPassword),_i:9},on:{blur:function(e){return t.binddata("password",e.detail.value)}}}),n("text",{staticClass:t._$s(10,"sc","uni-icon-password-eye pointer"),class:t._$s(10,"c",[t.showPassword?"":"uni-eye-active"]),attrs:{_i:10},on:{click:t.changePassword}})]),n("uni-forms-item",{attrs:{"left-icon":"locked",name:"passwordConfirmation",labelWidth:"35",errorMessage:t.errorMessage,_i:11}},[n("input",{ref:"passwordInput",staticClass:t._$s(12,"sc","uni-input-border"),attrs:{password:t._$s(12,"a-password",t.showPasswordAgain),_i:12},on:{confirm:function(e){return t.confirmForm("passwordConfirmation",e.detail.value)},blur:function(e){return t.binddata("passwordConfirmation",e.detail.value)}}}),n("text",{staticClass:t._$s(13,"sc","uni-icon-password-eye pointer"),class:t._$s(13,"c",[t.showPasswordAgain?"":"uni-eye-active"]),attrs:{_i:13},on:{click:t.changePasswordAgain}})]),n("view",{staticClass:t._$s(14,"sc","uni-group"),attrs:{_i:14}},[n("button",{staticClass:t._$s(15,"sc","uni-button"),attrs:{loading:t._$s(15,"a-loading",t.loading),disabled:t._$s(15,"a-disabled",t.loading),_i:15},on:{click:t.submitForm}}),n("button",{staticClass:t._$s(16,"sc","uni-button"),attrs:{_i:16},on:{click:t.back}})])],1)],1),n("fix-window",{attrs:{_i:17}})],1)},r=[]},e18f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={name:"uni-stat-breadcrumb",data:function(){return{}},computed:r({},(0,i.mapState)("app",["routes"]))};e.default=s},e209:function(t,e,n){"use strict";n.r(e);var i=n("2915"),a=n("343f");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},e22c:function(t,e,n){"use strict";n.r(e);var i=n("1078");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);var r,o,s,l,u=n("f0c5"),c=Object(u["a"])(i["default"],r,o,!1,null,null,null,!1,s,l);e["default"]=c.exports},e232:function(t,e,n){"use strict";n.r(e);var i=n("02f5"),a=n("581c");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},e364:function(t,e,n){"use strict";n.r(e);var i=n("d1e7"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},e3cc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("f1ab"));function a(t){return t&&t.__esModule?t:{default:t}}var r={name:"uniTr",components:{tableCheckbox:i.default},props:{disabled:{type:Boolean,default:!1},keyValue:{type:[String,Number],default:""}},options:{virtualHost:!0},data:function(){return{value:!1,border:!1,selection:!1,widthThArr:[],ishead:!0,checked:!1,indeterminate:!1}},created:function(){var t=this;this.root=this.getTable(),this.head=this.getTable("uniThead"),this.head&&(this.ishead=!1,this.head.init(this)),this.border=this.root.border,this.selection=this.root.type,this.root.trChildren.push(this);var e=this.root.data.find((function(e){return e[t.root.rowKey]===t.keyValue}));e&&(this.rowData=e),this.root.isNodata()},mounted:function(){if(this.widthThArr.length>0){var t="selection"===this.selection?50:0;this.root.minWidth=this.widthThArr.reduce((function(t,e){return Number(t)+Number(e)}))+t}},destroyed:function(){var t=this,e=this.root.trChildren.findIndex((function(e){return e===t}));this.root.trChildren.splice(e,1),this.root.isNodata()},methods:{minWidthUpdate:function(t){this.widthThArr.push(t)},checkboxSelected:function(t){var e=this,n=this.root.data.find((function(t){return t[e.root.rowKey]===e.keyValue}));this.checked=t.checked,this.root.check(n||this,t.checked,n?this.keyValue:null)},change:function(t){var e=this;this.root.trChildren.forEach((function(n){n===e&&e.root.check(e,t.detail.value.length>0)}))},getTable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniTable",e=this.$parent,n=e.$options.name;while(n!==t){if(e=e.$parent,!e)return!1;n=e.$options.name}return e}}};e.default=r},e412:function(t,e,n){"use strict";n.r(e);var i=n("f9d8"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},e471:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading3",data:function(){return{}}};e.default=i},e55d:function(t,e,n){"use strict";n.r(e);var i=n("aa64"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},e5ca:function(t,e,n){"use strict";n.r(e);var i=n("15d0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},e5ed:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"\u4e0a\u4e00\u9875","uni-pagination.nextText":"\u4e0b\u4e00\u9875","uni-pagination.piecePerPage":"\u6761/\u9875"}')},e68f:function(t,e,n){"use strict";n.r(e);var i=n("790c"),a=n("da19");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},e6ed:function(t,e,n){"use strict";function i(t,e){return o(t)||r(t,e)||l(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function o(t){if(Array.isArray(t))return t}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.filterToWhere=d,e.mpPlatform=e.validator=e.enumConverter=void 0;var c={appid:{rules:[{required:!0},{format:"string"}],label:"AppID"},name:{rules:[{required:!0},{format:"string"}],label:"\u5e94\u7528\u540d\u79f0"},icon_url:{rules:[{format:"string"}],label:"\u5e94\u7528\u56fe\u6807"},introduction:{rules:[{format:"string"}],label:"\u5e94\u7528\u7b80\u4ecb"},description:{rules:[{format:"string"}],label:"\u5e94\u7528\u63cf\u8ff0"},screenshot:{rules:[{format:"array"}],label:"\u5e94\u7528\u622a\u56fe"},create_date:{rules:[{format:"timestamp"}],label:"\u53d1\u884c\u65f6\u95f4"}};function d(t,e){var n={};for(var a in t){var r=t[a],o=r.type,l=r.value;switch(o){case"search":"string"===typeof l&&l.length&&(n[a]=new RegExp(l));break;case"select":if(l.length){var u,c=[],d=s(l);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.push(e.eq(f))}}catch($){d.e($)}finally{d.f()}n[a]=e.or(c)}break;case"range":if(l.length){var h=l[0],p=l[1];n[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(l.length){var m=i(l,2),_=m[0],g=m[1],v=new Date(_),y=new Date(g);n[a]=e.and([e.gte(v),e.lte(y)])}break;case"timestamp":if(l.length){var b=i(l,2),x=b[0],w=b[1];n[a]=e.and([e.gte(x),e.lte(w)])}break}}return n}e.validator=c;var f={};e.enumConverter=f;var h={mp_weixin:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f",mp_alipay:"\u652f\u4ed8\u5b9d\u5c0f\u7a0b\u5e8f",mp_baidu:"\u767e\u5ea6\u5c0f\u7a0b\u5e8f",mp_toutiao:"\u5b57\u8282\u5c0f\u7a0b\u5e8f",mp_qq:"QQ\u5c0f\u7a0b\u5e8f",mp_dingtalk:"\u9489\u9489\u5c0f\u7a0b\u5e8f",mp_kuaishou:"\u5feb\u624b\u5c0f\u7a0b\u5e8f",mp_lark:"\u98de\u4e66\u5c0f\u7a0b\u5e8f",mp_jd:"\u4eac\u4e1c\u5c0f\u7a0b\u5e8f",quickapp:"\u5feb\u5e94\u7528"};e.mpPlatform=h},e810:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniTable:n("c830").default,uniTr:n("2625").default,uniTh:n("f27d").default,uniTooltip:n("a6f0").default,uniIcons:n("bb8e").default,uniTd:n("abd8").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:0}},[n("uni-tr",{attrs:{_i:1}},[t._l(t._$s(2,"f",{forItems:t.filedsMap}),(function(e,i,a,r){return[t._$s("3-"+r,"i",e.title)?n("uni-th",{key:t._$s(2,"f",{forIndex:a,keyIndex:0,key:i}),attrs:{align:"center",_i:"3-"+r}},[n("uni-tooltip",{attrs:{_i:"4-"+r},scopedSlots:t._u([t._$s("6-"+r,"i",t.tooltip&&e.tooltip)?{key:"content",fn:function(i,a,o){return[n("view",{staticClass:a._$s("7-"+r+"-"+o,"sc","uni-stat-tooltip-s"),attrs:{_i:"7-"+r+"-"+o}},[t._v(a._$s("7-"+r+"-"+o,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("4-"+r,"t0-0",t._s(e.title))),t._$s("5-"+r,"i",t.tooltip&&e.tooltip)?n("uni-icons",{attrs:{type:"help",color:"#666",_i:"5-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(8,"f",{forItems:t.data}),(function(e,i,a,r){return n("uni-tr",{key:t._$s(8,"f",{forIndex:a,key:i}),attrs:{_i:"8-"+r}},[t._l(t._$s("9-"+r,"f",{forItems:t.filedsMap}),(function(i,a,o,s){return[t._$s("10-"+r+"-"+s,"i",i.title)?n("uni-td",{key:t._$s("9-"+r,"f",{forIndex:o,keyIndex:0,key:a}),attrs:{align:"center",_i:"10-"+r+"-"+s}},[t._v(t._$s("10-"+r+"-"+s,"t0-0",t._s(void 0!==e[i.field]?e[i.field]:"-")))]):t._e()]}))],2)}))],2)},r=[]},e82e:function(t,e,n){"use strict";n.r(e);var i=n("8c58"),a=n("f118");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},e86f:function(t,e,n){"use strict";n.r(e);var i=n("4c87"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},e87e:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-stat__select"),attrs:{_i:0}},[t._$s(1,"i",t.label)?n("span",{staticClass:t._$s(1,"sc","uni-label-text hide-on-phone"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.label+"\uff1a")))]):t._e(),n("view",{staticClass:t._$s(2,"sc","uni-select"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","uni-select__input-box"),attrs:{_i:3},on:{click:t.toggleSelector}},[t._$s(4,"i",t.current)?n("view",{staticClass:t._$s(4,"sc","uni-select__input-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.current)))]):n("view",{staticClass:t._$s(5,"sc","uni-select__input-text uni-select__input-placeholder"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.typePlaceholder)))]),t._$s(6,"i",t.current&&t.clear)?n("uni-icons",{attrs:{type:"clear",color:"#e1e1e1",size:"18",_i:6},on:{click:t.clearVal}}):n("uni-icons",{attrs:{type:t.showSelector?"top":"bottom",size:"14",color:"#999",_i:7}})],1),t._$s(8,"i",t.showSelector)?n("view",{staticClass:t._$s(8,"sc","uni-select--mask"),attrs:{_i:8},on:{click:t.toggleSelector}}):t._e(),t._$s(9,"i",t.showSelector)?n("view",{staticClass:t._$s(9,"sc","uni-select__selector"),attrs:{_i:9}},[n("view",{staticClass:t._$s(10,"sc","uni-popper__arrow"),attrs:{_i:10}}),n("scroll-view",{staticClass:t._$s(11,"sc","uni-select__selector-scroll"),attrs:{_i:11}},[t._$s(12,"i",0===t.mixinDatacomResData.length)?n("view",{staticClass:t._$s(12,"sc","uni-select__selector-empty"),attrs:{_i:12}},[n("text",[t._v(t._$s(13,"t0-0",t._s(t.emptyTips)))])]):t._l(t._$s(14,"f",{forItems:t.mixinDatacomResData}),(function(e,i,a,r){return n("view",{key:t._$s(14,"f",{forIndex:a,key:i}),staticClass:t._$s("14-"+r,"sc","uni-select__selector-item"),attrs:{_i:"14-"+r},on:{click:function(n){return t.change(e)}}},[n("text",{class:t._$s("15-"+r,"c",{"uni-select__selector__disabled":e.disable}),attrs:{_i:"15-"+r}},[t._v(t._$s("15-"+r,"t0-0",t._s(t.formatItemName(e))))])])}))],2)]):t._e()])])},r=[]},e99b:function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.chooseAndUploadFile=d,e.uploadCloudFiles=u;var i="chooseAndUploadFile:ok",a="chooseAndUploadFile:fail";function r(t){var e=t.count,n=t.sizeType,i=void 0===n?["original","compressed"]:n,r=t.sourceType,o=void 0===r?["album","camera"]:r,s=t.extension;return new Promise((function(t,n){uni.chooseImage({count:e,sizeType:i,sourceType:o,extension:s,success:function(e){t(l(e,"image"))},fail:function(t){n({errMsg:t.errMsg.replace("chooseImage:fail",a)})}})}))}function o(t){var e=t.camera,n=t.compressed,i=t.maxDuration,r=t.sourceType,o=void 0===r?["album","camera"]:r,s=t.extension;return new Promise((function(t,r){uni.chooseVideo({camera:e,compressed:n,maxDuration:i,sourceType:o,extension:s,success:function(e){var n=e.tempFilePath,i=e.duration,a=e.size,r=e.height,o=e.width;t(l({errMsg:"chooseVideo:ok",tempFilePaths:[n],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:n,size:a,type:e.tempFile&&e.tempFile.type||"",width:o,height:r,duration:i,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){r({errMsg:t.errMsg.replace("chooseVideo:fail",a)})}})}))}function s(e){var n=e.count,i=e.extension;return new Promise((function(e,r){var o=uni.chooseFile;if("undefined"!==typeof t&&"function"===typeof t.chooseMessageFile&&(o=t.chooseMessageFile),"function"!==typeof o)return r({errMsg:a+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});o({type:"all",count:n,extension:i,success:function(t){e(l(t))},fail:function(t){r({errMsg:t.errMsg.replace("chooseFile:fail",a)})}})}))}function l(t,e){return t.tempFiles.forEach((function(t,n){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+n+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2?arguments[2]:void 0;t=JSON.parse(JSON.stringify(t));var a=t.length,r=0,o=this;return new Promise((function(s){while(r<e)l();function l(){var e=r++;if(e>=a)!t.find((function(t){return!t.url&&!t.errMsg}))&&s(t);else{var u=t[e],c=o.files.findIndex((function(t){return t.uuid===u.uuid}));u.url="",delete u.errMsg,n.uploadFile({filePath:u.path,cloudPath:u.cloudPath,fileType:u.fileType,onUploadProgress:function(t){t.index=c,i&&i(t)}}).then((function(t){u.url=t.fileID,u.index=c,e<a&&l()})).catch((function(t){u.errMsg=t.errMsg||t.message,u.index=c,e<a&&l()}))}}}))}function c(t,e){var n=e.onChooseFile;e.onUploadProgress;return t.then((function(t){if(n){var e=n(t);if("undefined"!==typeof e)return Promise.resolve(e).then((function(e){return"undefined"===typeof e?t:e}))}return t})).then((function(t){return!1===t?{errMsg:i,tempFilePaths:[],tempFiles:[]}:t}))}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===t.type?c(r(t),t):"video"===t.type?c(o(t),t):c(s(t),t)}}).call(this,n("fe07")["default"],n("a9ff")["default"])},ea44:function(t,e,n){"use strict";n.r(e);var i=n("f913"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},ea83:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("ebe1"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{fieldsMap:r.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:r.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_device_count"}},computed:{chartTabs:function(){var t=[];return r.default.forEach((function(e){var n=e.field,i=e.title,a=e.hasOwnProperty("value");n&&i&&a&&t.push({_id:n,name:i})})),t},queryStr:function(){return(0,a.stringifyQuery)(this.query,!0)},dimension:function(){return(0,a.maxDeltaDay)(this.query.start_time,1)?"hour":"day"},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData()}))},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,n,i){this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.queryStr)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.queryStr)},changeChartTab:function(t,e,n){this.getChartData(this.queryStr,t,n)},getAllData:function(t){this.getPanelData(t),this.getChartData(t),this.getTabelData(t)},getChartData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTab;this.options.pageCurrent;t=JSON.parse(JSON.stringify(this.query)),t.dimension="day";var o=(0,a.stringifyQuery)(t,!1,["uni_platform"]),l=i.database();l.collection("uni-stat-result").where(o).field("".concat((0,a.stringifyField)(r.default,n),",start_time,channel_id")).groupBy("channel_id,start_time").groupField((0,a.stringifyGroupField)(r.default,n)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var i=t.result,o=(i.count,i.data),l={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},u=l.categories;if("hour"===e.dimension)for(var c=0;c<24;++c){var d=c<10?"0"+c:c,f="".concat(d,":00 ~ ").concat(d,":59");u.push(f)}var h=[];o.forEach((function(t){h.indexOf(t.channel_id)<0&&h.push(t.channel_id)}));var p=[];e.getChannels().then((function(t){p=t.result.data})).finally((function(){h.forEach((function(t,i){var c=p.find((function(e){return e._id===t})),d=l.series[i]={name:c&&c.channel_name||"\u672a\u77e5",data:[]};if("hour"===e.dimension)for(var f=0;f<24;++f)d.data[f]=0;var h=r.default.filter((function(t){return t.field===n}));h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="";var m,_=s(o);try{for(_.s();!(m=_.n()).done;){var g=m.value;(0,a.mapfields)(h,g,g);var v=g.start_time,y=(0,a.formatDate)(v,e.dimension),b=g[n],x=u.indexOf(y);t===g.channel_id&&(x<0?(u.push(y),d.data.push(b)):d.data[x]=b)}}catch(w){_.e(w)}finally{_.f()}})),e.chartData=l}))})).catch((function(t){})).finally((function(){e.loading=!1}))},getChannels:function(){var t=i.database();return t.collection("uni-stat-app-channels").get()},getTabelData:function(t){var e=this,n=this.options.pageCurrent;this.loading=!0;var o=(0,a.stringifyQuery)(this.query,!1,["uni_platform"]),l=i.database();l.collection("uni-stat-result").where(o).field("".concat((0,a.stringifyField)(r.default),",appid, channel_id")).groupBy("appid, channel_id").groupField((0,a.stringifyGroupField)(r.default)).orderBy("new_device_count","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var n=t.result,i=n.count,o=n.data;e.getChannels().then((function(t){var e,n=t.result.data,i=s(o);try{var a=function(){var t=e.value;n.forEach((function(e){t.channel_id===e._id&&(t.channel_code=e.channel_code,t.channel_name=e.channel_name)}))};for(i.s();!(e=i.n()).done;)a()}catch(r){i.e(r)}finally{i.f()}})).finally((function(){var t,n=s(o);try{for(n.s();!(t=n.n()).done;){var l=t.value;(0,a.mapfields)(r.default,l,l)}}catch(u){n.e(u)}finally{n.f()}e.tableData=[],e.options.total=i,e.tableData=o}))})).catch((function(t){})).finally((function(){e.loading=!1}))},getPanelData:function(){var t=this,e=JSON.parse(JSON.stringify(this.query));e.dimension="day";var n=(0,a.stringifyQuery)(e,!1,["uni_platform"]),o=i.database();o.collection("uni-stat-result").where(n).field((0,a.stringifyField)(r.default)).groupBy("appid").groupField((0,a.stringifyGroupField)(r.default)).orderBy("start_time","desc").get().then((function(n){var i=n.result.data[0];i&&(i.total_devices=0),a.getFieldTotal.call(t,e),t.panelData=[],t.panelData=(0,a.mapfields)(r.default,i)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})}}};e.default=c}).call(this,n("0de9")["default"],n("a9ff")["default"])},ead8:function(t,e,n){"use strict";n.r(e);var i=n("2f67"),a=n("3910");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"05641e07",null,!1,i["a"],o);e["default"]=l.exports},eb08:function(t,e,n){"use strict";n.r(e);var i=n("58df"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},eb0f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{weeks:{type:Object,default:function(){return{}}},calendar:{type:Object,default:function(){return{}}},selected:{type:Array,default:function(){return[]}},lunar:{type:Boolean,default:!1},checkHover:{type:Boolean,default:!1}},methods:{choiceDate:function(t){this.$emit("change",t)},handleMousemove:function(t){this.$emit("handleMouse",t)}}};e.default=i},eb15:function(t,e,n){"use strict";n.r(e);var i=n("3210"),a=n("7f2b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},eb1a:function(t,e,n){"use strict";n.r(e);var i=n("c431"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},eb3f:function(t){t.exports=JSON.parse('{"name":"uni-admin \u57fa\u7840\u6846\u67b6\uff08\u539f\u540d uniCloud admin\uff09","id":"uni-template-admin","displayName":"uni-admin \u57fa\u7840\u6846\u67b6","version":"1.9.7","description":"\u57fa\u4e8euni-app & uniCloud\u7684\u540e\u53f0\u7ba1\u7406\u9879\u76ee\u6a21\u677f\uff08\u7ba1\u7406\u540e\u53f0\u5f00\u53d1\u5fc5\u5907\u795e\u5668\uff09","main":"main.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":"https://github.com/dcloudio/uni-admin.git","keywords":["admin","uniCloud","\u7ba1\u7406\u540e\u53f0","\u4e91\u540e\u53f0","uni-admin"],"engines":{"HBuilderX":"^3.5.3"},"author":"","license":"MIT","bugs":{"url":"https://github.com/dcloudio/uni-admin/issues"},"homepage":"https://github.com/dcloudio/uni-admin#readme","dcloudext":{"sale":{"regular":{"price":"0.00"},"sourcecode":{"price":"0.00"}},"contact":{"qq":""},"declaration":{"ads":"\u65e0","data":"\u65e0","permissions":"\u65e0"},"npmurl":"","type":"unicloud-template-project"},"uni_modules":{"dependencies":[],"encrypt":[],"platforms":{"cloud":{"tcb":"y","aliyun":"y"},"client":{"App":{"app-vue":"y","app-nvue":"y"},"H5-mobile":{"Safari":"y","Android Browser":"y","\u5fae\u4fe1\u6d4f\u89c8\u5668(Android)":"y","QQ\u6d4f\u89c8\u5668(Android)":"y"},"H5-pc":{"Chrome":"y","IE":"n","Edge":"y","Firefox":"y","Safari":"y"},"\u5c0f\u7a0b\u5e8f":{"\u5fae\u4fe1":"y","\u963f\u91cc":"y","\u767e\u5ea6":"y","\u5b57\u8282\u8df3\u52a8":"y","QQ":"y","\u4eac\u4e1c":"u"},"\u5feb\u5e94\u7528":{"\u534e\u4e3a":"u","\u8054\u76df":"u"},"Vue":{"vue2":"y","vue3":"y"}}}}}')},eb9a:function(t,e,n){"use strict";n.r(e);var i=n("f1e4"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},ebe1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u573a\u666f\u503c",field:"channel_code",tooltip:"",formatter:""},{title:"\u573a\u666f\u540d\u79f0",field:"channel_name",tooltip:"",formatter:""},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{field:"bounce_times",disable:!0},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}];e.default=i},ebfe:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(n("a34a")),a=(n("518e"),s(n("1939"))),r=n("3631");function o(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=i?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(n,a,r):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){u(r,i,a,o,s,"next",t)}function s(t){u(r,i,a,o,s,"throw",t)}o(void 0)}))}}var d=t.database(),f=(d.command,r.appVersionListDbName);var h={mixins:[a.default],data:function(){return{showStableInfo:!1,isStable:!0,originalData:{},detailsState:!0}},onLoad:function(t){var e=this;return c(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.id,e.formDataId=a,n.next=4,e.getDetail(a);case 4:return e.isStable=e.formData.stable_publish,n.next=7,e.getLatestVersion();case 7:e.latestStableData=n.sent,e.isWGT&&e.rules.min_uni_version.rules.push({required:!0});case 9:case"end":return n.stop()}}),n)})))()},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate(["store_list"]).then((function(e){e.store_list&&e.store_list.forEach((function(t){t.priority=parseFloat(t.priority)})),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},submitForm:function(t){var e=this;return c(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=d.collection(f),a.doc(e.formDataId).update(t).then(function(){var n=c(i.default.mark((function n(r){return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.isStable||!0!==t.stable_publish||!e.latestStableData){n.next=3;break}return n.next=3,a.doc(e.latestStableData._id).update({stable_publish:!1});case 3:uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}));case 2:case"end":return n.stop()}}),n)})))()},getDetail:function(t){var e=this;return uni.showLoading({mask:!0}),d.collection(f).doc(t).field(a.fields).get().then((function(t){var n=t.result.data[0];n&&(e.formData=n,e.originalData=(0,r.deepClone)(e.formData))})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},deletePackage:function(){var t=this;uni.showModal({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u8be5\u7248\u672c",success:function(e){e.confirm&&(uni.showLoading({mask:!0}),d.collection(f).doc(t.formDataId).remove().then((function(){uni.showToast({title:"\u5220\u9664\u6210\u529f"}),t.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))}})},getLatestVersion:function(){var t=this;return c(i.default.mark((function e(){var n,a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={appid:t.formData.appid,type:t.formData.type,stable_publish:!0},t.isWGT||(n.platform=t.formData.platform[0]),e.next=4,d.collection(f).where(n).get();case 4:return a=e.sent,e.abrupt("return",a.result.data.find((function(e){return e.platform.toString()===t.formData.platform.toString()})));case 6:case"end":return e.stop()}}),e)})))()},cancelEdit:function(){var t=this,e="";!this.isiOS&&this.hasPackage&&(e+="\n\u5c06\u4f1a\u5220\u9664\u5df2\u4e0a\u4f20\u7684\u5305"),uni.showModal({title:"\u53d6\u6d88\u4fee\u6539",content:e,success:function(e){if(e.confirm&&(t.formData=(0,r.deepClone)(t.originalData),t.detailsState=!0,t.hasPackage)){var n=[];n.push(t.appFileList.url),t.$request("deleteFile",{fileList:n},{functionName:"upgrade-center"})}}})}}};e.default=h}).call(this,n("a9ff")["default"])},ec18:function(t,e,n){"use strict";n.r(e);var i=n("c3d9"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},ec41:function(t,e,n){"use strict";n.r(e);var i=n("6da0"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},ed6b:function(t,e,n){"use strict";n.r(e);var i=n("779f"),a=n("5596");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},ee3b:function(t,e,n){"use strict";(function(t){function n(t,e){return s(t)||o(t,e)||a(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function s(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l={version:"v2.3.7-20220122",yAxisWidth:15,yAxisSplit:5,xAxisHeight:22,xAxisLineHeight:22,legendHeight:15,yAxisTitleWidth:15,padding:[10,10,10,10],pixelRatio:1,rotate:!1,columePadding:3,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,xAxisTextPadding:3,titleColor:"#333333",titleFontSize:20,subtitleColor:"#999999",subtitleFontSize:15,toolTipPadding:3,toolTipBackground:"#000000",toolTipOpacity:.7,toolTipLineHeight:20,radarLabelTextMargin:13,gaugeLabelTextMargin:13},u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(null==t)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!n||n.length<=0)return t;function a(t,e){for(var n in e)t[n]=t[n]&&"[object Object]"===t[n].toString()?a(t[n],e[n]):t[n]=e[n];return t}return n.forEach((function(e){t=a(t,e)})),t},c={toFixed:function(t,e){return e=e||2,this.isFloat(t)&&(t=t.toFixed(e)),t},isFloat:function(t){return t%1!==0},approximatelyEqual:function(t,e){return Math.abs(t-e)<1e-10},isSameSign:function(t,e){return Math.abs(t)===t&&Math.abs(e)===e||Math.abs(t)!==t&&Math.abs(e)!==e},isSameXCoordinateArea:function(t,e){return this.isSameSign(t.x,e.x)},isCollision:function(t,e){t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height;var n=e.start.x>t.end.x||e.end.x<t.start.x||e.end.y>t.start.y||e.start.y<t.end.y;return!n}};function d(t,e){var n=Array(2),i=20037508.34*t/180,a=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return a=20037508.34*a/180,n[0]=i,n[1]=a,n}function f(t,e){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=t.replace(n,(function(t,e,n,i){return e+e+n+n+i+i})),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),r=parseInt(a[1],16),o=parseInt(a[2],16),s=parseInt(a[3],16);return"rgba("+r+","+o+","+s+","+e+")"}function h(t,e,n){if(isNaN(t))throw new Error("[uCharts] series\u6570\u636e\u9700\u4e3aNumber\u683c\u5f0f");n=n||10,e=e||"upper";var i=1;while(n<1)n*=10,i*=10;t="upper"===e?Math.ceil(t*i):Math.floor(t*i);while(t%n!==0)"upper"===e?t++:t--;return t/i}function p(t,e,n,i){for(var a=[],r=0;r<t.length;r++){for(var o={data:[],name:e[r],color:n[r]},s=0,l=i.length;s<l;s++)if(s<t[r])o.data.push(null);else{for(var u=0,c=0;c<t[r];c++)u+=i[s-c][1];o.data.push(+(u/t[r]).toFixed(3))}a.push(o)}return a}function m(t,e,n,i,a){var r=a.width-a.area[1]-a.area[3],o=n.eachSpacing*(a.chartData.xAxisData.xAxisPoints.length-1),s=e;return e>=0?(s=0,t.uevent.trigger("scrollLeft"),t.scrollOption.position="left",a.xAxis.scrollPosition="left"):Math.abs(e)>=o-r?(s=r-o,t.uevent.trigger("scrollRight"),t.scrollOption.position="right",a.xAxis.scrollPosition="right"):(t.scrollOption.position=e,a.xAxis.scrollPosition=e),s}function _(t,e,n){function i(t){while(t<0)t+=2*Math.PI;while(t>2*Math.PI)t-=2*Math.PI;return t}return t=i(t),e=i(e),n=i(n),e>n&&(n+=2*Math.PI,t<e&&(t+=2*Math.PI)),t>=e&&t<=n}function g(t,e,n){var i=t,a=n-e,r=i+(n-a-i)/Math.sqrt(2);r*=-1;var o=(n-a)*(Math.sqrt(2)-1)-(n-a-i)/Math.sqrt(2);return{transX:r,transY:o}}function v(t,e){function n(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}function i(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].x>=Math.max(t[e-1].x,t[e+1].x)||t[e].x<=Math.min(t[e-1].x,t[e+1].x))}var a=.2,r=.2,o=null,s=null,l=null,u=null;if(e<1?(o=t[0].x+(t[1].x-t[0].x)*a,s=t[0].y+(t[1].y-t[0].y)*a):(o=t[e].x+(t[e+1].x-t[e-1].x)*a,s=t[e].y+(t[e+1].y-t[e-1].y)*a),e>t.length-3){var c=t.length-1;l=t[c].x-(t[c].x-t[c-1].x)*r,u=t[c].y-(t[c].y-t[c-1].y)*r}else l=t[e+1].x-(t[e+2].x-t[e].x)*r,u=t[e+1].y-(t[e+2].y-t[e].y)*r;return n(t,e+1)&&(u=t[e+1].y),n(t,e)&&(s=t[e].y),i(t,e+1)&&(l=t[e+1].x),i(t,e)&&(o=t[e].x),(s>=Math.max(t[e].y,t[e+1].y)||s<=Math.min(t[e].y,t[e+1].y))&&(s=t[e].y),(u>=Math.max(t[e].y,t[e+1].y)||u<=Math.min(t[e].y,t[e+1].y))&&(u=t[e+1].y),(o>=Math.max(t[e].x,t[e+1].x)||o<=Math.min(t[e].x,t[e+1].x))&&(o=t[e].x),(l>=Math.max(t[e].x,t[e+1].x)||l<=Math.min(t[e].x,t[e+1].x))&&(l=t[e+1].x),{ctrA:{x:o,y:s},ctrB:{x:l,y:u}}}function y(t,e,n){return{x:n.x+t,y:n.y-e}}function b(t,e){if(e)while(c.isCollision(t,e))t.start.x>0?t.start.y--:t.start.x<0||t.start.y>0?t.start.y++:t.start.y--;return t}function x(t,e,n){var i=[];if(t.length>0&&t[0].data.constructor.toString().indexOf("Array")>-1){e._pieSeries_=t;for(var a=t[0].data,r=0;r<a.length;r++)a[r].formatter=t[0].formatter,a[r].data=a[r].value,i.push(a[r]);e.series=i}else i=t;return i}function w(t,e,n){for(var i=0,a=0;a<t.length;a++){var r=t[a];if(r.color||(r.color=n.color[i],i=(i+1)%n.color.length),r.linearIndex||(r.linearIndex=a),r.index||(r.index=0),r.type||(r.type=e.type),"undefined"==typeof r.show&&(r.show=!0),r.type||(r.type=e.type),r.pointShape||(r.pointShape="circle"),!r.legendShape)switch(r.type){case"line":r.legendShape="line";break;case"column":r.legendShape="rect";break;case"area":r.legendShape="triangle";break;case"bar":r.legendShape="rect";break;default:r.legendShape="circle"}}return t}function $(t,e,n,i){var a=e||[];if("custom"==t&&0==a.length&&(a=i.linearColor),"custom"==t&&a.length<n.length)for(var r=n.length-a.length,o=0;o<r;o++)a.push(i.linearColor[(o+1)%i.linearColor.length]);return a}function k(t,e){var n=0,i=e-t;return n=i>=1e4?1e3:i>=1e3?100:i>=100?10:i>=10?5:i>=1?1:i>=.1?.1:i>=.01?.01:i>=.001?.001:i>=1e-4?1e-4:i>=1e-5?1e-5:1e-6,{minRange:h(t,"lower",n),maxRange:h(e,"upper",n)}}function C(t,e,n){var i=0;if(t=String(t),!1!==n&&void 0!==n&&n.setFontSize&&n.measureText)return n.setFontSize(e),n.measureText(t).width;t=t.split("");for(var a=0;a<t.length;a++){var r=t[a];/[a-zA-Z]/.test(r)?i+=7:/[0-9]/.test(r)?i+=5.5:/\./.test(r)?i+=2.7:/-/.test(r)?i+=3.25:/:/.test(r)?i+=2.5:/[\u4e00-\u9fa5]/.test(r)?i+=10:/\(|\)/.test(r)?i+=3.73:/\s/.test(r)?i+=2.5:/%/.test(r)?i+=8:i+=10}return i*e/10}function D(t){return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data)}),[])}function S(t,e){for(var n=new Array(e),i=0;i<n.length;i++)n[i]=0;for(var a=0;a<t.length;a++)for(i=0;i<n.length;i++)n[i]+=t[a].data[i];return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data).concat(n)}),[])}function T(t,e,n){var i,a;return t.clientX?e.rotate?(a=e.height-t.clientX*e.pix,i=(t.pageY-n.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):(i=t.clientX*e.pix,a=(t.pageY-n.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):e.rotate?(a=e.height-t.x*e.pix,i=t.y*e.pix):(i=t.x*e.pix,a=t.y*e.pix),{x:i,y:a}}function P(t,e,n){var i=[],a=[],r=e.constructor.toString().indexOf("Array")>-1;if(r)for(var o=F(t),s=0;s<n.length;s++)a.push(o[n[s]]);else a=t;for(var l=0;l<a.length;l++){var u=a[l],c=-1;if(c=r?e[l]:e,null!==u.data[c]&&"undefined"!==typeof u.data[c]&&u.show){var d={};d.color=u.color,d.type=u.type,d.style=u.style,d.pointShape=u.pointShape,d.disableLegend=u.disableLegend,d.name=u.name,d.show=u.show,d.data=u.formatter?u.formatter(u.data[c]):u.data[c],i.push(d)}}return i}function O(t,e,n){var i=t.map((function(t){return C(t,e,n)}));return Math.max.apply(null,i)}function A(t){for(var e=2*Math.PI/t,n=[],i=0;i<t;i++)n.push(e*i);return n.map((function(t){return-1*t+Math.PI/2}))}function M(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.chartData.calPoints?e.chartData.calPoints:[],s={};if(i.length>0){for(var l=[],u=0;u<i.length;u++)l.push(o[i[u]]);s=l[0][n[0]]}else s=o[0][n];var c=t.map((function(t){var i=null;return e.categories&&e.categories.length>0&&(i=a[n]),{text:r.formatter?r.formatter(t,i,n,e):t.name+": "+t.data,color:t.color}})),d={x:Math.round(s.x),y:Math.round(s.y)};return{textList:c,offset:d}}function I(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=e.chartData.xAxisPoints[n]+e.chartData.eachSpacing/2,o=t.map((function(t){return{text:a.formatter?a.formatter(t,i[n],n,e):t.name+": "+t.data,color:t.color,disableLegend:!!t.disableLegend}}));o=o.filter((function(t){if(!0!==t.disableLegend)return t}));var s={x:Math.round(r),y:0};return{textList:o,offset:s}}function j(t,e,n,i,a,r){var o=n.chartData.calPoints,s=r.color.upFill,l=r.color.downFill,u=[s,s,l,s],c=[];e.map((function(e){0==i?e.data[1]-e.data[0]<0?u[1]=l:u[1]=s:(e.data[0]<t[i-1][1]&&(u[0]=l),e.data[1]<e.data[0]&&(u[1]=l),e.data[2]>t[i-1][1]&&(u[2]=s),e.data[3]<t[i-1][1]&&(u[3]=l));var n={text:"\u5f00\u76d8\uff1a"+e.data[0],color:u[0]},a={text:"\u6536\u76d8\uff1a"+e.data[1],color:u[1]},r={text:"\u6700\u4f4e\uff1a"+e.data[2],color:u[2]},o={text:"\u6700\u9ad8\uff1a"+e.data[3],color:u[3]};c.push(n,a,r,o)}));for(var d=[],f={x:0,y:0},h=0;h<o.length;h++){var p=o[h];"undefined"!==typeof p[i]&&null!==p[i]&&d.push(p[i])}return f.x=Math.round(d[0][0].x),{textList:c,offset:f}}function F(t){for(var e=[],n=0;n<t.length;n++)1==t[n].show&&e.push(t[n]);return e}function E(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r={index:-1,group:[]},o=n.chartData.eachSpacing/2,s=[];if(e&&e.length>0){if(n.categories){for(var l=1;l<n.chartData.xAxisPoints.length;l++)s.push(n.chartData.xAxisPoints[l]-o);"line"!=n.type&&"area"!=n.type||"justify"!=n.xAxis.boundaryGap||(s=n.chartData.xAxisPoints)}else o=0;if(N(t,n,i))if(n.categories)s.forEach((function(e,n){t.x+a+o>e&&(r.index=n)}));else{for(var u=Array(e.length),c=0;c<e.length;c++){u[c]=Array(e[c].length);for(var d=0;d<e[c].length;d++)u[c][d]=Math.abs(e[c][d].x-t.x)}for(var f=Array(u.length),h=Array(u.length),p=0;p<u.length;p++)f[p]=Math.min.apply(null,u[p]),h[p]=u[p].indexOf(f[p]);var m=Math.min.apply(null,f);r.index=[];for(var _=0;_<f.length;_++)f[_]==m&&(r.group.push(_),r.index.push(h[_]))}}return r}function L(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r={index:-1,group:[]},o=n.chartData.eachSpacing/2,s=n.chartData.yAxisPoints;return e&&e.length>0&&N(t,n,i)&&s.forEach((function(e,n){t.y+a+o>e&&(r.index=n)})),r}function q(t,e,n){var i=-1,a=0;if(R(t,e.area)){for(var r=e.points,o=-1,s=0,l=r.length;s<l;s++)for(var u=r[s],c=0;c<u.length;c++){o+=1;var d=u[c]["area"];if(d&&t.x>d[0]-a&&t.x<d[2]+a&&t.y>d[1]-a&&t.y<d[3]+a){i=o;break}}return i}return i}function R(t,e){return t.x>e.start.x&&t.x<e.end.x&&t.y>e.start.y&&t.y<e.end.y}function N(t,e,n){return t.x<=e.width-e.area[1]+10&&t.x>=e.area[3]-10&&t.y>=e.area[0]&&t.y<=e.height-e.area[2]}function B(t,e,n){var i=2*Math.PI/n,a=-1;if(H(t,e.center,e.radius)){var r=function(t){return t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI),t},o=Math.atan2(e.center.y-t.y,t.x-e.center.x);o*=-1,o<0&&(o+=2*Math.PI);var s=e.angleList.map((function(t){return t=r(-1*t),t}));s.forEach((function(t,e){var n=r(t-i/2),s=r(t+i/2);s<n&&(s+=2*Math.PI),(o>=n&&o<=s||o+2*Math.PI>=n&&o+2*Math.PI<=s)&&(a=e)}))}return a}function z(t,e){for(var n=-1,i=0,a=e.series.length;i<a;i++){var r=e.series[i];if(t.x>r.funnelArea[0]&&t.x<r.funnelArea[2]&&t.y>r.funnelArea[1]&&t.y<r.funnelArea[3]){n=i;break}}return n}function W(t,e){for(var n=-1,i=0,a=e.length;i<a;i++){var r=e[i];if(t.x>r.area[0]&&t.x<r.area[2]&&t.y>r.area[1]&&t.y<r.area[3]){n=i;break}}return n}function U(t,e){for(var n=-1,i=e.chartData.mapData,a=e.series,r=ae(t.y,t.x,i.bounds,i.scale,i.xoffset,i.yoffset),o=[r.x,r.y],s=0,l=a.length;s<l;s++){var u=a[s].geometry.coordinates;if(oe(o,u,e.chartData.mapData.mercator)){n=s;break}}return n}function V(t,e,n){var i=-1,a=nt(n._series_,n.extra.rose.type,e.radius,e.radius);if(e&&e.center&&H(t,e.center,e.radius)){var r=Math.atan2(e.center.y-t.y,t.x-e.center.x);r=-r,n.extra.rose&&n.extra.rose.offsetAngle&&(r-=n.extra.rose.offsetAngle*Math.PI/180);for(var o=0,s=a.length;o<s;o++)if(_(r,a[o]._start_,a[o]._start_+2*a[o]._rose_proportion_*Math.PI)){i=o;break}}return i}function G(t,e,n){var i=-1,a=tt(e.series);if(e&&e.center&&H(t,e.center,e.radius)){var r=Math.atan2(e.center.y-t.y,t.x-e.center.x);r=-r,n.extra.pie&&n.extra.pie.offsetAngle&&(r-=n.extra.pie.offsetAngle*Math.PI/180),n.extra.ring&&n.extra.ring.offsetAngle&&(r-=n.extra.ring.offsetAngle*Math.PI/180);for(var o=0,s=a.length;o<s;o++)if(_(r,a[o]._start_,a[o]._start_+2*a[o]._proportion_*Math.PI)){i=o;break}}return i}function H(t,e,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n,2)}function J(t,e){var n=[],i=[];return t.forEach((function(t,a){e.connectNulls?null!==t&&i.push(t):null!==t?i.push(t):(i.length&&n.push(i),i=[])})),i.length&&n.push(i),n}function Q(t,e,n,i,a){var r={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(!1===e.legend.show)return i.legendData=r,r;var o=e.legend.padding*e.pix,s=e.legend.margin*e.pix,l=e.legend.fontSize?e.legend.fontSize*e.pix:n.fontSize,u=15*e.pix,c=5*e.pix,d=Math.max(e.legend.lineHeight*e.pix,l);if("top"==e.legend.position||"bottom"==e.legend.position){for(var f=[],h=0,p=[],m=[],_=0;_<t.length;_++){var g=t[_],v=u+c+C(g.name||"undefined",l,a)+e.legend.itemGap*e.pix;h+v>e.width-e.area[1]-e.area[3]?(f.push(m),p.push(h-e.legend.itemGap*e.pix),h=v,m=[g]):(h+=v,m.push(g))}if(m.length){f.push(m),p.push(h-e.legend.itemGap*e.pix),r.widthArr=p;var y=Math.max.apply(null,p);switch(e.legend.float){case"left":r.area.start.x=e.area[3],r.area.end.x=e.area[3]+y+2*o;break;case"right":r.area.start.x=e.width-e.area[1]-y-2*o,r.area.end.x=e.width-e.area[1];break;default:r.area.start.x=(e.width-y)/2-o,r.area.end.x=(e.width+y)/2+o}r.area.width=y+2*o,r.area.wholeWidth=y+2*o,r.area.height=f.length*d+2*o,r.area.wholeHeight=f.length*d+2*o+2*s,r.points=f}}else{var b=t.length,x=e.height-e.area[0]-e.area[2]-2*s-2*o,w=Math.min(Math.floor(x/d),b);switch(r.area.height=w*d+2*o,r.area.wholeHeight=w*d+2*o,e.legend.float){case"top":r.area.start.y=e.area[0]+s,r.area.end.y=e.area[0]+s+r.area.height;break;case"bottom":r.area.start.y=e.height-e.area[2]-s-r.area.height,r.area.end.y=e.height-e.area[2]-s;break;default:r.area.start.y=(e.height-r.area.height)/2,r.area.end.y=(e.height+r.area.height)/2}for(var $=b%w===0?b/w:Math.floor(b/w+1),k=[],D=0;D<$;D++){var S=t.slice(D*w,D*w+w);k.push(S)}if(r.points=k,k.length){for(var T=0;T<k.length;T++){for(var P=k[T],O=0,A=0;A<P.length;A++){var M=u+c+C(P[A].name||"undefined",l,a)+e.legend.itemGap*e.pix;M>O&&(O=M)}r.widthArr.push(O),r.heightArr.push(P.length*d+2*o)}for(var I=0,j=0;j<r.widthArr.length;j++)I+=r.widthArr[j];r.area.width=I-e.legend.itemGap*e.pix+2*o,r.area.wholeWidth=r.area.width+o}}switch(e.legend.position){case"top":r.area.start.y=e.area[0]+s,r.area.end.y=e.area[0]+s+r.area.height;break;case"bottom":r.area.start.y=e.height-e.area[2]-r.area.height-s,r.area.end.y=e.height-e.area[2]-s;break;case"left":r.area.start.x=e.area[3],r.area.end.x=e.area[3]+r.area.width;break;case"right":r.area.start.x=e.width-e.area[1]-r.area.width,r.area.end.x=e.width-e.area[1];break}return i.legendData=r,r}function K(t,e,n,i,a){var r={angle:0,xAxisHeight:n.xAxisHeight},o=t.map((function(t){return C(t,e.xAxis.fontSize*e.pix||n.fontSize,a)})),s=Math.max.apply(this,o);return 1==e.xAxis.rotateLabel&&s+2*n.xAxisTextPadding>i&&(r.angle=45*Math.PI/180,r.xAxisHeight=2*n.xAxisTextPadding+s*Math.sin(r.angle)),r}function Y(t,e,n,i){var a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;a="stack"==i?S(t,e.categories.length):D(t);var o=[];a=a.filter((function(t){return"object"===typeof t&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),a.map((function(t){"object"===typeof t?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){o.push(t)})):o.push(t[0]):o.push(t.value):o.push(t)}));var s=0,l=0;if(o.length>0&&(s=Math.min.apply(this,o),l=Math.max.apply(this,o)),r>-1?("number"===typeof e.xAxis.data[r].min&&(s=Math.min(e.xAxis.data[r].min,s)),"number"===typeof e.xAxis.data[r].max&&(l=Math.max(e.xAxis.data[r].max,l))):("number"===typeof e.xAxis.min&&(s=Math.min(e.xAxis.min,s)),"number"===typeof e.xAxis.max&&(l=Math.max(e.xAxis.max,l))),s===l){var u=l||10;l+=u}for(var c=s,d=l,f=[],h=(d-c)/e.xAxis.splitNumber,p=0;p<=e.xAxis.splitNumber;p++)f.push(c+h*p);return f}function X(t,e,n,i){var a=u({},{type:""},e.extra.bar),r={angle:0,xAxisHeight:n.xAxisHeight};r.ranges=Y(t,e,n,a.type),r.rangesFormat=r.ranges.map((function(t){return t=c.toFixed(t,2),t}));var o=r.ranges.map((function(t){return t=c.toFixed(t,2),t}));r=Object.assign(r,ft(o,e,n));var s=r.eachSpacing,l=o.map((function(t){return C(t,e.xAxis.fontSize*e.pix||n.fontSize,i)})),d=Math.max.apply(this,l);return d+2*n.xAxisTextPadding>s&&(r.angle=45*Math.PI/180,r.xAxisHeight=2*n.xAxisTextPadding+d*Math.sin(r.angle)),!0===e.xAxis.disabled&&(r.xAxisHeight=0),r}function Z(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=a.extra.radar||{};o.max=o.max||0;for(var s=Math.max(o.max,Math.max.apply(null,D(i))),l=[],u=function(a){var o=i[a],u={};u.color=o.color,u.legendShape=o.legendShape,u.pointShape=o.pointShape,u.data=[],o.data.forEach((function(i,a){var o={};o.angle=t[a],o.proportion=i/s,o.value=i,o.position=y(n*o.proportion*r*Math.cos(o.angle),n*o.proportion*r*Math.sin(o.angle),e),u.data.push(o)})),l.push(u)},c=0;c<i.length;c++)u(c);return l}function tt(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=0,a=0,r=0;r<t.length;r++){var o=t[r];o.data=null===o.data?0:o.data,i+=o.data}for(var s=0;s<t.length;s++){var l=t[s];l.data=null===l.data?0:l.data,l._proportion_=0===i?1/t.length*n:l.data/i*n,l._radius_=e}for(var u=0;u<t.length;u++){var c=t[u];c._start_=a,a+=2*c._proportion_*Math.PI}return t}function et(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t=t.sort((function(t,e){return parseInt(e.data)-parseInt(t.data)}));for(var r=0;r<t.length;r++)t[r].radius="funnel"==n?t[r].data/t[0].data*e*a:i*(t.length-r)/(i*t.length)*e*a,t[r]._proportion_=t[r].data/t[0].data;return"pyramid"!==n&&t.reverse(),t}function nt(t,e,n,i){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=0,o=0,s=[],l=0;l<t.length;l++){var u=t[l];u.data=null===u.data?0:u.data,r+=u.data,s.push(u.data)}for(var c=Math.min.apply(null,s),d=Math.max.apply(null,s),f=i-n,h=0;h<t.length;h++){var p=t[h];p.data=null===p.data?0:p.data,0===r?(p._proportion_=1/t.length*a,p._rose_proportion_=1/t.length*a):(p._proportion_=p.data/r*a,p._rose_proportion_="area"==e?1/t.length*a:p.data/r*a),p._radius_=n+f*((p.data-c)/(d-c))||i}for(var m=0;m<t.length;m++){var _=t[m];_._start_=o,o+=2*_._rose_proportion_*Math.PI}return t}function it(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==n&&(n=.999999);for(var i=0;i<t.length;i++){var a=t[i];a.data=null===a.data?0:a.data;var r=void 0;r="circle"==e.type?2:e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle,a._proportion_=r*a.data*n+e.startAngle,a._proportion_>=2&&(a._proportion_=a._proportion_%2)}return t}function at(t,e,n){for(var i=e-n+1,a=e,r=0;r<t.length;r++)t[r].value=null===t[r].value?0:t[r].value,t[r]._startAngle_=a,t[r]._endAngle_=i*t[r].value+e,t[r]._endAngle_>=2&&(t[r]._endAngle_=t[r]._endAngle_%2),a=t[r]._endAngle_;return t}function rt(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=0;a<t.length;a++){var r=t[a];if(r.data=null===r.data?0:r.data,"auto"==n.pointer.color){for(var o=0;o<e.length;o++)if(r.data<=e[o].value){r.color=e[o].color;break}}else r.color=n.pointer.color;var s=n.startAngle-n.endAngle+1;r._endAngle_=s*r.data+n.startAngle,r._oldAngle_=n.oldAngle,n.oldAngle<n.endAngle&&(r._oldAngle_+=2),r.data>=n.oldData?r._proportion_=(r._endAngle_-r._oldAngle_)*i+n.oldAngle:r._proportion_=r._oldAngle_-(r._oldAngle_-r._endAngle_)*i,r._proportion_>=2&&(r._proportion_=r._proportion_%2)}return t}function ot(t,e,n,i){t=tt(t);for(var a=0,r=0;r<t.length;r++){var o=t[r],s=o.formatter?o.formatter(+o._proportion_.toFixed(2)):c.toFixed(100*o._proportion_)+"%";a=Math.max(a,C(s,o.textSize*i.pix||e.fontSize,n))}return a}function st(t,e,n,i,a,r){return t.map((function(t){if(null===t)return null;var a=0,o=0;return"mix"==r.type?(a=r.extra.mix.column.seriesGap*r.pix||0,o=r.extra.mix.column.categoryGap*r.pix||0):(a=r.extra.column.seriesGap*r.pix||0,o=r.extra.column.categoryGap*r.pix||0),a=Math.min(a,e/n),o=Math.min(o,e/n),t.width=Math.ceil((e-2*o-a*(n-1))/n),r.extra.mix&&r.extra.mix.column.width&&+r.extra.mix.column.width>0&&(t.width=Math.min(t.width,+r.extra.mix.column.width*r.pix)),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),t.width<=0&&(t.width=1),t.x+=(i+.5-n/2)*(t.width+a),t}))}function lt(t,e,n,i,a,r){return t.map((function(t){if(null===t)return null;var a=0,o=0;return a=r.extra.bar.seriesGap*r.pix||0,o=r.extra.bar.categoryGap*r.pix||0,a=Math.min(a,e/n),o=Math.min(o,e/n),t.width=Math.ceil((e-2*o-a*(n-1))/n),r.extra.bar&&r.extra.bar.width&&+r.extra.bar.width>0&&(t.width=Math.min(t.width,+r.extra.bar.width*r.pix)),t.width<=0&&(t.width=1),t.y+=(i+.5-n/2)*(t.width+a),t}))}function ut(t,e,n,i,a,r,o){var s=r.extra.column.categoryGap*r.pix||0;return t.map((function(t){return null===t?null:(t.width=Math.ceil(e-2*s),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),i>0&&(t.width-=2*o),t)}))}function ct(t,e,n,i,a,r,o){var s=r.extra.column.categoryGap*r.pix||0;return t.map((function(t,n){return null===t?null:(t.width=Math.ceil(e-2*s),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),t.width<=0&&(t.width=1),t)}))}function dt(t,e,n,i,a,r,o){var s=r.extra.bar.categoryGap*r.pix||0;return t.map((function(t,n){return null===t?null:(t.width=Math.ceil(e-2*s),r.extra.bar&&r.extra.bar.width&&+r.extra.bar.width>0&&(t.width=Math.min(t.width,+r.extra.bar.width*r.pix)),t.width<=0&&(t.width=1),t)}))}function ft(t,e,n){var i=e.width-e.area[1]-e.area[3],a=e.enableScroll?Math.min(e.xAxis.itemCount,t.length):t.length;("line"==e.type||"area"==e.type||"scatter"==e.type||"bubble"==e.type||"bar"==e.type)&&a>1&&"justify"==e.xAxis.boundaryGap&&(a-=1);var r=i/a,o=[],s=e.area[3],l=e.width-e.area[1];return t.forEach((function(t,e){o.push(s+e*r)})),"justify"!==e.xAxis.boundaryGap&&(!0===e.enableScroll?o.push(s+t.length*r):o.push(l)),{xAxisPoints:o,startX:s,endX:l,eachSpacing:r}}function ht(t,e,n,i,a,r,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=[],u=r.height-r.area[0]-r.area[2];return t.forEach((function(t,o){if(null===t)l.push(null);else{var c=[];t.forEach((function(t,l){var d={};d.x=i[o]+Math.round(a/2);var f=t.value||t,h=u*(f-e)/(n-e);h*=s,d.y=r.height-Math.round(h)-r.area[2],c.push(d)})),l.push(c)}})),l}function pt(t,e,n,i,a,r,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l="center";"line"!=r.type&&"area"!=r.type&&"scatter"!=r.type&&"bubble"!=r.type||(l=r.xAxis.boundaryGap);var u=[],c=r.height-r.area[0]-r.area[2],d=r.width-r.area[1]-r.area[3];return t.forEach((function(t,o){if(null===t)u.push(null);else{var f={};f.color=t.color,f.x=i[o];var h,p,m,_=t;if("object"===typeof t&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)h=[].concat(r.chartData.xAxisData.ranges),p=h.shift(),m=h.pop(),_=t[1],f.x=r.area[3]+d*(t[0]-p)/(m-p),"bubble"==r.type&&(f.r=t[2],f.t=t[3]);else _=t.value;"center"==l&&(f.x+=a/2);var g=c*(_-e)/(n-e);g*=s,f.y=r.height-g-r.area[2],u.push(f)}})),u}function mt(t,e,n,i,a,r,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=[],u=(r.height,r.area[0],r.area[2],r.width-r.area[1]-r.area[3]);return t.forEach((function(t,a){if(null===t)l.push(null);else{var o={};o.color=t.color,o.y=i[a];var c=t;"object"===typeof t&&null!==t&&(c=t.value);var d=u*(c-e)/(n-e);d*=s,o.height=d,o.value=c,o.x=d+r.area[3],l.push(o)}})),l}function _t(t,e,n,i,a,r,o,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,c=[],d=r.height-r.area[0]-r.area[2];return t.forEach((function(t,o){if(null===t)c.push(null);else{var f={};if(f.color=t.color,f.x=i[o]+Math.round(a/2),s>0){for(var h=0,p=0;p<=s;p++)h+=l[p].data[o];var m=h-t,_=d*(h-e)/(n-e),g=d*(m-e)/(n-e)}else h=t,_=d*(h-e)/(n-e),g=0;var v=g;_*=u,v*=u,f.y=r.height-Math.round(_)-r.area[2],f.y0=r.height-Math.round(v)-r.area[2],c.push(f)}})),c}function gt(t,e,n,i,a,r,o,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,c=[],d=r.width-r.area[1]-r.area[3];return t.forEach((function(t,a){if(null===t)c.push(null);else{var o={};if(o.color=t.color,o.y=i[a],s>0){for(var f=0,h=0;h<=s;h++)f+=l[h].data[a];var p=f-t,m=d*(f-e)/(n-e),_=d*(p-e)/(n-e)}else f=t,m=d*(f-e)/(n-e),_=0;var g=_;m*=u,g*=u,o.height=m-g,o.x=r.area[3]+m,o.x0=r.area[3]+g,c.push(o)}})),c}function vt(t,e,n,i,a){var r;r="stack"==i?S(t,e.categories.length):D(t);var o=[];r=r.filter((function(t){return"object"===typeof t&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),r.map((function(t){"object"===typeof t?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){o.push(t)})):o.push(t[1]):o.push(t.value):o.push(t)}));var s=a.min||0,l=a.max||0;if(o.length>0&&(s=Math.min.apply(this,o),l=Math.max.apply(this,o)),s===l){var u=l||10;l+=u}for(var c=k(s,l),d=void 0===a.min||null===a.min?c.minRange:a.min,f=void 0===a.max||null===a.min?c.maxRange:a.max,h=[],p=(f-d)/e.yAxis.splitNumber,m=0;m<=e.yAxis.splitNumber;m++)h.push(d+p*m);return h.reverse()}function yt(t,e,n,i){var a=u({},{type:""},e.extra.column),r=e.yAxis.data.length,o=new Array(r);if(r>0){for(var s=0;s<r;s++){o[s]=[];for(var l=0;l<t.length;l++)t[l].index==s&&o[s].push(t[l])}for(var c=new Array(r),d=new Array(r),f=new Array(r),h=function(t){var r=e.yAxis.data[t];1==e.yAxis.disabled&&(r.disabled=!0),"categories"===r.type?(r.formatter||(r.formatter=function(t){return t+(r.unit||"")}),r.categories=r.categories||e.categories,c[t]=r.categories):(r.formatter||(r.formatter=function(t){return t.toFixed(r.tofix)+(r.unit||"")}),c[t]=vt(o[t],e,n,a.type,r,t));var s=r.fontSize*e.pix||n.fontSize;f[t]={position:r.position?r.position:"left",width:0},d[t]=c[t].map((function(e){return e=r.formatter(e),f[t].width=Math.max(f[t].width,C(e,s,i)+5),e}));var l=r.calibration?4*e.pix:0;f[t].width+=l+3*e.pix,!0===r.disabled&&(f[t].width=0)},p=0;p<r;p++)h(p)}else{c=new Array(1),d=new Array(1),f=new Array(1);"bar"===e.type?(c[0]=e.categories,e.yAxis.formatter||(e.yAxis.formatter=function(t){return t+(e.yAxis.unit||"")})):(e.yAxis.formatter||(e.yAxis.formatter=function(t){return t.toFixed(e.yAxis.tofix)+(e.yAxis.unit||"")}),c[0]=vt(t,e,n,a.type,{})),f[0]={position:"left",width:0};var m=e.yAxis.fontSize*e.pix||n.fontSize;d[0]=c[0].map((function(t){return t=e.yAxis.formatter(t),f[0].width=Math.max(f[0].width,C(t,m,i)+5),t})),f[0].width+=3*e.pix,!0===e.yAxis.disabled?(f[0]={position:"left",width:0},e.yAxis.data[0]={disabled:!0}):(e.yAxis.data[0]={disabled:!1,position:"left",max:e.yAxis.max,min:e.yAxis.min,formatter:e.yAxis.formatter},"bar"===e.type&&(e.yAxis.data[0].categories=e.categories,e.yAxis.data[0].type="categories"))}return{rangesFormat:d,ranges:c,yAxisWidth:f}}function bt(t,e,n,i,a){for(var r=[].concat(n.chartData.yAxisData.ranges),o=n.height-n.area[0]-n.area[2],s=n.area[0],l=[],u=0;u<r.length;u++){var c=r[u].shift(),d=r[u].pop(),f=c-(c-d)*(t-s)/o;f=n.yAxis.data[u].formatter?n.yAxis.data[u].formatter(f):f.toFixed(0),l.push(String(f))}return l}function xt(t,e){for(var n,i,a=e.height-e.area[0]-e.area[2],r=0;r<t.length;r++){t[r].yAxisIndex=t[r].yAxisIndex?t[r].yAxisIndex:0;var o=[].concat(e.chartData.yAxisData.ranges[t[r].yAxisIndex]);n=o.pop(),i=o.shift();var s=a*(t[r].value-n)/(i-n);t[r].y=e.height-Math.round(s)-e.area[2]}return t}function wt(t,e){!0!==e.rotateLock?(t.translate(e.height,0),t.rotate(90*Math.PI/180)):!0!==e._rotate_&&(t.translate(e.height,0),t.rotate(90*Math.PI/180),e._rotate_=!0)}function $t(t,e,n,i,a){if(i.beginPath(),"hollow"==a.dataPointShapeType?(i.setStrokeStyle(e),i.setFillStyle(a.background),i.setLineWidth(2*a.pix)):(i.setStrokeStyle("#ffffff"),i.setFillStyle(e),i.setLineWidth(1*a.pix)),"diamond"===n)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y),i.lineTo(t.x,t.y+4.5),i.lineTo(t.x+4.5,t.y),i.lineTo(t.x,t.y-4.5))}));else if("circle"===n)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x+2.5*a.pix,t.y),i.arc(t.x,t.y,3*a.pix,0,2*Math.PI,!1))}));else if("square"===n)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x-3.5,t.y-3.5),i.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===n)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y+4.5),i.lineTo(t.x+4.5,t.y+4.5),i.lineTo(t.x,t.y-4.5))}));else if("triangle"===n)return;i.closePath(),i.fill(),i.stroke()}function kt(t,e,n,i){var a=t.title.fontSize||e.titleFontSize,r=t.subtitle.fontSize||e.subtitleFontSize,o=t.title.name||"",s=t.subtitle.name||"",l=t.title.color||t.fontColor,u=t.subtitle.color||t.fontColor,c=o?a:0,d=s?r:0,f=5;if(s){var h=C(s,r*t.pix,n),p=i.x-h/2+(t.subtitle.offsetX||0)*t.pix,m=i.y+r*t.pix/2+(t.subtitle.offsetY||0)*t.pix;o&&(m+=(c*t.pix+f)/2),n.beginPath(),n.setFontSize(r*t.pix),n.setFillStyle(u),n.fillText(s,p,m),n.closePath(),n.stroke()}if(o){var _=C(o,a*t.pix,n),g=i.x-_/2+(t.title.offsetX||0),v=i.y+a*t.pix/2+(t.title.offsetY||0)*t.pix;s&&(v-=(d*t.pix+f)/2),n.beginPath(),n.setFontSize(a*t.pix),n.setFillStyle(l),n.fillText(o,g,v),n.closePath(),n.stroke()}}function Ct(t,e,n,i,a){var r=e.data,o=e.textOffset?e.textOffset:0;t.forEach((function(t,s){if(null!==t){i.beginPath();var l=e.textSize?e.textSize*a.pix:n.fontSize;i.setFontSize(l),i.setFillStyle(e.textColor||a.fontColor);var u=r[s];"object"===typeof r[s]&&null!==r[s]&&(u=r[s].constructor.toString().indexOf("Array")>-1?r[s][1]:r[s].value);var c=e.formatter?e.formatter(u,s):u;i.setTextAlign("center"),i.fillText(String(c),t.x,t.y-4+o*a.pix),i.closePath(),i.stroke(),i.setTextAlign("left")}}))}function Dt(t,e,n,i,a){var r=e.data;e.textOffset&&e.textOffset;t.forEach((function(t,o){if(null!==t){i.beginPath();var s=e.textSize?e.textSize*a.pix:n.fontSize;i.setFontSize(s),i.setFillStyle(e.textColor||a.fontColor);var l=r[o];"object"===typeof r[o]&&null!==r[o]&&(l=r[o].value);var u=e.formatter?e.formatter(l,o):l;i.setTextAlign("left"),i.fillText(String(u),t.x+4*a.pix,t.y+s/2-3),i.closePath(),i.stroke()}}))}function St(t,e,n,i,a,r){e-=t.width/2+t.labelOffset*i.pix;for(var o=t.startAngle-t.endAngle+1,s=o/t.splitLine.splitNumber,l=t.endNumber-t.startNumber,u=l/t.splitLine.splitNumber,c=t.startAngle,d=t.startNumber,f=0;f<t.splitLine.splitNumber+1;f++){var h={x:e*Math.cos(c*Math.PI),y:e*Math.sin(c*Math.PI)},p=t.formatter?t.formatter(d):d;h.x+=n.x-C(p,a.fontSize,r)/2,h.y+=n.y;var m=h.x,_=h.y;r.beginPath(),r.setFontSize(a.fontSize),r.setFillStyle(t.labelColor||i.fontColor),r.fillText(p,m,_+a.fontSize/2),r.closePath(),r.stroke(),c+=s,c>=2&&(c%=2),d+=u}}function Tt(t,e,n,i,a,r){var o=i.extra.radar||{};e+=a.radarLabelTextMargin*i.pix,t.forEach((function(t,s){var l={x:e*Math.cos(t),y:e*Math.sin(t)},u=y(l.x,l.y,n),d=u.x,f=u.y;c.approximatelyEqual(l.x,0)?d-=C(i.categories[s]||"",a.fontSize,r)/2:l.x<0&&(d-=C(i.categories[s]||"",a.fontSize,r)),r.beginPath(),r.setFontSize(a.fontSize),r.setFillStyle(o.labelColor||i.fontColor),r.fillText(i.categories[s]||"",d,f+a.fontSize/2),r.closePath(),r.stroke()}))}function Pt(t,e,n,i,a,r){for(var o=n.pieChartLinePadding,s=[],l=null,u=t.map((function(t,e,n){var i=t.formatter?t.formatter(t,e,n):c.toFixed(100*t._proportion_.toFixed(4))+"%",a=2*Math.PI-(t._start_+2*Math.PI*t._proportion_/2);t._rose_proportion_&&(a=2*Math.PI-(t._start_+2*Math.PI*t._rose_proportion_/2));var r=t.color,o=t._radius_;return{arc:a,text:i,color:r,radius:o,textColor:t.textColor,textSize:t.textSize}})),d=0;d<u.length;d++){var f=u[d],h=Math.cos(f.arc)*(f.radius+o),p=Math.sin(f.arc)*(f.radius+o),m=Math.cos(f.arc)*f.radius,_=Math.sin(f.arc)*f.radius,g=h>=0?h+n.pieChartTextPadding:h-n.pieChartTextPadding,v=p,x=C(f.text,f.textSize*e.pix||n.fontSize,i),w=v;l&&c.isSameXCoordinateArea(l.start,{x:g})&&(w=g>0?Math.min(v,l.start.y):h<0||v>0?Math.max(v,l.start.y):Math.min(v,l.start.y)),g<0&&(g-=x);var $={lineStart:{x:m,y:_},lineEnd:{x:h,y:p},start:{x:g,y:w},width:x,height:n.fontSize,text:f.text,color:f.color,textColor:f.textColor,textSize:f.textSize};l=b($,l),s.push(l)}for(var k=0;k<s.length;k++){var D=s[k],S=y(D.lineStart.x,D.lineStart.y,r),T=y(D.lineEnd.x,D.lineEnd.y,r),P=y(D.start.x,D.start.y,r);i.setLineWidth(1*e.pix),i.setFontSize(D.textSize*e.pix||n.fontSize),i.beginPath(),i.setStrokeStyle(D.color),i.setFillStyle(D.color),i.moveTo(S.x,S.y);var O=D.start.x<0?P.x+D.width:P.x,A=D.start.x<0?P.x-5:P.x+5;i.quadraticCurveTo(T.x,T.y,O,P.y),i.moveTo(S.x,S.y),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(P.x+D.width,P.y),i.arc(O,P.y,2,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(D.textSize*e.pix||n.fontSize),i.setFillStyle(D.textColor||e.fontColor),i.fillText(D.text,A,P.y+3),i.closePath(),i.stroke(),i.closePath()}}function Ot(t,e,n,i){var a=e.extra.tooltip||{};a.gridType=void 0==a.gridType?"solid":a.gridType,a.dashLength=void 0==a.dashLength?4:a.dashLength;var r=e.area[0],o=e.height-e.area[2];if("dash"==a.gridType&&i.setLineDash([a.dashLength,a.dashLength]),i.setStrokeStyle(a.gridColor||"#cccccc"),i.setLineWidth(1*e.pix),i.beginPath(),i.moveTo(t,r),i.lineTo(t,o),i.stroke(),i.setLineDash([]),a.xAxisLabel){var s=e.categories[e.tooltip.index];i.setFontSize(n.fontSize);var l=C(s,n.fontSize,i),u=t-.5*l,c=o;i.beginPath(),i.setFillStyle(f(a.labelBgColor||n.toolTipBackground,a.labelBgOpacity||n.toolTipOpacity)),i.setStrokeStyle(a.labelBgColor||n.toolTipBackground),i.setLineWidth(1*e.pix),i.rect(u-n.toolTipPadding,c,l+2*n.toolTipPadding,n.fontSize+2*n.toolTipPadding),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.setFontSize(n.fontSize),i.setFillStyle(a.labelFontColor||e.fontColor),i.fillText(String(s),u,c+n.toolTipPadding+n.fontSize),i.closePath(),i.stroke()}}function At(t,e,n){for(var i=u({},{type:"solid",dashLength:4,data:[]},t.extra.markLine),a=t.area[3],r=t.width-t.area[1],o=xt(i.data,t),s=0;s<o.length;s++){var l=u({},{lineColor:"#DE4A42",showLabel:!1,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,yAxisIndex:0},o[s]);if("dash"==i.type&&n.setLineDash([i.dashLength,i.dashLength]),n.setStrokeStyle(l.lineColor),n.setLineWidth(1*t.pix),n.beginPath(),n.moveTo(a,l.y),n.lineTo(r,l.y),n.stroke(),n.setLineDash([]),l.showLabel){var c=t.yAxis.formatter?t.yAxis.formatter(l.value):l.value;n.setFontSize(e.fontSize);var d=C(c,e.fontSize,n),h=(t.chartData.yAxisData.yAxisWidth[0].width,t.area[3]-d-2*e.toolTipPadding),p=t.area[3],m=p-h,_=p-e.toolTipPadding,g=l.y;n.setFillStyle(f(l.labelBgColor,l.labelBgOpacity)),n.setStrokeStyle(l.labelBgColor),n.setLineWidth(1*t.pix),n.beginPath(),n.rect(h,g-.5*e.fontSize-e.toolTipPadding,m,e.fontSize+2*e.toolTipPadding),n.closePath(),n.stroke(),n.fill(),n.setFontSize(e.fontSize),n.setTextAlign("right"),n.setFillStyle(l.labelFontColor),n.fillText(String(c),_,g+.5*e.fontSize),n.stroke(),n.setTextAlign("left")}}}function Mt(t,e,n,i,a){var r=u({},{gridType:"solid",dashLength:4},t.extra.tooltip),o=t.area[3],s=t.width-t.area[1];if("dash"==r.gridType&&n.setLineDash([r.dashLength,r.dashLength]),n.setStrokeStyle(r.gridColor||"#cccccc"),n.setLineWidth(1*t.pix),n.beginPath(),n.moveTo(o,t.tooltip.offset.y),n.lineTo(s,t.tooltip.offset.y),n.stroke(),n.setLineDash([]),r.yAxisLabel)for(var l=bt(t.tooltip.offset.y,t.series,t,e,i),c=t.chartData.yAxisData.yAxisWidth,d=t.area[3],h=t.width-t.area[1],p=0;p<l.length;p++){n.setFontSize(e.fontSize);var m=C(l[p],e.fontSize,n),_=void 0,g=void 0,v=void 0;"left"==c[p].position?(_=d-c[p].width,g=Math.max(_,_+m+2*e.toolTipPadding)):(_=h,g=Math.max(_+c[p].width,_+m+2*e.toolTipPadding)),v=g-_;var y=_+(v-m)/2,b=t.tooltip.offset.y;n.beginPath(),n.setFillStyle(f(r.labelBgColor||e.toolTipBackground,r.labelBgOpacity||e.toolTipOpacity)),n.setStrokeStyle(r.labelBgColor||e.toolTipBackground),n.setLineWidth(1*t.pix),n.rect(_,b-.5*e.fontSize-e.toolTipPadding,v,e.fontSize+2*e.toolTipPadding),n.closePath(),n.stroke(),n.fill(),n.beginPath(),n.setFontSize(e.fontSize),n.setFillStyle(r.labelFontColor||t.fontColor),n.fillText(l[p],y,b+.5*e.fontSize),n.closePath(),n.stroke(),"left"==c[p].position?d-=c[p].width+t.yAxis.padding*t.pix:h+=c[p].width+t.yAxis.padding*t.pix}}function It(t,e,n,i,a){var r=u({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.column),o=e.area[0],s=e.height-e.area[2];i.beginPath(),i.setFillStyle(f(r.activeBgColor,r.activeBgOpacity)),i.rect(t-a/2,o,a,s-o),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function jt(t,e,n,i,a){var r=u({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.bar),o=e.area[3],s=e.width-e.area[1];i.beginPath(),i.setFillStyle(f(r.activeBgColor,r.activeBgOpacity)),i.rect(o,t-a/2,s-o,a),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function Ft(t,e,n,i,a,r,o){var s=u({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,fontColor:"#FFFFFF",splitLine:!0},n.extra.tooltip);1==s.showCategory&&n.categories&&t.unshift({text:n.categories[n.tooltip.index],color:null});var l=4*n.pix,c=5*n.pix,d=s.showArrow?8*n.pix:0,h=!1;"line"!=n.type&&"area"!=n.type&&"candle"!=n.type&&"mix"!=n.type||1==s.splitLine&&Ot(n.tooltip.offset.x,n,i,a),e=u({x:0,y:0},e),e.y-=8*n.pix;var p=t.map((function(t){return C(t.text,i.fontSize,a)})),m=l+c+4*i.toolTipPadding+Math.max.apply(null,p),_=2*i.toolTipPadding+t.length*i.toolTipLineHeight;if(0!=s.showBox){e.x-Math.abs(n._scrollDistance_||0)+d+m>n.width&&(h=!0),_+e.y>n.height&&(e.y=n.height-_),a.beginPath(),a.setFillStyle(f(s.bgColor||i.toolTipBackground,s.bgOpacity||i.toolTipOpacity)),a.setLineWidth(s.borderWidth*n.pix),a.setStrokeStyle(f(s.borderColor,s.borderOpacity));var g=s.borderRadius;h?(s.showArrow&&(a.moveTo(e.x,e.y+10*n.pix),a.lineTo(e.x-d,e.y+10*n.pix+5*n.pix)),a.arc(e.x-d-g,e.y+_-g,g,0,Math.PI/2,!1),a.arc(e.x-d-Math.round(m)+g,e.y+_-g,g,Math.PI/2,Math.PI,!1),a.arc(e.x-d-Math.round(m)+g,e.y+g,g,-Math.PI,-Math.PI/2,!1),a.arc(e.x-d-g,e.y+g,g,-Math.PI/2,0,!1),s.showArrow&&(a.lineTo(e.x-d,e.y+10*n.pix-5*n.pix),a.lineTo(e.x,e.y+10*n.pix))):(s.showArrow&&(a.moveTo(e.x,e.y+10*n.pix),a.lineTo(e.x+d,e.y+10*n.pix-5*n.pix)),a.arc(e.x+d+g,e.y+g,g,-Math.PI,-Math.PI/2,!1),a.arc(e.x+d+Math.round(m)-g,e.y+g,g,-Math.PI/2,0,!1),a.arc(e.x+d+Math.round(m)-g,e.y+_-g,g,0,Math.PI/2,!1),a.arc(e.x+d+g,e.y+_-g,g,Math.PI/2,Math.PI,!1),s.showArrow&&(a.lineTo(e.x+d,e.y+10*n.pix+5*n.pix),a.lineTo(e.x,e.y+10*n.pix))),a.closePath(),a.fill(),s.borderWidth>0&&a.stroke(),t.forEach((function(t,n){if(null!==t.color){a.beginPath(),a.setFillStyle(t.color);var r=e.x+d+2*i.toolTipPadding,o=e.y+(i.toolTipLineHeight-i.fontSize)/2+i.toolTipLineHeight*n+i.toolTipPadding+1;h&&(r=e.x-m-d+2*i.toolTipPadding),a.fillRect(r,o,l,i.fontSize),a.closePath()}})),t.forEach((function(t,n){var r=e.x+d+2*i.toolTipPadding+l+c;h&&(r=e.x-m-d+2*i.toolTipPadding+ +l+c);var o=e.y+(i.toolTipLineHeight-i.fontSize)/2+i.toolTipLineHeight*n+i.toolTipPadding;a.beginPath(),a.setFontSize(i.fontSize),a.setFillStyle(s.fontColor),a.fillText(t.text,r,o+i.fontSize),a.closePath(),a.stroke()}))}}function Et(t,e,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing,c=u({},{type:"group",width:l/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.column),d=[];a.save();var h=-2,p=s.length+2;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),h=Math.floor(-e._scrollDistance_/l)-2,p=h+e.xAxis.itemCount+4),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&It(e.tooltip.offset.x,e,i,a,l),c.customColor=$(c.linearType,c.customColor,t,i),t.forEach((function(o,u){var m,_,g;m=[].concat(e.chartData.yAxisData.ranges[o.index]),_=m.pop(),g=m.shift();var v=o.data;switch(c.type){case"group":var y=pt(v,_,g,s,l,e,i,r),b=_t(v,_,g,s,l,e,i,u,t,r);d.push(b),y=st(y,l,t.length,u,i,e);for(var x=0;x<y.length;x++){var w=y[x];if(null!==w&&x>h&&x<p){var $=w.x-w.width/2,k=e.height-w.y-e.area[2];a.beginPath();var C=w.color||o.color,D=w.color||o.color;if("none"!==c.linearType){var S=a.createLinearGradient($,w.y,$,e.height-e.area[2]);"opacity"==c.linearType?(S.addColorStop(0,f(C,c.linearOpacity)),S.addColorStop(1,f(C,1))):(S.addColorStop(0,f(c.customColor[o.linearIndex],c.linearOpacity)),S.addColorStop(c.colorStop,f(c.customColor[o.linearIndex],c.linearOpacity)),S.addColorStop(1,f(C,1))),C=S}if(c.barBorderRadius&&4===c.barBorderRadius.length||!0===c.barBorderCircle){var T=$,P=w.y,O=w.width,A=e.height-e.area[2]-w.y;c.barBorderCircle&&(c.barBorderRadius=[O/2,O/2,0,0]);var M=n(c.barBorderRadius,4),I=M[0],j=M[1],F=M[2],E=M[3],L=Math.min(O/2,A/2);I=I>L?L:I,j=j>L?L:j,F=F>L?L:F,E=E>L?L:E,I=I<0?0:I,j=j<0?0:j,F=F<0?0:F,E=E<0?0:E,a.arc(T+I,P+I,I,-Math.PI,-Math.PI/2),a.arc(T+O-j,P+j,j,-Math.PI/2,0),a.arc(T+O-F,P+A-F,F,0,Math.PI/2),a.arc(T+E,P+A-E,E,Math.PI/2,Math.PI)}else a.moveTo($,w.y),a.lineTo($+w.width-2,w.y),a.lineTo($+w.width-2,e.height-e.area[2]),a.lineTo($,e.height-e.area[2]),a.lineTo($,w.y),a.setLineWidth(1),a.setStrokeStyle(D);a.setFillStyle(C),a.closePath(),a.fill()}}break;case"stack":y=_t(v,_,g,s,l,e,i,u,t,r);d.push(y),y=ct(y,l,t.length,u,i,e,t);for(var q=0;q<y.length;q++){var R=y[q];if(null!==R&&q>h&&q<p){a.beginPath();C=R.color||o.color,$=R.x-R.width/2+1,k=e.height-R.y-e.area[2];var N=e.height-R.y0-e.area[2];u>0&&(k-=N),a.setFillStyle(C),a.moveTo($,R.y),a.fillRect($,R.y,R.width-2,k),a.closePath(),a.fill()}}break;case"meter":y=pt(v,_,g,s,l,e,i,r);if(d.push(y),y=ut(y,l,t.length,u,i,e,c.meterBorder),0==u)for(var B=0;B<y.length;B++){var z=y[B];if(null!==z&&B>h&&B<p){a.beginPath(),a.setFillStyle(c.meterFillColor);$=z.x-z.width/2,k=e.height-z.y-e.area[2];if(c.barBorderCircle){var W=(z.width-2*c.meterBorder)/2;W>k&&(W=k),a.moveTo($+c.meterBorder,e.height-e.area[2]),a.lineTo($+c.meterBorder,z.y+W),a.arc($+z.width/2,z.y+W,W,-Math.PI,0),a.lineTo($+z.width-c.meterBorder,e.height-e.area[2]),a.lineTo($,e.height-e.area[2]),a.fill()}else a.moveTo($,z.y),a.fillRect($,z.y,z.width,k),a.closePath(),a.fill();if(c.meterBorder>0){if(a.beginPath(),a.setStrokeStyle(o.color),a.setLineWidth(c.meterBorder*e.pix),c.barBorderCircle){W=(z.width-c.meterBorder)/2;W>k&&(W=k),a.moveTo($+.5*c.meterBorder,e.height-e.area[2]),a.lineTo($+.5*c.meterBorder,z.y+W),a.arc($+z.width/2,z.y+W-.5*c.meterBorder,W,-Math.PI,0),a.lineTo($+z.width-.5*c.meterBorder,e.height-e.area[2])}else a.moveTo($+.5*c.meterBorder,z.y+k),a.lineTo($+.5*c.meterBorder,z.y+.5*c.meterBorder),a.lineTo($+z.width-.5*c.meterBorder,z.y+.5*c.meterBorder),a.lineTo($+z.width-.5*c.meterBorder,z.y+k);a.stroke()}}}else for(var U=0;U<y.length;U++){var V=y[U];if(null!==V&&U>h&&U<p){a.beginPath(),a.setFillStyle(V.color||o.color);$=V.x-V.width/2,k=e.height-V.y-e.area[2];if(c.barBorderCircle){W=V.width/2;W>k&&(W=k),a.moveTo($,e.height-e.area[2]),a.arc($+W,V.y+W,W,-Math.PI,-Math.PI/2),a.arc($+V.width-W,V.y+W,W,-Math.PI/2,0),a.lineTo($+V.width,e.height-e.area[2]),a.lineTo($,e.height-e.area[2]),a.fill()}else a.moveTo($,V.y),a.fillRect($,V.y,V.width,k),a.closePath(),a.fill()}}break}})),!1!==e.dataLabel&&1===r&&t.forEach((function(n,o){var u,d,f;u=[].concat(e.chartData.yAxisData.ranges[n.index]),d=u.pop(),f=u.shift();var h=n.data;switch(c.type){case"group":var p=pt(h,d,f,s,l,e,i,r);p=st(p,l,t.length,o,i,e),Ct(p,n,i,a,e);break;case"stack":p=_t(h,d,f,s,l,e,i,o,t,r);Ct(p,n,i,a,e);break;case"meter":p=pt(h,d,f,s,l,e,i,r);Ct(p,n,i,a,e);break}})),a.restore(),{xAxisPoints:s,calPoints:d,eachSpacing:l}}function Lt(t,e,i,a){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=[],s=(e.height-e.area[0]-e.area[2])/e.categories.length,l=0;l<e.categories.length;l++)o.push(e.area[0]+s/2+s*l);var c=u({},{type:"group",width:s/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.bar),d=[];a.save();var h=-2,p=o.length+2;return e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&jt(e.tooltip.offset.y,e,i,a,s),c.customColor=$(c.linearType,c.customColor,t,i),t.forEach((function(l,u){var m,_,g;m=[].concat(e.chartData.xAxisData.ranges),g=m.pop(),_=m.shift();var v=l.data;switch(c.type){case"group":var y=mt(v,_,g,o,s,e,i,r),b=gt(v,_,g,o,s,e,i,u,t,r);d.push(b),y=lt(y,s,t.length,u,i,e);for(var x=0;x<y.length;x++){var w=y[x];if(null!==w&&x>h&&x<p){var $=e.area[3],k=w.y-w.width/2;w.height;a.beginPath();var C=w.color||l.color,D=w.color||l.color;if("none"!==c.linearType){var S=a.createLinearGradient($,w.y,w.x,w.y);"opacity"==c.linearType?(S.addColorStop(0,f(C,c.linearOpacity)),S.addColorStop(1,f(C,1))):(S.addColorStop(0,f(c.customColor[l.linearIndex],c.linearOpacity)),S.addColorStop(c.colorStop,f(c.customColor[l.linearIndex],c.linearOpacity)),S.addColorStop(1,f(C,1))),C=S}if(c.barBorderRadius&&4===c.barBorderRadius.length||!0===c.barBorderCircle){var T=$,P=w.width,O=w.y-w.width/2,A=w.heigh;c.barBorderCircle&&(c.barBorderRadius=[P/2,P/2,0,0]);var M=n(c.barBorderRadius,4),I=M[0],j=M[1],F=M[2],E=M[3],L=Math.min(P/2,A/2);I=I>L?L:I,j=j>L?L:j,F=F>L?L:F,E=E>L?L:E,I=I<0?0:I,j=j<0?0:j,F=F<0?0:F,E=E<0?0:E,a.arc(T+E,O+E,E,-Math.PI,-Math.PI/2),a.arc(w.x-I,O+I,I,-Math.PI/2,0),a.arc(w.x-j,O+P-j,j,0,Math.PI/2),a.arc(T+F,O+P-F,F,Math.PI/2,Math.PI)}else a.moveTo($,k),a.lineTo(w.x,k),a.lineTo(w.x,k+w.width-2),a.lineTo($,k+w.width-2),a.lineTo($,k),a.setLineWidth(1),a.setStrokeStyle(D);a.setFillStyle(C),a.closePath(),a.fill()}}break;case"stack":y=gt(v,_,g,o,s,e,i,u,t,r);d.push(y),y=dt(y,s,t.length,u,i,e,t);for(var q=0;q<y.length;q++){var R=y[q];if(null!==R&&q>h&&q<p){a.beginPath();C=R.color||l.color,$=R.x0;a.setFillStyle(C),a.moveTo($,R.y-R.width/2),a.fillRect($,R.y-R.width/2,R.height,R.width-2),a.closePath(),a.fill()}}break}})),!1!==e.dataLabel&&1===r&&t.forEach((function(n,l){var u,d,f;u=[].concat(e.chartData.xAxisData.ranges),f=u.pop(),d=u.shift();var h=n.data;switch(c.type){case"group":var p=mt(h,d,f,o,s,e,i,r);p=lt(p,s,t.length,l,i,e),Dt(p,n,i,a,e);break;case"stack":p=gt(h,d,f,o,s,e,i,l,t,r);Dt(p,n,i,a,e);break}})),{yAxisPoints:o,calPoints:d,eachSpacing:s}}function qt(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=u({},{color:{},average:{}},n.extra.candle);o.color=u({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},o.color),o.average=u({},{show:!1,name:[],day:[],color:i.color},o.average),n.extra.candle=o;var s=n.chartData.xAxisData,l=s.xAxisPoints,c=s.eachSpacing,d=[];a.save();var f=-2,h=l.length+2,p=0,m=n.width+c;return n._scrollDistance_&&0!==n._scrollDistance_&&!0===n.enableScroll&&(a.translate(n._scrollDistance_,0),f=Math.floor(-n._scrollDistance_/c)-2,h=f+n.xAxis.itemCount+4,p=-n._scrollDistance_-2*c+n.area[3],m=p+(n.xAxis.itemCount+4)*c),(o.average.show||e)&&e.forEach((function(t,e){var o,s,u;o=[].concat(n.chartData.yAxisData.ranges[t.index]),s=o.pop(),u=o.shift();for(var d=t.data,f=pt(d,s,u,l,c,n,i,r),h=J(f,t),_=0;_<h.length;_++){var g=h[_];if(a.beginPath(),a.setStrokeStyle(t.color),a.setLineWidth(1),1===g.length)a.moveTo(g[0].x,g[0].y),a.arc(g[0].x,g[0].y,1,0,2*Math.PI);else{a.moveTo(g[0].x,g[0].y);for(var y=0,b=0;b<g.length;b++){var x=g[b];if(0==y&&x.x>p&&(a.moveTo(x.x,x.y),y=1),b>0&&x.x>p&&x.x<m){var w=v(g,b-1);a.bezierCurveTo(w.ctrA.x,w.ctrA.y,w.ctrB.x,w.ctrB.y,x.x,x.y)}}a.moveTo(g[0].x,g[0].y)}a.closePath(),a.stroke()}})),t.forEach((function(t,e){var s,u,p;s=[].concat(n.chartData.yAxisData.ranges[t.index]),u=s.pop(),p=s.shift();var m=t.data,_=ht(m,u,p,l,c,n,i,r);d.push(_);for(var g=J(_,t),v=0;v<g[0].length;v++)if(v>f&&v<h){var y=g[0][v];a.beginPath(),m[v][1]-m[v][0]>0?(a.setStrokeStyle(o.color.upLine),a.setFillStyle(o.color.upFill),a.setLineWidth(1*n.pix),a.moveTo(y[3].x,y[3].y),a.lineTo(y[1].x,y[1].y),a.lineTo(y[1].x-c/4,y[1].y),a.lineTo(y[0].x-c/4,y[0].y),a.lineTo(y[0].x,y[0].y),a.lineTo(y[2].x,y[2].y),a.lineTo(y[0].x,y[0].y),a.lineTo(y[0].x+c/4,y[0].y),a.lineTo(y[1].x+c/4,y[1].y),a.lineTo(y[1].x,y[1].y),a.moveTo(y[3].x,y[3].y)):(a.setStrokeStyle(o.color.downLine),a.setFillStyle(o.color.downFill),a.setLineWidth(1*n.pix),a.moveTo(y[3].x,y[3].y),a.lineTo(y[0].x,y[0].y),a.lineTo(y[0].x-c/4,y[0].y),a.lineTo(y[1].x-c/4,y[1].y),a.lineTo(y[1].x,y[1].y),a.lineTo(y[2].x,y[2].y),a.lineTo(y[1].x,y[1].y),a.lineTo(y[1].x+c/4,y[1].y),a.lineTo(y[0].x+c/4,y[0].y),a.lineTo(y[0].x,y[0].y),a.moveTo(y[3].x,y[3].y)),a.closePath(),a.fill(),a.stroke()}})),a.restore(),{xAxisPoints:l,calPoints:d,eachSpacing:c}}function Rt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1},e.extra.area),o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing,c=e.height-e.area[2],d=[];i.save();var h=0,p=e.width+l;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),h=-e._scrollDistance_-2*l+e.area[3],p=h+(e.xAxis.itemCount+4)*l),t.forEach((function(t,o){var u,m,_;u=[].concat(e.chartData.yAxisData.ranges[t.index]),m=u.pop(),_=u.shift();var g=t.data,y=pt(g,m,_,s,l,e,n,a);d.push(y);for(var b=J(y,t),x=0;x<b.length;x++){var w=b[x];if(i.beginPath(),i.setStrokeStyle(f(t.color,r.opacity)),r.gradient){var $=i.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);$.addColorStop("0",f(t.color,r.opacity)),$.addColorStop("1.0",f("#FFFFFF",.1)),i.setFillStyle($)}else i.setFillStyle(f(t.color,r.opacity));if(i.setLineWidth(r.width*e.pix),w.length>1){var k=w[0],C=w[w.length-1];i.moveTo(k.x,k.y);var D=0;if("curve"===r.type)for(var S=0;S<w.length;S++){var T=w[S];if(0==D&&T.x>h&&(i.moveTo(T.x,T.y),D=1),S>0&&T.x>h&&T.x<p){var P=v(w,S-1);i.bezierCurveTo(P.ctrA.x,P.ctrA.y,P.ctrB.x,P.ctrB.y,T.x,T.y)}}if("straight"===r.type)for(var O=0;O<w.length;O++){var A=w[O];0==D&&A.x>h&&(i.moveTo(A.x,A.y),D=1),O>0&&A.x>h&&A.x<p&&i.lineTo(A.x,A.y)}if("step"===r.type)for(var M=0;M<w.length;M++){var I=w[M];0==D&&I.x>h&&(i.moveTo(I.x,I.y),D=1),M>0&&I.x>h&&I.x<p&&(i.lineTo(I.x,w[M-1].y),i.lineTo(I.x,I.y))}i.lineTo(C.x,c),i.lineTo(k.x,c),i.lineTo(k.x,k.y)}else{var j=w[0];i.moveTo(j.x-l/2,j.y),i.lineTo(j.x+l/2,j.y),i.lineTo(j.x+l/2,c),i.lineTo(j.x-l/2,c),i.moveTo(j.x-l/2,j.y)}if(i.closePath(),i.fill(),r.addLine){if("dash"==t.lineType){var F=t.dashLength?t.dashLength:8;F*=e.pix,i.setLineDash([F,F])}if(i.beginPath(),i.setStrokeStyle(t.color),i.setLineWidth(r.width*e.pix),1===w.length)i.moveTo(w[0].x,w[0].y),i.arc(w[0].x,w[0].y,1,0,2*Math.PI);else{i.moveTo(w[0].x,w[0].y);var E=0;if("curve"===r.type)for(var L=0;L<w.length;L++){var q=w[L];if(0==E&&q.x>h&&(i.moveTo(q.x,q.y),E=1),L>0&&q.x>h&&q.x<p){var R=v(w,L-1);i.bezierCurveTo(R.ctrA.x,R.ctrA.y,R.ctrB.x,R.ctrB.y,q.x,q.y)}}if("straight"===r.type)for(var N=0;N<w.length;N++){var B=w[N];0==E&&B.x>h&&(i.moveTo(B.x,B.y),E=1),N>0&&B.x>h&&B.x<p&&i.lineTo(B.x,B.y)}if("step"===r.type)for(var z=0;z<w.length;z++){var W=w[z];0==E&&W.x>h&&(i.moveTo(W.x,W.y),E=1),z>0&&W.x>h&&W.x<p&&(i.lineTo(W.x,w[z-1].y),i.lineTo(W.x,W.y))}i.moveTo(w[0].x,w[0].y)}i.stroke(),i.setLineDash([])}}!1!==e.dataPointShape&&$t(y,t.color,t.pointShape,i,e)})),!1!==e.dataLabel&&1===a&&t.forEach((function(t,r){var o,u,c;o=[].concat(e.chartData.yAxisData.ranges[t.index]),u=o.pop(),c=o.shift();var d=t.data,f=pt(d,u,c,s,l,e,n,a);Ct(f,t,n,i,e)})),i.restore(),{xAxisPoints:s,calPoints:d,eachSpacing:l}}function Nt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=(u({},{type:"circle"},e.extra.scatter),e.chartData.xAxisData),o=r.xAxisPoints,s=r.eachSpacing,l=[];i.save();var c=0;e.width;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),c=-e._scrollDistance_-2*s+e.area[3],c+(e.xAxis.itemCount+4)*s),t.forEach((function(t,r){var l,u,c;l=[].concat(e.chartData.yAxisData.ranges[t.index]),u=l.pop(),c=l.shift();var d=t.data,f=pt(d,u,c,o,s,e,n,a);i.beginPath(),i.setStrokeStyle(t.color),i.setFillStyle(t.color),i.setLineWidth(1*e.pix);var h=t.pointShape;if("diamond"===h)f.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y),i.lineTo(t.x,t.y+4.5),i.lineTo(t.x+4.5,t.y),i.lineTo(t.x,t.y-4.5))}));else if("circle"===h)f.forEach((function(t,n){null!==t&&(i.moveTo(t.x+2.5*e.pix,t.y),i.arc(t.x,t.y,3*e.pix,0,2*Math.PI,!1))}));else if("square"===h)f.forEach((function(t,e){null!==t&&(i.moveTo(t.x-3.5,t.y-3.5),i.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===h)f.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y+4.5),i.lineTo(t.x+4.5,t.y+4.5),i.lineTo(t.x,t.y-4.5))}));else if("triangle"===h)return;i.closePath(),i.fill(),i.stroke()})),!1!==e.dataLabel&&1===a&&t.forEach((function(t,r){var l,u,c;l=[].concat(e.chartData.yAxisData.ranges[t.index]),u=l.pop(),c=l.shift();var d=t.data,f=pt(d,u,c,o,s,e,n,a);Ct(f,t,n,i,e)})),i.restore(),{xAxisPoints:o,calPoints:l,eachSpacing:s}}function Bt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{opacity:1,border:2},e.extra.bubble),o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing,c=[];i.save();var d=0;e.width;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),d=-e._scrollDistance_-2*l+e.area[3],d+(e.xAxis.itemCount+4)*l),t.forEach((function(o,u){var c,d,h;c=[].concat(e.chartData.yAxisData.ranges[o.index]),d=c.pop(),h=c.shift();var p=o.data,m=pt(p,d,h,s,l,e,n,a);i.beginPath(),i.setStrokeStyle(o.color),i.setLineWidth(r.border*e.pix),i.setFillStyle(f(o.color,r.opacity)),m.forEach((function(t,n){i.moveTo(t.x+t.r,t.y),i.arc(t.x,t.y,t.r*e.pix,0,2*Math.PI,!1)})),i.closePath(),i.fill(),i.stroke(),!1!==e.dataLabel&&1===a&&m.forEach((function(a,r){i.beginPath();var o=t.textSize*e.pix||n.fontSize;i.setFontSize(o),i.setFillStyle(t.textColor||"#FFFFFF"),i.setTextAlign("center"),i.fillText(String(a.t),a.x,a.y+o/2),i.closePath(),i.stroke(),i.setTextAlign("left")}))})),i.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:l}}function zt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{type:"straight",width:2},e.extra.line);r.width*=e.pix;var o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing,c=[];i.save();var d=0,f=e.width+l;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),d=-e._scrollDistance_-2*l+e.area[3],f=d+(e.xAxis.itemCount+4)*l),t.forEach((function(t,o){var u,h,p;u=[].concat(e.chartData.yAxisData.ranges[t.index]),h=u.pop(),p=u.shift();var m=t.data,_=pt(m,h,p,s,l,e,n,a);c.push(_);var g=J(_,t);if("dash"==t.lineType){var y=t.dashLength?t.dashLength:8;y*=e.pix,i.setLineDash([y,y])}i.beginPath(),i.setStrokeStyle(t.color),i.setLineWidth(r.width),g.forEach((function(t,e){if(1===t.length)i.moveTo(t[0].x,t[0].y),i.arc(t[0].x,t[0].y,1,0,2*Math.PI);else{i.moveTo(t[0].x,t[0].y);var n=0;if("curve"===r.type)for(var a=0;a<t.length;a++){var o=t[a];if(0==n&&o.x>d&&(i.moveTo(o.x,o.y),n=1),a>0&&o.x>d&&o.x<f){var s=v(t,a-1);i.bezierCurveTo(s.ctrA.x,s.ctrA.y,s.ctrB.x,s.ctrB.y,o.x,o.y)}}if("straight"===r.type)for(var l=0;l<t.length;l++){var u=t[l];0==n&&u.x>d&&(i.moveTo(u.x,u.y),n=1),l>0&&u.x>d&&u.x<f&&i.lineTo(u.x,u.y)}if("step"===r.type)for(var c=0;c<t.length;c++){var h=t[c];0==n&&h.x>d&&(i.moveTo(h.x,h.y),n=1),c>0&&h.x>d&&h.x<f&&(i.lineTo(h.x,t[c-1].y),i.lineTo(h.x,h.y))}i.moveTo(t[0].x,t[0].y)}})),i.stroke(),i.setLineDash([]),!1!==e.dataPointShape&&$t(_,t.color,t.pointShape,i,e)})),!1!==e.dataLabel&&1===a&&t.forEach((function(t,r){var o,u,c;o=[].concat(e.chartData.yAxisData.ranges[t.index]),u=o.pop(),c=o.shift();var d=t.data,f=pt(d,u,c,s,l,e,n,a);Ct(f,t,n,i,e)})),i.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:l}}function Wt(t,e,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=u({},{width:c/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mix.column),s=e.chartData.xAxisData,l=s.xAxisPoints,c=s.eachSpacing,d=e.height-e.area[2],h=[],p=0,m=0;t.forEach((function(t,e){"column"==t.type&&(m+=1)})),a.save();var _=-2,g=l.length+2,y=0,b=e.width+c;if(e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),_=Math.floor(-e._scrollDistance_/c)-2,g=_+e.xAxis.itemCount+4,y=-e._scrollDistance_-2*c+e.area[3],b=y+(e.xAxis.itemCount+4)*c),o.customColor=$(o.linearType,o.customColor,t,i),t.forEach((function(t,s){var u,x,w;u=[].concat(e.chartData.yAxisData.ranges[t.index]),x=u.pop(),w=u.shift();var $=t.data,k=pt($,x,w,l,c,e,i,r);if(h.push(k),"column"==t.type){k=st(k,c,m,p,i,e);for(var C=0;C<k.length;C++){var D=k[C];if(null!==D&&C>_&&C<g){var S=D.x-D.width/2;e.height,D.y,e.area[2];a.beginPath();var T=D.color||t.color,P=D.color||t.color;if("none"!==o.linearType){var O=a.createLinearGradient(S,D.y,S,e.height-e.area[2]);"opacity"==o.linearType?(O.addColorStop(0,f(T,o.linearOpacity)),O.addColorStop(1,f(T,1))):(O.addColorStop(0,f(o.customColor[t.linearIndex],o.linearOpacity)),O.addColorStop(o.colorStop,f(o.customColor[t.linearIndex],o.linearOpacity)),O.addColorStop(1,f(T,1))),T=O}if(o.barBorderRadius&&4===o.barBorderRadius.length||o.barBorderCircle){var A=S,M=D.y,I=D.width,j=e.height-e.area[2]-D.y;o.barBorderCircle&&(o.barBorderRadius=[I/2,I/2,0,0]);var F=n(o.barBorderRadius,4),E=F[0],L=F[1],q=F[2],R=F[3],N=Math.min(I/2,j/2);E=E>N?N:E,L=L>N?N:L,q=q>N?N:q,R=R>N?N:R,E=E<0?0:E,L=L<0?0:L,q=q<0?0:q,R=R<0?0:R,a.arc(A+E,M+E,E,-Math.PI,-Math.PI/2),a.arc(A+I-L,M+L,L,-Math.PI/2,0),a.arc(A+I-q,M+j-q,q,0,Math.PI/2),a.arc(A+R,M+j-R,R,Math.PI/2,Math.PI)}else a.moveTo(S,D.y),a.lineTo(S+D.width-2,D.y),a.lineTo(S+D.width-2,e.height-e.area[2]),a.lineTo(S,e.height-e.area[2]),a.lineTo(S,D.y),a.setLineWidth(1),a.setStrokeStyle(P);a.setFillStyle(T),a.closePath(),a.fill()}}p+=1}if("area"==t.type)for(var B=J(k,t),z=0;z<B.length;z++){var W=B[z];if(a.beginPath(),a.setStrokeStyle(t.color),a.setFillStyle(f(t.color,.2)),a.setLineWidth(2*e.pix),W.length>1){var U=W[0],V=W[W.length-1];a.moveTo(U.x,U.y);var G=0;if("curve"===t.style)for(var H=0;H<W.length;H++){var Q=W[H];if(0==G&&Q.x>y&&(a.moveTo(Q.x,Q.y),G=1),H>0&&Q.x>y&&Q.x<b){var K=v(W,H-1);a.bezierCurveTo(K.ctrA.x,K.ctrA.y,K.ctrB.x,K.ctrB.y,Q.x,Q.y)}}else for(var Y=0;Y<W.length;Y++){var X=W[Y];0==G&&X.x>y&&(a.moveTo(X.x,X.y),G=1),Y>0&&X.x>y&&X.x<b&&a.lineTo(X.x,X.y)}a.lineTo(V.x,d),a.lineTo(U.x,d),a.lineTo(U.x,U.y)}else{var Z=W[0];a.moveTo(Z.x-c/2,Z.y),a.lineTo(Z.x+c/2,Z.y),a.lineTo(Z.x+c/2,d),a.lineTo(Z.x-c/2,d),a.moveTo(Z.x-c/2,Z.y)}a.closePath(),a.fill()}if("line"==t.type){var tt=J(k,t);tt.forEach((function(n,i){if("dash"==t.lineType){var r=t.dashLength?t.dashLength:8;r*=e.pix,a.setLineDash([r,r])}if(a.beginPath(),a.setStrokeStyle(t.color),a.setLineWidth(2*e.pix),1===n.length)a.moveTo(n[0].x,n[0].y),a.arc(n[0].x,n[0].y,1,0,2*Math.PI);else{a.moveTo(n[0].x,n[0].y);var o=0;if("curve"==t.style)for(var s=0;s<n.length;s++){var l=n[s];if(0==o&&l.x>y&&(a.moveTo(l.x,l.y),o=1),s>0&&l.x>y&&l.x<b){var u=v(n,s-1);a.bezierCurveTo(u.ctrA.x,u.ctrA.y,u.ctrB.x,u.ctrB.y,l.x,l.y)}}else for(var c=0;c<n.length;c++){var d=n[c];0==o&&d.x>y&&(a.moveTo(d.x,d.y),o=1),c>0&&d.x>y&&d.x<b&&a.lineTo(d.x,d.y)}a.moveTo(n[0].x,n[0].y)}a.stroke(),a.setLineDash([])}))}"point"==t.type&&(t.addPoint=!0),1==t.addPoint&&"column"!==t.type&&$t(k,t.color,t.pointShape,a,e)})),!1!==e.dataLabel&&1===r){p=0;t.forEach((function(t,n){var o,s,u;o=[].concat(e.chartData.yAxisData.ranges[t.index]),s=o.pop(),u=o.shift();var d=t.data,f=pt(d,s,u,l,c,e,i,r);"column"!==t.type?Ct(f,t,i,a,e):(f=st(f,c,m,p,i,e),Ct(f,t,i,a,e),p+=1)}))}return a.restore(),{xAxisPoints:l,calPoints:h,eachSpacing:c}}function Ut(t,e,n,i,a,r){var o=t.extra.tooltip||{};o.horizentalLine&&t.tooltip&&1===i&&("line"==t.type||"area"==t.type||"column"==t.type||"candle"==t.type||"mix"==t.type)&&Mt(t,e,n,a,r),n.save(),t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&n.translate(t._scrollDistance_,0),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===i&&Ft(t.tooltip.textList,t.tooltip.offset,t,e,n,a,r),n.restore()}function Vt(t,e,n,i){var a=e.chartData.xAxisData,r=a.xAxisPoints,o=a.startX,s=a.endX,l=a.eachSpacing,u="center";"bar"!=e.type&&"line"!=e.type&&"area"!=e.type&&"scatter"!=e.type&&"bubble"!=e.type||(u=e.xAxis.boundaryGap);var c=e.height-e.area[2],d=e.area[0];if(e.enableScroll&&e.xAxis.scrollShow){var f=e.height-e.area[2]+n.xAxisHeight,h=s-o,p=l*(r.length-1),m=h*h/p,_=0;e._scrollDistance_&&(_=-e._scrollDistance_*h/p),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollBackgroundColor||"#EFEBEF"),i.moveTo(o,f),i.lineTo(s,f),i.stroke(),i.closePath(),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollColor||"#A6A6A6"),i.moveTo(o+_,f),i.lineTo(o+_+m,f),i.stroke(),i.closePath(),i.setLineCap("butt")}if(i.save(),e._scrollDistance_&&0!==e._scrollDistance_&&i.translate(e._scrollDistance_,0),!0===e.xAxis.calibration&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),r.forEach((function(t,n){n>0&&(i.beginPath(),i.moveTo(t-l/2,c),i.lineTo(t-l/2,c+3*e.pix),i.closePath(),i.stroke())}))),!0!==e.xAxis.disableGrid&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),"dash"==e.xAxis.gridType&&i.setLineDash([e.xAxis.dashLength*e.pix,e.xAxis.dashLength*e.pix]),e.xAxis.gridEval=e.xAxis.gridEval||1,r.forEach((function(t,n){n%e.xAxis.gridEval==0&&(i.beginPath(),i.moveTo(t,c),i.lineTo(t,d),i.stroke())})),i.setLineDash([])),!0!==e.xAxis.disabled){var v=t.length;e.xAxis.labelCount&&(v=e.xAxis.itemCount?Math.ceil(t.length/e.xAxis.itemCount*e.xAxis.labelCount):e.xAxis.labelCount,v-=1);for(var y=Math.ceil(t.length/v),b=[],x=t.length,w=0;w<x;w++)w%y!==0?b.push(""):b.push(t[w]);b[x-1]=t[x-1];var $=e.xAxis.fontSize*e.pix||n.fontSize;0===n._xAxisTextAngle_?b.forEach((function(t,a){var o=e.xAxis.formatter?e.xAxis.formatter(t):t,s=-C(String(o),$,i)/2;"center"==u&&(s+=l/2);var d=0;e.xAxis.scrollShow&&(d=6*e.pix),i.beginPath(),i.setFontSize($),i.setFillStyle(e.xAxis.fontColor||e.fontColor),i.fillText(String(o),r[a]+s,c+$+(n.xAxisHeight-d-$)/2),i.closePath(),i.stroke()})):b.forEach((function(t,a){var o=e.xAxis.formatter?e.xAxis.formatter(t):t;i.save(),i.beginPath(),i.setFontSize($),i.setFillStyle(e.xAxis.fontColor||e.fontColor);var s=C(String(o),$,i),d=-s;"center"==u&&(d+=l/2);var f=g(r[a]+l/2,c+$/2+5,e.height),h=f.transX,p=f.transY;i.rotate(-1*n._xAxisTextAngle_),i.translate(h,p),i.fillText(String(o),r[a]+d,c+$+5),i.closePath(),i.stroke(),i.restore()}))}i.restore(),e.xAxis.axisLine&&(i.beginPath(),i.setStrokeStyle(e.xAxis.axisLineColor),i.setLineWidth(1*e.pix),i.moveTo(o,e.height-e.area[2]),i.lineTo(s,e.height-e.area[2]),i.stroke())}function Gt(t,e,n,i){if(!0!==e.yAxis.disableGrid){var a=e.height-e.area[0]-e.area[2],r=a/e.yAxis.splitNumber,o=e.area[3],s=e.chartData.xAxisData.xAxisPoints,l=e.chartData.xAxisData.eachSpacing,u=l*(s.length-1),c=o+u,d=[],f=1;!1===e.xAxis.axisLine&&(f=0);for(var h=f;h<e.yAxis.splitNumber+1;h++)d.push(e.height-e.area[2]-r*h);i.save(),e._scrollDistance_&&0!==e._scrollDistance_&&i.translate(e._scrollDistance_,0),"dash"==e.yAxis.gridType&&i.setLineDash([e.yAxis.dashLength*e.pix,e.yAxis.dashLength*e.pix]),i.setStrokeStyle(e.yAxis.gridColor),i.setLineWidth(1*e.pix),d.forEach((function(t,e){i.beginPath(),i.moveTo(o,t),i.lineTo(c,t),i.stroke()})),i.setLineDash([]),i.restore()}}function Ht(t,e,n,i){if(!0!==e.yAxis.disabled){var a=e.height-e.area[0]-e.area[2],r=a/e.yAxis.splitNumber,o=e.area[3],s=e.width-e.area[1],l=e.height-e.area[2],u=l+n.xAxisHeight;e.xAxis.scrollShow&&(u-=3*e.pix),e.xAxis.rotateLabel&&(u=e.height-e.area[2]+e.fontSize*e.pix/2),i.beginPath(),i.setFillStyle(e.background),1==e.enableScroll&&e.xAxis.scrollPosition&&"left"!==e.xAxis.scrollPosition&&i.fillRect(0,0,o,u),1==e.enableScroll&&e.xAxis.scrollPosition&&"right"!==e.xAxis.scrollPosition&&i.fillRect(s,0,e.width,u),i.closePath(),i.stroke();var c=e.area[3],d=e.width-e.area[1],f=e.area[3]+(e.width-e.area[1]-e.area[3])/2;if(e.yAxis.data)for(var h=function(t){var o=e.yAxis.data[t];if(m=[],"categories"===o.type)for(var s=0;s<=o.categories.length;s++)m.push(e.area[0]+a/o.categories.length/2+a/o.categories.length*s);else for(var u=0;u<=e.yAxis.splitNumber;u++)m.push(e.area[0]+r*u);if(!0!==o.disabled){var h=e.chartData.yAxisData.rangesFormat[t],p=o.fontSize?o.fontSize*e.pix:n.fontSize,_=e.chartData.yAxisData.yAxisWidth[t],g=o.textAlign||"right";if(h.forEach((function(t,n){var a=m[n]?m[n]:l;i.beginPath(),i.setFontSize(p),i.setLineWidth(1*e.pix),i.setStrokeStyle(o.axisLineColor||"#cccccc"),i.setFillStyle(o.fontColor||e.fontColor);var r=0,s=4*e.pix;if("left"==_.position){switch(1==o.calibration&&(i.moveTo(c,a),i.lineTo(c-3*e.pix,a),s+=3*e.pix),g){case"left":i.setTextAlign("left"),r=c-_.width;break;case"right":i.setTextAlign("right"),r=c-s;break;default:i.setTextAlign("center"),r=c-_.width/2}i.fillText(String(t),r,a+p/2-3*e.pix)}else if("right"==_.position){switch(1==o.calibration&&(i.moveTo(d,a),i.lineTo(d+3*e.pix,a),s+=3*e.pix),g){case"left":i.setTextAlign("left"),r=d+s;break;case"right":i.setTextAlign("right"),r=d+_.width;break;default:i.setTextAlign("center"),r=d+_.width/2}i.fillText(String(t),r,a+p/2-3*e.pix)}else if("center"==_.position){switch(1==o.calibration&&(i.moveTo(f,a),i.lineTo(f-3*e.pix,a),s+=3*e.pix),g){case"left":i.setTextAlign("left"),r=f-_.width;break;case"right":i.setTextAlign("right"),r=f-s;break;default:i.setTextAlign("center"),r=f-_.width/2}i.fillText(String(t),r,a+p/2-3*e.pix)}i.closePath(),i.stroke(),i.setTextAlign("left")})),!1!==o.axisLine&&(i.beginPath(),i.setStrokeStyle(o.axisLineColor||"#cccccc"),i.setLineWidth(1*e.pix),"left"==_.position?(i.moveTo(c,e.height-e.area[2]),i.lineTo(c,e.area[0])):"right"==_.position?(i.moveTo(d,e.height-e.area[2]),i.lineTo(d,e.area[0])):"center"==_.position&&(i.moveTo(f,e.height-e.area[2]),i.lineTo(f,e.area[0])),i.stroke()),e.yAxis.showTitle){var v=o.titleFontSize*e.pix||n.fontSize,y=o.title;i.beginPath(),i.setFontSize(v),i.setFillStyle(o.titleFontColor||e.fontColor),"left"==_.position?i.fillText(y,c-C(y,v,i)/2+(o.titleOffsetX||0),e.area[0]-(10-(o.titleOffsetY||0))*e.pix):"right"==_.position?i.fillText(y,d-C(y,v,i)/2+(o.titleOffsetX||0),e.area[0]-(10-(o.titleOffsetY||0))*e.pix):"center"==_.position&&i.fillText(y,f-C(y,v,i)/2+(o.titleOffsetX||0),e.area[0]-(10-(o.titleOffsetY||0))*e.pix),i.closePath(),i.stroke()}"left"==_.position?c-=_.width+e.yAxis.padding*e.pix:d+=_.width+e.yAxis.padding*e.pix}},p=0;p<e.yAxis.data.length;p++){var m;h(p)}}}function Jt(t,e,n,i,a){if(!1!==e.legend.show){var r=a.legendData,o=r.points,s=r.area,l=e.legend.padding*e.pix,u=e.legend.fontSize*e.pix,c=15*e.pix,d=5*e.pix,f=e.legend.itemGap*e.pix,h=Math.max(e.legend.lineHeight*e.pix,u);i.beginPath(),i.setLineWidth(e.legend.borderWidth*e.pix),i.setStrokeStyle(e.legend.borderColor),i.setFillStyle(e.legend.backgroundColor),i.moveTo(s.start.x,s.start.y),i.rect(s.start.x,s.start.y,s.width,s.height),i.closePath(),i.fill(),i.stroke(),o.forEach((function(t,a){var o=0,p=0;o=r.widthArr[a],p=r.heightArr[a];var m=0,_=0;if("top"==e.legend.position||"bottom"==e.legend.position){switch(e.legend.float){case"left":m=s.start.x+l;break;case"right":m=s.start.x+s.width-o;break;default:m=s.start.x+(s.width-o)/2}_=s.start.y+l+a*h}else o=0==a?0:r.widthArr[a-1],m=s.start.x+l+o,_=s.start.y+l+(s.height-p)/2;i.setFontSize(n.fontSize);for(var g=0;g<t.length;g++){var v=t[g];switch(v.area=[0,0,0,0],v.area[0]=m,v.area[1]=_,v.area[3]=_+h,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(v.show?v.color:e.legend.hiddenColor),i.setFillStyle(v.show?v.color:e.legend.hiddenColor),v.legendShape){case"line":i.moveTo(m,_+.5*h-2*e.pix),i.fillRect(m,_+.5*h-2*e.pix,15*e.pix,4*e.pix);break;case"triangle":i.moveTo(m+7.5*e.pix,_+.5*h-5*e.pix),i.lineTo(m+2.5*e.pix,_+.5*h+5*e.pix),i.lineTo(m+12.5*e.pix,_+.5*h+5*e.pix),i.lineTo(m+7.5*e.pix,_+.5*h-5*e.pix);break;case"diamond":i.moveTo(m+7.5*e.pix,_+.5*h-5*e.pix),i.lineTo(m+2.5*e.pix,_+.5*h),i.lineTo(m+7.5*e.pix,_+.5*h+5*e.pix),i.lineTo(m+12.5*e.pix,_+.5*h),i.lineTo(m+7.5*e.pix,_+.5*h-5*e.pix);break;case"circle":i.moveTo(m+7.5*e.pix,_+.5*h),i.arc(m+7.5*e.pix,_+.5*h,5*e.pix,0,2*Math.PI);break;case"rect":i.moveTo(m,_+.5*h-5*e.pix),i.fillRect(m,_+.5*h-5*e.pix,15*e.pix,10*e.pix);break;case"square":i.moveTo(m+5*e.pix,_+.5*h-5*e.pix),i.fillRect(m+5*e.pix,_+.5*h-5*e.pix,10*e.pix,10*e.pix);break;case"none":break;default:i.moveTo(m,_+.5*h-5*e.pix),i.fillRect(m,_+.5*h-5*e.pix,15*e.pix,10*e.pix)}i.closePath(),i.fill(),i.stroke(),m+=c+d;var y=.5*h+.5*u-2;i.beginPath(),i.setFontSize(u),i.setFillStyle(v.show?e.legend.fontColor:e.legend.hiddenColor),i.fillText(v.name,m,_+y),i.closePath(),i.stroke(),"top"==e.legend.position||"bottom"==e.legend.position?(m+=C(v.name,u,i)+f,v.area[2]=m):(v.area[2]=m+C(v.name,u,i)+f,m-=c+d,_+=h)}}))}}function Qt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},"pie"==e.type?e.extra.pie:e.extra.ring),o={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2};0==n.pieChartLinePadding&&(n.pieChartLinePadding=r.activeRadius*e.pix);var s=Math.min((e.width-e.area[1]-e.area[3])/2-n.pieChartLinePadding-n.pieChartTextPadding-n._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-n.pieChartLinePadding-n.pieChartTextPadding);r.customRadius>0&&(s=r.customRadius*e.pix),t=tt(t,s,a);var l=r.activeRadius*e.pix;if(r.customColor=$(r.linearType,r.customColor,t,n),t=t.map((function(t){return t._start_+=r.offsetAngle*Math.PI/180,t})),t.forEach((function(t,n){e.tooltip&&e.tooltip.index==n&&(i.beginPath(),i.setFillStyle(f(t.color,r.activeOpacity||.5)),i.moveTo(o.x,o.y),i.arc(o.x,o.y,t._radius_+l,t._start_,t._start_+2*t._proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(r.borderColor);var a,s=t.color;"custom"==r.linearType&&(a=i.createCircularGradient?i.createCircularGradient(o.x,o.y,t._radius_):i.createRadialGradient(o.x,o.y,0,o.x,o.y,t._radius_),a.addColorStop(0,f(r.customColor[t.linearIndex],1)),a.addColorStop(1,f(t.color,1)),s=a);i.setFillStyle(s),i.moveTo(o.x,o.y),i.arc(o.x,o.y,t._radius_,t._start_,t._start_+2*t._proportion_*Math.PI),i.closePath(),i.fill(),1==r.border&&i.stroke()})),"ring"===e.type){var c=.6*s;"number"===typeof r.ringWidth&&r.ringWidth>0&&(c=Math.max(0,s-r.ringWidth*e.pix)),i.beginPath(),i.setFillStyle(r.centerColor),i.moveTo(o.x,o.y),i.arc(o.x,o.y,c,0,2*Math.PI),i.closePath(),i.fill()}if(!1!==e.dataLabel&&1===a){for(var d=!1,h=0,p=t.length;h<p;h++)if(t[h].data>0){d=!0;break}d&&Pt(t,e,n,i,s,o)}return 1===a&&"ring"===e.type&&kt(e,n,i,o),{center:o,radius:s,series:t}}function Kt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},e.extra.rose);0==n.pieChartLinePadding&&(n.pieChartLinePadding=r.activeRadius*e.pix);var o={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},s=Math.min((e.width-e.area[1]-e.area[3])/2-n.pieChartLinePadding-n.pieChartTextPadding-n._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-n.pieChartLinePadding-n.pieChartTextPadding),l=r.minRadius||.5*s;t=nt(t,r.type,l,s,a);var c=r.activeRadius*e.pix;if(r.customColor=$(r.linearType,r.customColor,t,n),t=t.map((function(t){return t._start_+=(r.offsetAngle||0)*Math.PI/180,t})),t.forEach((function(t,n){e.tooltip&&e.tooltip.index==n&&(i.beginPath(),i.setFillStyle(f(t.color,r.activeOpacity||.5)),i.moveTo(o.x,o.y),i.arc(o.x,o.y,c+t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(r.borderColor);var a,s=t.color;"custom"==r.linearType&&(a=i.createCircularGradient?i.createCircularGradient(o.x,o.y,t._radius_):i.createRadialGradient(o.x,o.y,0,o.x,o.y,t._radius_),a.addColorStop(0,f(r.customColor[t.linearIndex],1)),a.addColorStop(1,f(t.color,1)),s=a);i.setFillStyle(s),i.moveTo(o.x,o.y),i.arc(o.x,o.y,t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),i.closePath(),i.fill(),1==r.border&&i.stroke()})),!1!==e.dataLabel&&1===a){for(var d=!1,h=0,p=t.length;h<p;h++)if(t[h].data>0){d=!0;break}d&&Pt(t,e,n,i,s,o)}return{center:o,radius:s,series:t}}function Yt(t,e,n,i){var a,r,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=u({},{startAngle:.75,endAngle:.25,type:"default",width:12,gap:2,linearType:"none",customColor:[]},e.extra.arcbar);t=it(t,s,o),a=s.centerX||s.centerY?{x:s.centerX?s.centerX:e.width/2,y:s.centerY?s.centerY:e.height/2}:{x:e.width/2,y:e.height/2},s.radius?r=s.radius:(r=Math.min(a.x,a.y),r-=5*e.pix,r-=s.width/2),s.customColor=$(s.linearType,s.customColor,t,n);for(var l=0;l<t.length;l++){var c=t[l];i.setLineWidth(s.width*e.pix),i.setStrokeStyle(s.backgroundColor||"#E9E9E9"),i.setLineCap("round"),i.beginPath(),"default"==s.type?i.arc(a.x,a.y,r-(s.width*e.pix+s.gap*e.pix)*l,s.startAngle*Math.PI,s.endAngle*Math.PI,!1):i.arc(a.x,a.y,r-(s.width*e.pix+s.gap*e.pix)*l,0,2*Math.PI,!1),i.stroke();var d=c.color;if("custom"==s.linearType){var h=i.createLinearGradient(a.x-r,a.y,a.x+r,a.y);h.addColorStop(1,f(s.customColor[c.linearIndex],1)),h.addColorStop(0,f(c.color,1)),d=h}i.setLineWidth(s.width*e.pix),i.setStrokeStyle(d),i.setLineCap("round"),i.beginPath(),i.arc(a.x,a.y,r-(s.width*e.pix+s.gap*e.pix)*l,s.startAngle*Math.PI,c._proportion_*Math.PI,!1),i.stroke()}return kt(e,n,i,a),{center:a,radius:r,series:t}}function Xt(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=u({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},n.extra.gauge);void 0==o.oldAngle&&(o.oldAngle=o.startAngle),void 0==o.oldData&&(o.oldData=0),t=at(t,o.startAngle,o.endAngle);var s={x:n.width/2,y:n.height/2},l=Math.min(s.x,s.y);l-=5*n.pix,l-=o.width/2;var c=l-o.width,d=0;if("progress"==o.type){var h=l-3*o.width;a.beginPath();var p=a.createLinearGradient(s.x,s.y-h,s.x,s.y+h);p.addColorStop("0",f(e[0].color,.3)),p.addColorStop("1.0",f("#FFFFFF",.1)),a.setFillStyle(p),a.arc(s.x,s.y,h,0,2*Math.PI,!1),a.fill(),a.setLineWidth(o.width),a.setStrokeStyle(f(e[0].color,.3)),a.setLineCap("round"),a.beginPath(),a.arc(s.x,s.y,c,o.startAngle*Math.PI,o.endAngle*Math.PI,!1),a.stroke(),d=o.startAngle-o.endAngle+1;o.splitLine.splitNumber;var m=d/o.splitLine.splitNumber/o.splitLine.childNumber,_=-l-.5*o.width-o.splitLine.fixRadius,g=-l-o.width-o.splitLine.fixRadius+o.splitLine.width;a.save(),a.translate(s.x,s.y),a.rotate((o.startAngle-1)*Math.PI);for(var v=o.splitLine.splitNumber*o.splitLine.childNumber+1,y=e[0].data*r,b=0;b<v;b++)a.beginPath(),y>b/v?a.setStrokeStyle(f(e[0].color,1)):a.setStrokeStyle(f(e[0].color,.3)),a.setLineWidth(3*n.pix),a.moveTo(_,0),a.lineTo(g,0),a.stroke(),a.rotate(m*Math.PI);a.restore(),e=it(e,o,r),a.setLineWidth(o.width),a.setStrokeStyle(e[0].color),a.setLineCap("round"),a.beginPath(),a.arc(s.x,s.y,c,o.startAngle*Math.PI,e[0]._proportion_*Math.PI,!1),a.stroke();var x=l-2.5*o.width;a.save(),a.translate(s.x,s.y),a.rotate((e[0]._proportion_-1)*Math.PI),a.beginPath(),a.setLineWidth(o.width/3);var w=a.createLinearGradient(0,.6*-x,0,.6*x);w.addColorStop("0",f("#FFFFFF",0)),w.addColorStop("0.5",f(e[0].color,1)),w.addColorStop("1.0",f("#FFFFFF",0)),a.setStrokeStyle(w),a.arc(0,0,x,.85*Math.PI,1.15*Math.PI,!1),a.stroke(),a.beginPath(),a.setLineWidth(1),a.setStrokeStyle(e[0].color),a.setFillStyle(e[0].color),a.moveTo(-x-o.width/3/2,-4),a.lineTo(-x-o.width/3/2-4,0),a.lineTo(-x-o.width/3/2,4),a.lineTo(-x-o.width/3/2,-4),a.stroke(),a.fill(),a.restore()}else{a.setLineWidth(o.width),a.setLineCap("butt");for(var $=0;$<t.length;$++){var k=t[$];a.beginPath(),a.setStrokeStyle(k.color),a.arc(s.x,s.y,l,k._startAngle_*Math.PI,k._endAngle_*Math.PI,!1),a.stroke()}a.save(),d=o.startAngle-o.endAngle+1;var C=d/o.splitLine.splitNumber,D=d/o.splitLine.splitNumber/o.splitLine.childNumber,S=-l-.5*o.width-o.splitLine.fixRadius,T=-l-.5*o.width-o.splitLine.fixRadius+o.splitLine.width,P=-l-.5*o.width-o.splitLine.fixRadius+o.splitLine.childWidth;a.translate(s.x,s.y),a.rotate((o.startAngle-1)*Math.PI);for(var O=0;O<o.splitLine.splitNumber+1;O++)a.beginPath(),a.setStrokeStyle(o.splitLine.color),a.setLineWidth(2*n.pix),a.moveTo(S,0),a.lineTo(T,0),a.stroke(),a.rotate(C*Math.PI);a.restore(),a.save(),a.translate(s.x,s.y),a.rotate((o.startAngle-1)*Math.PI);for(var A=0;A<o.splitLine.splitNumber*o.splitLine.childNumber+1;A++)a.beginPath(),a.setStrokeStyle(o.splitLine.color),a.setLineWidth(1*n.pix),a.moveTo(S,0),a.lineTo(P,0),a.stroke(),a.rotate(D*Math.PI);a.restore(),e=rt(e,t,o,r);for(var M=0;M<e.length;M++){var I=e[M];a.save(),a.translate(s.x,s.y),a.rotate((I._proportion_-1)*Math.PI),a.beginPath(),a.setFillStyle(I.color),a.moveTo(o.pointer.width,0),a.lineTo(0,-o.pointer.width/2),a.lineTo(-c,0),a.lineTo(0,o.pointer.width/2),a.lineTo(o.pointer.width,0),a.closePath(),a.fill(),a.beginPath(),a.setFillStyle("#FFFFFF"),a.arc(0,0,o.pointer.width/6,0,2*Math.PI,!1),a.fill(),a.restore()}!1!==n.dataLabel&&St(o,l,s,n,i,a)}return kt(n,i,a,s),1===r&&"gauge"===n.type&&(n.extra.gauge.oldAngle=e[0]._proportion_,n.extra.gauge.oldData=e[0].data),{center:s,radius:l,innerRadius:c,categories:t,totalAngle:d}}function Zt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{gridColor:"#cccccc",gridType:"radar",opacity:.2,gridCount:3,border:!1,borderWidth:2},e.extra.radar),o=A(e.categories.length),s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},l=(e.width-e.area[1]-e.area[3])/2,c=(e.height-e.area[0]-e.area[2])/2,d=Math.min(l-(O(e.categories,n.fontSize,i)+n.radarLabelTextMargin),c-n.radarLabelTextMargin);d-=n.radarLabelTextMargin*e.pix,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(r.gridColor),o.forEach((function(t){var e=y(d*Math.cos(t),d*Math.sin(t),s);i.moveTo(s.x,s.y),i.lineTo(e.x,e.y)})),i.stroke(),i.closePath();for(var h=function(t){var n={};if(i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(r.gridColor),"radar"==r.gridType)o.forEach((function(e,a){var o=y(d/r.gridCount*t*Math.cos(e),d/r.gridCount*t*Math.sin(e),s);0===a?(n=o,i.moveTo(o.x,o.y)):i.lineTo(o.x,o.y)})),i.lineTo(n.x,n.y);else{var a=y(d/r.gridCount*t*Math.cos(1.5),d/r.gridCount*t*Math.sin(1.5),s);i.arc(s.x,s.y,s.y-a.y,0,2*Math.PI,!1)}i.stroke(),i.closePath()},p=1;p<=r.gridCount;p++)h(p);var m=Z(o,s,d,t,e,a);return m.forEach((function(t,n){if(i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(t.color),i.setFillStyle(f(t.color,r.opacity)),t.data.forEach((function(t,e){0===e?i.moveTo(t.position.x,t.position.y):i.lineTo(t.position.x,t.position.y)})),i.closePath(),i.fill(),!0===r.border&&i.stroke(),i.closePath(),!1!==e.dataPointShape){var a=t.data.map((function(t){return t.position}));$t(a,t.color,t.pointShape,i,e)}})),Tt(o,d,s,e,n,i),!1!==e.dataLabel&&1===a&&(m.forEach((function(t,a){i.beginPath();var r=t.textSize*e.pix||n.fontSize;i.setFontSize(r),i.setFillStyle(t.textColor||e.fontColor),t.data.forEach((function(t,e){Math.abs(t.position.x-s.x)<2?t.position.y<s.y?(i.setTextAlign("center"),i.fillText(t.value,t.position.x,t.position.y-4)):(i.setTextAlign("center"),i.fillText(t.value,t.position.x,t.position.y+r+2)):t.position.x<s.x?(i.setTextAlign("right"),i.fillText(t.value,t.position.x-4,t.position.y+r/2-2)):(i.setTextAlign("left"),i.fillText(t.value,t.position.x+4,t.position.y+r/2-2))})),i.closePath(),i.stroke()})),i.setTextAlign("left")),{center:s,radius:d,angleList:o}}function te(t,e,n){n=0==n?1:n;for(var i=[],a=0;a<n;a++)i[a]=Math.random();return Math.floor(i.reduce((function(t,e){return t+e}))/n*(e-t))+t}function ee(t,e,n,i){for(var a=!1,r=0;r<e.length;r++)if(e[r].area){if(!(t[3]<e[r].area[1]||t[0]>e[r].area[2]||t[1]>e[r].area[3]||t[2]<e[r].area[0])){a=!0;break}if(t[0]<0||t[1]<0||t[2]>n||t[3]>i){a=!0;break}a=!1}return a}function ne(t){var e,n={};n.xMin=180,n.xMax=0,n.yMin=90,n.yMax=0;for(var i=0;i<t.length;i++)for(var a=t[i].geometry.coordinates,r=0;r<a.length;r++){e=a[r],1==e.length&&(e=e[0]);for(var o=0;o<e.length;o++){var s=e[o][0],l=e[o][1],u={x:s,y:l};n.xMin=n.xMin<u.x?n.xMin:u.x,n.xMax=n.xMax>u.x?n.xMax:u.x,n.yMin=n.yMin<u.y?n.yMin:u.y,n.yMax=n.yMax>u.y?n.yMax:u.y}}return n}function ie(t,e,n,i,a,r){return{x:(e-n.xMin)*i+a,y:(n.yMax-t)*i+r}}function ae(t,e,n,i,a,r){return{x:(e-a)/i+n.xMin,y:n.yMax-(t-r)/i}}function re(t,e,n){if(e[1]==n[1])return!1;if(e[1]>t[1]&&n[1]>t[1])return!1;if(e[1]<t[1]&&n[1]<t[1])return!1;if(e[1]==t[1]&&n[1]>t[1])return!1;if(n[1]==t[1]&&e[1]>t[1])return!1;if(e[0]<t[0]&&n[1]<t[1])return!1;var i=n[0]-(n[0]-e[0])*(n[1]-t[1])/(n[1]-e[1]);return!(i<t[0])}function oe(t,e,n){for(var i=0,a=0;a<e.length;a++){var r=e[a][0];1==e.length&&(r=e[a][0]);for(var o=0;o<r.length-1;o++){var s=r[o],l=r[o+1];n&&(s=d(r[o][0],r[o][1]),l=d(r[o+1][0],r[o+1][1])),re(t,s,l)&&(i+=1)}}return i%2==1}function se(t,e,n,i){var a,r,o=u({},{border:!0,mercator:!1,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},e.extra.map),s=t,l=ne(s);if(o.mercator){var c=d(l.xMax,l.yMax),h=d(l.xMin,l.yMin);l.xMax=c[0],l.yMax=c[1],l.xMin=h[0],l.yMin=h[1]}for(var p=e.width/Math.abs(l.xMax-l.xMin),m=e.height/Math.abs(l.yMax-l.yMin),_=p<m?p:m,g=e.width/2-Math.abs(l.xMax-l.xMin)/2*_,v=e.height/2-Math.abs(l.yMax-l.yMin)/2*_,y=0;y<s.length;y++){i.beginPath(),i.setLineWidth(o.borderWidth*e.pix),i.setStrokeStyle(o.borderColor),i.setFillStyle(f(t[y].color,o.fillOpacity)),e.tooltip&&e.tooltip.index==y&&(i.setStrokeStyle(o.activeBorderColor),i.setFillStyle(f(o.activeFillColor,o.activeFillOpacity)));for(var b=s[y].geometry.coordinates,x=0;x<b.length;x++){a=b[x],1==a.length&&(a=a[0]);for(var w=0;w<a.length;w++){var $=Array(2);$=o.mercator?d(a[w][0],a[w][1]):a[w],r=ie($[1],$[0],l,_,g,v),0===w?(i.beginPath(),i.moveTo(r.x,r.y)):i.lineTo(r.x,r.y)}i.fill(),1==o.border&&i.stroke()}if(1==e.dataLabel){var k=s[y].properties.centroid;if(k){o.mercator&&(k=d(s[y].properties.centroid[0],s[y].properties.centroid[1])),r=ie(k[1],k[0],l,_,g,v);var D=s[y].textSize*e.pix||n.fontSize,S=s[y].properties.name;i.beginPath(),i.setFontSize(D),i.setFillStyle(s[y].textColor||e.fontColor),i.fillText(S,r.x-C(S,D,i)/2,r.y+D/2),i.closePath(),i.stroke()}}}e.chartData.mapData={bounds:l,scale:_,xoffset:g,yoffset:v,mercator:o.mercator},Ut(e,n,i,1),i.draw()}function le(t,e,n){var i=t.series;switch(e){case"normal":for(var a=0;a<i.length;a++){var r=i[a].name,o=i[a].textSize*t.pix,s=C(r,o,n),l=void 0,u=void 0,c=void 0,d=0;while(1){d++,l=te(-t.width/2,t.width/2,5)-s/2,u=te(-t.height/2,t.height/2,5)+o/2,c=[l-5+t.width/2,u-5-o+t.height/2,l+s+5+t.width/2,u+5+t.height/2];var f=ee(c,i,t.width,t.height);if(!f)break;if(1e3==d){c=[-100,-100,-100,-100];break}}i[a].area=c}break;case"vertical":for(var h=function(){return Math.random()>.7},p=0;p<i.length;p++){var m=i[p].name,_=i[p].textSize*t.pix,g=C(m,_,n),v=h(),y=void 0,b=void 0,x=void 0,w=void 0,$=0;while(1){$++;var k=void 0;if(v?(y=te(-t.width/2,t.width/2,5)-g/2,b=te(-t.height/2,t.height/2,5)+_/2,x=[b-5-g+t.width/2,-y-5+t.height/2,b+5+t.width/2,-y+_+5+t.height/2],w=[t.width-(t.width/2-t.height/2)-(-y+_+5+t.height/2)-5,t.height/2-t.width/2+(b-5-g+t.width/2)-5,t.width-(t.width/2-t.height/2)-(-y+_+5+t.height/2)+_,t.height/2-t.width/2+(b-5-g+t.width/2)+g+5],k=ee(w,i,t.height,t.width)):(y=te(-t.width/2,t.width/2,5)-g/2,b=te(-t.height/2,t.height/2,5)+_/2,x=[y-5+t.width/2,b-5-_+t.height/2,y+g+5+t.width/2,b+5+t.height/2],k=ee(x,i,t.width,t.height)),!k)break;if(1e3==$){x=[-1e3,-1e3,-1e3,-1e3];break}}v?(i[p].area=w,i[p].areav=x):i[p].area=x,i[p].rotate=v}break}return i}function ue(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{type:"normal",autoColors:!0},e.extra.word);e.chartData.wordCloudData||(e.chartData.wordCloudData=le(e,r.type,i)),i.beginPath(),i.setFillStyle(e.background),i.rect(0,0,e.width,e.height),i.fill(),i.save();var o=e.chartData.wordCloudData;i.translate(e.width/2,e.height/2);for(var s=0;s<o.length;s++){i.save(),o[s].rotate&&i.rotate(90*Math.PI/180);var l=o[s].name,c=o[s].textSize*e.pix,d=C(l,c,i);i.beginPath(),i.setStrokeStyle(o[s].color),i.setFillStyle(o[s].color),i.setFontSize(c),o[s].rotate?o[s].areav[0]>0&&(e.tooltip&&e.tooltip.index==s?i.strokeText(l,(o[s].areav[0]+5-e.width/2)*a-d*(1-a)/2,(o[s].areav[1]+5+c-e.height/2)*a):i.fillText(l,(o[s].areav[0]+5-e.width/2)*a-d*(1-a)/2,(o[s].areav[1]+5+c-e.height/2)*a)):o[s].area[0]>0&&(e.tooltip&&e.tooltip.index==s?i.strokeText(l,(o[s].area[0]+5-e.width/2)*a-d*(1-a)/2,(o[s].area[1]+5+c-e.height/2)*a):i.fillText(l,(o[s].area[0]+5-e.width/2)*a-d*(1-a)/2,(o[s].area[1]+5+c-e.height/2)*a)),i.stroke(),i.restore()}i.restore()}function ce(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=u({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right",linearType:"none",customColor:[]},e.extra.funnel),o=(e.height-e.area[0]-e.area[2])/t.length,s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.height-e.area[2]},l=r.activeWidth*e.pix,c=Math.min((e.width-e.area[1]-e.area[3])/2-l,(e.height-e.area[0]-e.area[2])/2-l);if(t=et(t,c,r.type,o,a),i.save(),i.translate(s.x,s.y),r.customColor=$(r.linearType,r.customColor,t,n),"pyramid"==r.type)for(var d=0;d<t.length;d++){if(d==t.length-1){e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(f(t[d].color,r.activeOpacity)),i.moveTo(-l,-o),i.lineTo(-t[d].radius-l,0),i.lineTo(t[d].radius+l,0),i.lineTo(l,-o),i.lineTo(-l,-o),i.closePath(),i.fill()),t[d].funnelArea=[s.x-t[d].radius,s.y-o*(d+1),s.x+t[d].radius,s.y-o*d],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);var h=f(t[d].color,r.fillOpacity);if("custom"==r.linearType){var p=i.createLinearGradient(t[d].radius,-o,-t[d].radius,-o);p.addColorStop(0,f(t[d].color,r.fillOpacity)),p.addColorStop(.5,f(r.customColor[t[d].linearIndex],r.fillOpacity)),p.addColorStop(1,f(t[d].color,r.fillOpacity)),h=p}i.setFillStyle(h),i.moveTo(0,-o),i.lineTo(-t[d].radius,0),i.lineTo(t[d].radius,0),i.lineTo(0,-o),i.closePath(),i.fill(),1==r.border&&i.stroke()}else{e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(f(t[d].color,r.activeOpacity)),i.moveTo(0,0),i.lineTo(-t[d].radius-l,0),i.lineTo(-t[d+1].radius-l,-o),i.lineTo(t[d+1].radius+l,-o),i.lineTo(t[d].radius+l,0),i.lineTo(0,0),i.closePath(),i.fill()),t[d].funnelArea=[s.x-t[d].radius,s.y-o*(d+1),s.x+t[d].radius,s.y-o*d],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);h=f(t[d].color,r.fillOpacity);if("custom"==r.linearType){p=i.createLinearGradient(t[d].radius,-o,-t[d].radius,-o);p.addColorStop(0,f(t[d].color,r.fillOpacity)),p.addColorStop(.5,f(r.customColor[t[d].linearIndex],r.fillOpacity)),p.addColorStop(1,f(t[d].color,r.fillOpacity)),h=p}i.setFillStyle(h),i.moveTo(0,0),i.lineTo(-t[d].radius,0),i.lineTo(-t[d+1].radius,-o),i.lineTo(t[d+1].radius,-o),i.lineTo(t[d].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),1==r.border&&i.stroke()}i.translate(0,-o)}else for(var m=0;m<t.length;m++){if(0==m){e.tooltip&&e.tooltip.index==m&&(i.beginPath(),i.setFillStyle(f(t[m].color,r.activeOpacity)),i.moveTo(-l,0),i.lineTo(-t[m].radius-l,-o),i.lineTo(t[m].radius+l,-o),i.lineTo(l,0),i.lineTo(-l,0),i.closePath(),i.fill()),t[m].funnelArea=[s.x-t[m].radius,s.y-o,s.x+t[m].radius,s.y],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);h=f(t[m].color,r.fillOpacity);if("custom"==r.linearType){p=i.createLinearGradient(t[m].radius,-o,-t[m].radius,-o);p.addColorStop(0,f(t[m].color,r.fillOpacity)),p.addColorStop(.5,f(r.customColor[t[m].linearIndex],r.fillOpacity)),p.addColorStop(1,f(t[m].color,r.fillOpacity)),h=p}i.setFillStyle(h),i.moveTo(0,0),i.lineTo(-t[m].radius,-o),i.lineTo(t[m].radius,-o),i.lineTo(0,0),i.closePath(),i.fill(),1==r.border&&i.stroke()}else{e.tooltip&&e.tooltip.index==m&&(i.beginPath(),i.setFillStyle(f(t[m].color,r.activeOpacity)),i.moveTo(0,0),i.lineTo(-t[m-1].radius-l,0),i.lineTo(-t[m].radius-l,-o),i.lineTo(t[m].radius+l,-o),i.lineTo(t[m-1].radius+l,0),i.lineTo(0,0),i.closePath(),i.fill()),t[m].funnelArea=[s.x-t[m].radius,s.y-o*(m+1),s.x+t[m].radius,s.y-o*m],i.beginPath(),i.setLineWidth(r.borderWidth*e.pix),i.setStrokeStyle(r.borderColor);h=f(t[m].color,r.fillOpacity);if("custom"==r.linearType){p=i.createLinearGradient(t[m].radius,-o,-t[m].radius,-o);p.addColorStop(0,f(t[m].color,r.fillOpacity)),p.addColorStop(.5,f(r.customColor[t[m].linearIndex],r.fillOpacity)),p.addColorStop(1,f(t[m].color,r.fillOpacity)),h=p}i.setFillStyle(h),i.moveTo(0,0),i.lineTo(-t[m-1].radius,0),i.lineTo(-t[m].radius,-o),i.lineTo(t[m].radius,-o),i.lineTo(t[m-1].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),1==r.border&&i.stroke()}i.translate(0,-o)}return i.restore(),!1!==e.dataLabel&&1===a&&de(t,e,i,o,r.labelAlign,l,s),{center:s,radius:c,series:t}}function de(t,e,n,i,a,r,o){for(var s=0;s<t.length;s++){var l=t[s],u=void 0,d=void 0,f=void 0,h=void 0,p=l.formatter?l.formatter(l,s,t):c.toFixed(100*l._proportion_)+"%";"right"==a?(u="pyramid"===e.extra.funnel.type?s==t.length-1?(l.funnelArea[2]+o.x)/2:(l.funnelArea[2]+t[s+1].funnelArea[2])/2:0==s?(l.funnelArea[2]+o.x)/2:(l.funnelArea[2]+t[s-1].funnelArea[2])/2,d=u+2*r,f=l.funnelArea[1]+i/2,h=l.textSize*e.pix||e.fontSize*e.pix,n.setLineWidth(1*e.pix),n.setStrokeStyle(l.color),n.setFillStyle(l.color),n.beginPath(),n.moveTo(u,f),n.lineTo(d,f),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(d,f),n.arc(d,f,2,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.setFontSize(h),n.setFillStyle(l.textColor||e.fontColor),n.fillText(p,d+5,f+h/2-2),n.closePath(),n.stroke(),n.closePath()):(u="pyramid"===e.extra.funnel.type?s==t.length-1?(l.funnelArea[0]+o.x)/2:(l.funnelArea[0]+t[s+1].funnelArea[0])/2:0==s?(l.funnelArea[0]+o.x)/2:(l.funnelArea[0]+t[s-1].funnelArea[0])/2,d=u-2*r,f=l.funnelArea[1]+i/2,h=l.textSize*e.pix||e.fontSize*e.pix,n.setLineWidth(1*e.pix),n.setStrokeStyle(l.color),n.setFillStyle(l.color),n.beginPath(),n.moveTo(u,f),n.lineTo(d,f),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(d,f),n.arc(d,f,2,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.setFontSize(h),n.setFillStyle(l.textColor||e.fontColor),n.fillText(p,d-5-C(p,h,n),f+h/2-2),n.closePath(),n.stroke(),n.closePath())}}function fe(t,e){e.draw()}var he={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};function pe(t){this.isStop=!1,t.duration="undefined"===typeof t.duration?1e3:t.duration,t.timing=t.timing||"easeInOut";var e=17;function n(){return"undefined"!==typeof setTimeout?function(t,e){setTimeout((function(){var e=+new Date;t(e)}),e)}:"undefined"!==typeof requestAnimationFrame?requestAnimationFrame:function(t){t(null)}}var i=n(),a=null,r=function(n){if(null===n||!0===this.isStop)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());if(null===a&&(a=n),n-a<t.duration){var o=(n-a)/t.duration,s=he[t.timing];o=s(o),t.onProcess&&t.onProcess(o),i(r,e)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()};r=r.bind(this),i(r,e)}function me(t,e,n,i){var a=this,r=e.series;"pie"!==t&&"ring"!==t&&"rose"!==t&&"funnel"!==t||(r=x(r,e,n));var o=e.categories;r=w(r,e,n);var s=e.animation?e.duration:0;a.animationInstance&&a.animationInstance.stop();var l=null;if("candle"==t){var c=u({},e.extra.candle.average);c.show?(l=p(c.day,c.name,c.color,r[0].data),l=w(l,e,n),e.seriesMA=l):l=e.seriesMA?e.seriesMA=w(e.seriesMA,e,n):r}else l=r;e._series_=r=F(r),e.area=new Array(4);for(var d=0;d<4;d++)e.area[d]=e.padding[d]*e.pix;var f=Q(l,e,n,e.chartData,i),h=f.area.wholeHeight,m=f.area.wholeWidth;switch(e.legend.position){case"top":e.area[0]+=h;break;case"bottom":e.area[2]+=h;break;case"left":e.area[3]+=m;break;case"right":e.area[1]+=m;break}var _={},g=0;if("line"===e.type||"column"===e.type||"area"===e.type||"mix"===e.type||"candle"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){if(_=yt(r,e,n,i),g=_.yAxisWidth,e.yAxis.showTitle){for(var v=0,y=0;y<e.yAxis.data.length;y++)v=Math.max(v,e.yAxis.data[y].titleFontSize?e.yAxis.data[y].titleFontSize*e.pix:n.fontSize);e.area[0]+=v}for(var b=0,$=0,k=0;k<g.length;k++)"left"==g[k].position?(e.area[3]+=$>0?g[k].width+e.yAxis.padding*e.pix:g[k].width,$+=1):"right"==g[k].position&&(e.area[1]+=b>0?g[k].width+e.yAxis.padding*e.pix:g[k].width,b+=1)}else n.yAxisWidth=g;if(e.chartData.yAxisData=_,e.categories&&e.categories.length&&"radar"!==e.type&&"gauge"!==e.type&&"bar"!==e.type){e.chartData.xAxisData=ft(e.categories,e,n);var C=K(e.categories,e,n,e.chartData.xAxisData.eachSpacing,i),D=C.xAxisHeight,S=C.angle;n.xAxisHeight=D,n._xAxisTextAngle_=S,e.area[2]+=D,e.chartData.categoriesData=C}else if("line"===e.type||"area"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){e.chartData.xAxisData=X(r,e,n,i),o=e.chartData.xAxisData.rangesFormat;var T=K(o,e,n,e.chartData.xAxisData.eachSpacing,i),P=T.xAxisHeight,O=T.angle;n.xAxisHeight=P,n._xAxisTextAngle_=O,e.area[2]+=P,e.chartData.categoriesData=T}else e.chartData.xAxisData={xAxisPoints:[]};if(e.enableScroll&&"right"==e.xAxis.scrollAlign&&void 0===e._scrollDistance_){var A=0,M=e.chartData.xAxisData.xAxisPoints,I=e.chartData.xAxisData.startX,j=e.chartData.xAxisData.endX,E=e.chartData.xAxisData.eachSpacing,L=E*(M.length-1),q=j-I;A=q-L,a.scrollOption={currentOffset:A,startTouchX:A,distance:0,lastMoveTime:0},e._scrollDistance_=A}switch("pie"!==t&&"ring"!==t&&"rose"!==t||(n._pieTextMaxLength_=!1===e.dataLabel?0:ot(l,n,i,e)),t){case"word":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),ue(r,e,n,i,t),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"map":i.clearRect(0,0,e.width,e.height),se(r,e,n,i);break;case"funnel":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),e.chartData.funnelData=ce(r,e,n,i,t),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Gt(o,e,n,i),Vt(o,e,n,i);var a=zt(r,e,n,i,t),s=a.xAxisPoints,l=a.calPoints,u=a.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t,u,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Gt(o,e,n,i),Vt(o,e,n,i);var a=Nt(r,e,n,i,t),s=a.xAxisPoints,l=a.calPoints,u=a.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t,u,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Gt(o,e,n,i),Vt(o,e,n,i);var a=Bt(r,e,n,i,t),s=a.xAxisPoints,l=a.calPoints,u=a.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t,u,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Gt(o,e,n,i),Vt(o,e,n,i);var a=Wt(r,e,n,i,t),s=a.xAxisPoints,l=a.calPoints,u=a.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t,u,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Gt(o,e,n,i),Vt(o,e,n,i);var a=Et(r,e,n,i,t),s=a.xAxisPoints,l=a.calPoints,u=a.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t,u,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Vt(o,e,n,i);var a=Lt(r,e,n,i,t),s=a.yAxisPoints,l=a.calPoints,u=a.eachSpacing;e.chartData.yAxisPoints=s,e.chartData.xAxisPoints=e.chartData.xAxisData.xAxisPoints,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t,u,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Gt(o,e,n,i),Vt(o,e,n,i);var a=Rt(r,e,n,i,t),s=a.xAxisPoints,l=a.calPoints,u=a.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t,u,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"ring":case"pie":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),e.chartData.pieData=Qt(r,e,n,i,t),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),e.chartData.pieData=Kt(r,e,n,i,t),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),e.chartData.radarData=Zt(r,e,n,i,t),Jt(e.series,e,n,i,e.chartData),Ut(e,n,i,t),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),e.chartData.arcbarData=Yt(r,e,n,i,t),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),e.chartData.gaugeData=Xt(o,r,e,n,i,t),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new pe({timing:e.timing,duration:s,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&wt(i,e),Gt(o,e,n,i),Vt(o,e,n,i);var a=qt(r,l,e,n,i,t),s=a.xAxisPoints,u=a.calPoints,c=a.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=u,e.chartData.eachSpacing=c,Ht(r,e,n,i),!1!==e.enableMarkLine&&1===t&&At(e,n,i),Jt(l||e.series,e,n,i,e.chartData),Ut(e,n,i,t,c,s),fe(e,i)},onAnimationFinish:function(){a.uevent.trigger("renderComplete")}});break}}function _e(){this.events={}}pe.prototype.stop=function(){this.isStop=!0},_e.prototype.addEventListener=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},_e.prototype.delEventListener=function(t){this.events[t]=[]},_e.prototype.trigger=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[0],a=e.slice(1);this.events[i]&&this.events[i].forEach((function(t){try{t.apply(null,a)}catch(e){}}))};var ge=function(t){t.pix=t.pixelRatio?t.pixelRatio:1,t.fontSize=t.fontSize?t.fontSize:13,t.fontColor=t.fontColor?t.fontColor:l.fontColor,""!=t.background&&"none"!=t.background||(t.background="#FFFFFF"),t.title=u({},t.title),t.subtitle=u({},t.subtitle),t.duration=t.duration?t.duration:1e3,t.yAxis=u({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,splitNumber:5,gridType:"solid",dashLength:4*t.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},t.yAxis),t.xAxis=u({},{rotateLabel:!1,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc"},t.xAxis),t.xAxis.scrollPosition=t.xAxis.scrollAlign,t.legend=u({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:t.fontSize,lineHeight:t.fontSize,fontColor:t.fontColor,formatter:{},hiddenColor:"#CECECE"},t.legend),t.extra=u({},t.extra),t.rotate=!!t.rotate,t.animation=!!t.animation,t.rotate=!!t.rotate,t.canvas2d=!!t.canvas2d;var e=JSON.parse(JSON.stringify(l));if(e.color=t.color?t.color:e.color,e.yAxisTitleWidth=!0!==t.yAxis.disabled&&t.yAxis.title?e.yAxisTitleWidth:0,"pie"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.pie.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"ring"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.ring.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"rose"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.rose.labelWidth*t.pix||e.pieChartLinePadding*t.pix),e.pieChartTextPadding=!1===t.dataLabel?0:e.pieChartTextPadding*t.pix,e.yAxisSplit=t.yAxis.splitNumber?t.yAxis.splitNumber:l.yAxisSplit,e.rotate=t.rotate,t.rotate){var n=t.width,i=t.height;t.width=i,t.height=n}if(t.padding=t.padding?t.padding:e.padding,e.yAxisWidth=l.yAxisWidth*t.pix,e.xAxisHeight=l.xAxisHeight*t.pix,t.enableScroll&&t.xAxis.scrollShow&&(e.xAxisHeight+=6*t.pix),e.xAxisLineHeight=l.xAxisLineHeight*t.pix,e.fontSize=t.fontSize*t.pix,e.titleFontSize=l.titleFontSize*t.pix,e.subtitleFontSize=l.subtitleFontSize*t.pix,e.toolTipPadding=l.toolTipPadding*t.pix,e.toolTipLineHeight=l.toolTipLineHeight*t.pix,e.columePadding=l.columePadding*t.pix,!t.context)throw new Error("[uCharts] \u672a\u83b7\u53d6\u5230context\uff01\u6ce8\u610f\uff1av2.0\u7248\u672c\u540e\uff0c\u9700\u8981\u81ea\u884c\u83b7\u53d6canvas\u7684\u7ed8\u56fe\u4e0a\u4e0b\u6587\u5e76\u4f20\u5165opts.context\uff01");this.context=t.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(t){return this.strokeStyle=t},this.context.setLineWidth=function(t){return this.lineWidth=t},this.context.setLineCap=function(t){return this.lineCap=t},this.context.setFontSize=function(t){return this.font=t+"px sans-serif"},this.context.setFillStyle=function(t){return this.fillStyle=t},this.context.setTextAlign=function(t){return this.textAlign=t},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(t){}),t.chartData={},this.uevent=new _e,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=t,this.config=e,me.call(this,t.type,t,e,this.context)};ge.prototype.updateData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=u({},this.opts,t),this.opts.updateData=!0;var e=t.scrollPosition||"current";switch(e){case"current":break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":var n=yt(this.opts.series,this.opts,this.config,this.context),i=n.yAxisWidth;this.config.yAxisWidth=i;var a=0,r=ft(this.opts.categories,this.opts,this.config),o=r.xAxisPoints,s=r.startX,l=r.endX,c=r.eachSpacing,d=c*(o.length-1),f=l-s;a=f-d,this.scrollOption={currentOffset:a,startTouchX:a,distance:0,lastMoveTime:0},this.opts._scrollDistance_=a;break}me.call(this,this.opts.type,this.opts,this.config,this.context)},ge.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.xAxis.itemCount;if(!0===this.opts.enableScroll){var e=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=t.itemCount;var n=yt(this.opts.series,this.opts,this.config,this.context),i=n.yAxisWidth;this.config.yAxisWidth=i;var a=0,r=ft(this.opts.categories,this.opts,this.config),o=r.xAxisPoints,s=r.startX,l=r.endX,u=r.eachSpacing,c=u*e,d=l-s,f=d-u*(o.length-1);a=d/2-c,a>0&&(a=0),a<f&&(a=f),this.scrollOption={currentOffset:a,startTouchX:a,distance:0,lastMoveTime:0},this.opts._scrollDistance_=a,me.call(this,this.opts.type,this.opts,this.config,this.context)}},ge.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},ge.prototype.addEventListener=function(t,e){this.uevent.addEventListener(t,e)},ge.prototype.delEventListener=function(t){this.uevent.delEventListener(t)},ge.prototype.getCurrentDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var n=T(e,this.opts,t);return"pie"===this.opts.type||"ring"===this.opts.type?G({x:n.x,y:n.y},this.opts.chartData.pieData,this.opts):"rose"===this.opts.type?V({x:n.x,y:n.y},this.opts.chartData.pieData,this.opts):"radar"===this.opts.type?B({x:n.x,y:n.y},this.opts.chartData.radarData,this.opts.categories.length):"funnel"===this.opts.type?z({x:n.x,y:n.y},this.opts.chartData.funnelData):"map"===this.opts.type?U({x:n.x,y:n.y},this.opts):"word"===this.opts.type?W({x:n.x,y:n.y},this.opts.chartData.wordCloudData):"bar"===this.opts.type?L({x:n.x,y:n.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):E({x:n.x,y:n.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},ge.prototype.getLegendDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var n=T(e,this.opts,t);return q({x:n.x,y:n.y},this.opts.chartData.legendData)}return-1},ge.prototype.touchLegend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(n=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],n){T(n,this.opts,t);var i=this.getLegendDataIndex(t);i>=0&&("candle"==this.opts.type?this.opts.seriesMA[i].show=!this.opts.seriesMA[i].show:this.opts.series[i].show=!this.opts.series[i].show,this.opts.animation=!!e.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,me.call(this,this.opts.type,this.opts,this.config,this.context))}},ge.prototype.showToolTip=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;i=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var a=T(i,this.opts,t),r=this.scrollOption.currentOffset,o=u({},this.opts,{_scrollDistance_:r,animation:!1});if("line"===this.opts.type||"area"===this.opts.type||"column"===this.opts.type||"scatter"===this.opts.type||"bubble"===this.opts.type){var s=this.getCurrentDataIndex(t),l=void 0==n.index?s.index:n.index;if(l>-1||l.length>0){var c=P(this.opts.series,l,s.group);if(0!==c.length){var d=M(c,this.opts,l,s.group,this.opts.categories,n),f=d.textList,h=d.offset;h.y=a.y,o.tooltip={textList:void 0!==n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}}me.call(this,o.type,o,this.config,this.context)}if("bar"===this.opts.type){s=this.getCurrentDataIndex(t),l=void 0==n.index?s.index:n.index;if(l>-1||l.length>0){c=P(this.opts.series,l,s.group);if(0!==c.length){d=M(c,this.opts,l,s.group,this.opts.categories,n),f=d.textList,h=d.offset;h.x=a.x,o.tooltip={textList:void 0!==n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}}me.call(this,o.type,o,this.config,this.context)}if("mix"===this.opts.type){s=this.getCurrentDataIndex(t),l=void 0==n.index?s.index:n.index;if(l>-1){r=this.scrollOption.currentOffset,o=u({},this.opts,{_scrollDistance_:r,animation:!1}),c=P(this.opts.series,l);if(0!==c.length){var p=I(c,this.opts,l,this.opts.categories,n);f=p.textList,h=p.offset;h.y=a.y,o.tooltip={textList:n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}}me.call(this,o.type,o,this.config,this.context)}if("candle"===this.opts.type){s=this.getCurrentDataIndex(t),l=void 0==n.index?s.index:n.index;if(l>-1){r=this.scrollOption.currentOffset,o=u({},this.opts,{_scrollDistance_:r,animation:!1}),c=P(this.opts.series,l);if(0!==c.length){d=j(this.opts.series[0].data,c,this.opts,l,this.opts.categories,this.opts.extra.candle,n),f=d.textList,h=d.offset;h.y=a.y,o.tooltip={textList:n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}}me.call(this,o.type,o,this.config,this.context)}if("pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type||"funnel"===this.opts.type){l=void 0==n.index?this.getCurrentDataIndex(t):n.index;if(l>-1){o=u({},this.opts,{animation:!1}),c=u({},o._series_[l]),f=[{text:n.formatter?n.formatter(c,void 0,l,o):c.name+": "+c.data,color:c.color}],h={x:a.x,y:a.y};o.tooltip={textList:n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}me.call(this,o.type,o,this.config,this.context)}if("map"===this.opts.type){l=void 0==n.index?this.getCurrentDataIndex(t):n.index;if(l>-1){o=u({},this.opts,{animation:!1}),c=u({},this.opts.series[l]);c.name=c.properties.name;f=[{text:n.formatter?n.formatter(c,void 0,l,this.opts):c.name,color:c.color}],h={x:a.x,y:a.y};o.tooltip={textList:n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}o.updateData=!1,me.call(this,o.type,o,this.config,this.context)}if("word"===this.opts.type){l=void 0==n.index?this.getCurrentDataIndex(t):n.index;if(l>-1){o=u({},this.opts,{animation:!1}),c=u({},this.opts.series[l]),f=[{text:n.formatter?n.formatter(c,void 0,l,this.opts):c.name,color:c.color}],h={x:a.x,y:a.y};o.tooltip={textList:n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}o.updateData=!1,me.call(this,o.type,o,this.config,this.context)}if("radar"===this.opts.type){l=void 0==n.index?this.getCurrentDataIndex(t):n.index;if(l>-1){o=u({},this.opts,{animation:!1}),c=P(this.opts.series,l);if(0!==c.length){f=c.map((function(t){return{text:n.formatter?n.formatter(t,e.opts.categories[l],l,e.opts):t.name+": "+t.data,color:t.color}})),h={x:a.x,y:a.y};o.tooltip={textList:n.textList?n.textList:f,offset:void 0!==n.offset?n.offset:h,option:n,index:l}}}me.call(this,o.type,o,this.config,this.context)}},ge.prototype.translate=function(t){this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0};var e=u({},this.opts,{_scrollDistance_:t,animation:!1});me.call(this,this.opts.type,e,this.config,this.context)},ge.prototype.scrollStart=function(t){var e=null;e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var n=T(e,this.opts,t);e&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=n.x)},ge.prototype.scroll=function(t){0===this.scrollOption.lastMoveTime&&(this.scrollOption.lastMoveTime=Date.now());var e=this.opts.touchMoveLimit||60,n=Date.now(),i=n-this.scrollOption.lastMoveTime;if(!(i<Math.floor(1e3/e))){this.scrollOption.lastMoveTime=n;var a=null;if(a=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],a&&!0===this.opts.enableScroll){var r,o=T(a,this.opts,t);r=o.x-this.scrollOption.startTouchX;var s=this.scrollOption.currentOffset,l=m(this,s+r,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=r=l-s;var c=u({},this.opts,{_scrollDistance_:s+r,animation:!1});return this.opts=c,me.call(this,c.type,c,this.config,this.context),s+r}}},ge.prototype.scrollEnd=function(t){if(!0===this.opts.enableScroll){var e=this.scrollOption,n=e.currentOffset,i=e.distance;this.scrollOption.currentOffset=n+i,this.scrollOption.distance=0}};var ve=ge;e.default=ve}).call(this,n("0de9")["default"])},ee6f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.userFeildsMap=e.deviceFeildsMap=void 0;var i=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{field:"appid",title:"APPID",tooltip:""},{field:"name",title:"\u5e94\u7528\u540d",tooltip:""},{field:"total_devices",title:"\u603b\u8bbe\u5907\u6570",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0},{field:"new_device_count",title:"\u65b0\u589e\u8bbe\u5907",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{field:"active_device_count",title:"\u6d3b\u8dc3\u8bbe\u5907",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.deviceFeildsMap=i;var a=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{field:"appid",title:"APPID",tooltip:""},{field:"name",title:"\u5e94\u7528\u540d",tooltip:""},{field:"total_users",title:"\u603b\u7528\u6237\u6570",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0},{field:"new_user_count",title:"\u65b0\u589e\u7528\u6237",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u7528\u6237\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{field:"active_user_count",title:"\u6d3b\u8dc3\u7528\u6237",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.userFeildsMap=a},eef1:function(t,e,n){"use strict";n.r(e);var i=n("57a4"),a=n("3771");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},ef4a:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={fixWindow:n("d640").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("view",[n("text")]),n("view",[n("text",[t._v(t._$s(4,"t0-0",t._s(t.errMsg)))])]),n("fix-window",{attrs:{_i:5}})],1)},r=[]},ef51:function(t,e,n){"use strict";function i(t){return Promise.resolve([])}function a(t){t.prototype.$fetch=i}Object.defineProperty(e,"__esModule",{value:!0}),e.initFetch=a},ef8b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTable",options:{virtualHost:!0},emits:["selection-change"],props:{data:{type:Array,default:function(){return[]}},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},type:{type:String,default:""},emptyText:{type:String,default:"\u6ca1\u6709\u66f4\u591a\u6570\u636e"},loading:{type:Boolean,default:!1},rowKey:{type:String,default:""}},data:function(){return{noData:!0,minWidth:0,multiTableHeads:[]}},watch:{loading:function(t){},data:function(t){this.theadChildren;this.theadChildren&&this.theadChildren.rowspan,this.noData=!1}},created:function(){this.trChildren=[],this.thChildren=[],this.theadChildren=null,this.backData=[],this.backIndexData=[]},methods:{isNodata:function(){this.theadChildren;var t=1;this.theadChildren&&(t=this.theadChildren.rowspan),this.noData=this.trChildren.length-t<=0},selectionAll:function(){var t=this,e=1,n=this.theadChildren;this.theadChildren?e=n.rowspan-1:n=this.trChildren[0];var i=this.data&&this.data.length.length>0;n.checked=!0,n.indeterminate=!1,this.trChildren.forEach((function(n,a){if(!n.disabled){if(n.checked=!0,i&&n.keyValue){var r=t.data.find((function(e){return e[t.rowKey]===n.keyValue}));t.backData.find((function(e){return e[t.rowKey]===r[t.rowKey]}))||t.backData.push(r)}a>e-1&&-1===t.backIndexData.indexOf(a-e)&&t.backIndexData.push(a-e)}})),this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})},toggleRowSelection:function(t,e){var n=this;t=[].concat(t),this.trChildren.forEach((function(i,a){var r=t.findIndex((function(t){return"number"===typeof t?t===a-1:t[n.rowKey]===i.keyValue})),o=i.checked;-1!==r&&(i.checked="boolean"===typeof e?e:!i.checked,o!==i.checked&&n.check(i.rowData||i,i.checked,i.rowData?i.keyValue:null,!0))})),this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})},clearSelection:function(){var t=this.theadChildren;this.theadChildren||(t=this.trChildren[0]),t.checked=!1,t.indeterminate=!1,this.trChildren.forEach((function(t){t.checked=!1})),this.backData=[],this.backIndexData=[],this.$emit("selection-change",{detail:{value:[],index:[]}})},toggleAllSelection:function(){var t=[],e=1,n=this.theadChildren;this.theadChildren?e=n.rowspan-1:n=this.trChildren[0],this.trChildren.forEach((function(n,i){n.disabled||i>e-1&&t.push(i-e)})),this.toggleRowSelection(t)},check:function(t,e,n,i){var a=this,r=this.theadChildren;this.theadChildren||(r=this.trChildren[0]);var o=this.trChildren.findIndex((function(e,n){return t===e}));o<0&&(o=this.data.findIndex((function(t){return t[a.rowKey]===n}))+1);this.trChildren.filter((function(t){return!t.disabled&&t.keyValue})).length;if(0!==o){if(e)n&&this.backData.push(t),this.backIndexData.push(o-1);else{var s=this.backData.findIndex((function(t){return t[a.rowKey]===n})),l=this.backIndexData.findIndex((function(t){return t===o-1}));n&&this.backData.splice(s,1),this.backIndexData.splice(l,1)}var u=this.trChildren.find((function(t,e){return e>0&&!t.checked&&!t.disabled}));u?(r.indeterminate=!0,r.checked=!1):(r.indeterminate=!1,r.checked=!0),0===this.backIndexData.length&&(r.indeterminate=!1),i||this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})}else e?this.selectionAll():this.clearSelection()}}};e.default=i},f0aa:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u78ba\u5b9a","uni-popup.placeholder":"\u8acb\u8f38\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},f0b6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initInterceptor=o;var i=r(n("7512")),a=r(n("0953"));function r(t){return t&&t.__esModule?t:{default:t}}function o(){uni.addInterceptor("navigateTo",{invoke:function(t){i.default.getters["user/isTokenValid"]||uni.showModal({content:"\u767b\u5f55\u72b6\u6001\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",showCancel:!1,success:function(){uni.reLaunch({url:a.default.login.url})}})},fail:function(t){var e=t.errMsg;-1!==e.indexOf("is not found")&&uni.navigateTo({url:a.default.error.url+"?errMsg="+e})}})}},f0c5:function(t,e,n){"use strict";function i(t,e,n,i,a,r,o,s,l,u){var c,d="function"===typeof t?t.options:t;if(l){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in l)f.call(l,h)&&!f.call(d.components,h)&&(d.components[h]=l[h])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(d.functional){d._injectStyles=c;var p=d.render;d.render=function(t,e){return c.call(e),p(t,e)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,c):[c]}return{exports:t,options:d}}n.d(e,"a",(function(){return i}))},f0ed:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[n("uni-forms-item",{attrs:{name:"tagid",label:"\u6807\u7b7e\u7684tagid",required:!0,_i:2}},[n("uni-easyinput",{attrs:{disabled:!0,placeholder:"\u6807\u7b7etagid",_i:3},model:{value:t._$s(3,"v-model",t.formData.tagid),callback:function(e){t.$set(t.formData,"tagid",e)},expression:"formData.tagid"}})],1),n("uni-forms-item",{attrs:{name:"name",label:"\u6807\u7b7e\u540d\u79f0",required:!0,_i:4}},[n("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("uni-forms-item",{attrs:{name:"description",label:"\u6807\u7b7e\u63cf\u8ff0",_i:6}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})]),n("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[n("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}}),n("navigator",{},[n("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}})])])],1)],1)},r=[]},f118:function(t,e,n){"use strict";n.r(e);var i=n("8e6e"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},f1ab:function(t,e,n){"use strict";n.r(e);var i=n("02b9"),a=n("ce30");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},f1b5:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-calendar-item__weeks-box"),class:t._$s(0,"c",{"uni-calendar-item--disable":t.weeks.disable,"uni-calendar-item--before-checked-x":t.weeks.beforeMultiple,"uni-calendar-item--multiple":t.weeks.multiple,"uni-calendar-item--after-checked-x":t.weeks.afterMultiple}),attrs:{_i:0},on:{click:function(e){return t.choiceDate(t.weeks)},mouseenter:function(e){return t.handleMousemove(t.weeks)}}},[n("view",{staticClass:t._$s(1,"sc","uni-calendar-item__weeks-box-item"),class:t._$s(1,"c",{"uni-calendar-item--checked":t.calendar.fullDate===t.weeks.fullDate&&(t.calendar.userChecked||!t.checkHover),"uni-calendar-item--checked-range-text":t.checkHover,"uni-calendar-item--before-checked":t.weeks.beforeMultiple,"uni-calendar-item--multiple":t.weeks.multiple,"uni-calendar-item--after-checked":t.weeks.afterMultiple,"uni-calendar-item--disable":t.weeks.disable}),attrs:{_i:1}},[t._$s(2,"i",t.selected&&t.weeks.extraInfo)?n("text",{staticClass:t._$s(2,"sc","uni-calendar-item__weeks-box-circle"),attrs:{_i:2}}):t._e(),n("text",{staticClass:t._$s(3,"sc","uni-calendar-item__weeks-box-text uni-calendar-item__weeks-box-text-disable uni-calendar-item--checked-text"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.weeks.date)))])]),n("view",{class:t._$s(4,"c",{"uni-calendar-item--isDay":t.weeks.isDay}),attrs:{_i:4}})])},r=[]},f1e4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("c68d")),a=n("37dc"),r=o(n("1d8d"));function o(t){return t&&t.__esModule?t:{default:t}}var s=(0,a.initVueI18n)(r.default),l=s.t,u={name:"uniPopupDialog",mixins:[i.default],emits:["confirm","close"],props:{value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""}},data:function(){return{dialogType:"error",focus:!1,val:""}},computed:{okText:function(){return this.confirmText||l("uni-popup.ok")},closeText:function(){return this.cancelText||l("uni-popup.cancel")},placeholderText:function(){return this.placeholder||l("uni-popup.placeholder")},titleText:function(){return this.title||l("uni-popup.title")}},watch:{type:function(t){this.dialogType=t},mode:function(t){"input"===t&&(this.dialogType="info")},value:function(t){this.val=t}},created:function(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},mounted:function(){this.focus=!0},methods:{onOk:function(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog:function(){this.$emit("close"),this.beforeClose||this.popup.close()},close:function(){this.popup.close()}}};e.default=u},f264:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("8a0e"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{tableName:"uni-stat-result",fieldsMap:r.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,currentChartTab:"day",tableData:[],chartData:{},channelData:[],tabName:"\u65e5\u6d3b"}},computed:{chartTabs:function(){var t=[{_id:"day",name:"\u65e5\u6d3b"},{_id:"week",name:"\u5468\u6d3b"},{_id:"month",name:"\u6708\u6d3b"}];return(0,a.maxDeltaDay)(this.query.start_time,7)&&t.forEach((function(t,e){"month"===t._id?t.disabled=!0:t.disabled=!1})),t},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code,i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n,i,r=864e5;n=(0,a.getTimeOfSomeDayAgo)(t),i=t?(0,a.getTimeOfSomeDayAgo)(0)-1:(0,a.getTimeOfSomeDayAgo)(0)+r-1,this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,n){this.currentChartTab=t,this.tabName=n,this.getChartData(this.query,t,n)},getAllData:function(t){this.getChartData(t,this.currentChartTab,this.tabName),this.getTabelData(t)},getChartData:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65e5\u6d3b",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_device_count";this.chartData={};var u={categories:[],series:[{name:o,data:[]}]};t=(0,a.stringifyQuery)(t,!1,["uni_platform"]);var c=i.database();"day"===e?c.collection(this.tableName).where(t).field("".concat((0,a.stringifyField)(r.default,l),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default,l)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);n.chartData=[];var r,o=s(i);try{for(o.s();!(r=o.n()).done;){var c=r.value,d=(0,a.formatDate)(c.start_time,"day"),f=c[l];u.series[0].data.push(f),u.categories.push(d)}}catch(h){o.e(h)}finally{o.f()}n.chartData=u})).catch((function(t){})):this.getRangeCountData(t,e).then((function(t){var i=e;"week"===e&&(e="isoWeek");var r=t.result,o=(r.count,r.data);n.chartData=[];var c,d=6048e5,f=s(o);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=+new Date(h.year,0)+(Number(h[e])*d-1),m=(0,a.formatDate)(p,i),_=h[e+"_"+l];_&&(u.series[0].data.push(_),u.categories.push(m))}}catch(g){f.e(g)}finally{f.f()}n.chartData=u}))},getTabelData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active_device_count",o=this.options.pageCurrent;t=(0,a.stringifyQuery)(t),this.loading=!0;var l=i.database();l.collection(this.tableName).where(t).field("".concat((0,a.stringifyField)(r.default,n),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.default,n)).orderBy("start_time","desc").skip((o-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(n){var i=n.result,o=i.count,l=i.data,u=l,c=o,d=[],f=[];e.getRangeCountData(t,"week").then((function(n){var i=n.result,o=(i.count,i.data);d=o,e.getRangeCountData(t,"month").then((function(t){var n=t.result,i=(n.count,n.data);f=i;var o,l=e.mapWithWeekAndMonth(u,d,f),h=s(l);try{for(h.s();!(o=h.n()).done;){var p=o.value;(0,a.mapfields)(r.default,p,p)}}catch(m){h.e(m)}finally{h.f()}e.tableData=[],e.options.total=c,e.tableData=l})).finally((function(){e.loading=!1}))}))})).catch((function(t){}))},getRangeCountData:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active_device_count";"week"===e&&(e="isoWeek");this.options.pageCurrent;var a=i.database();return a.collection(this.tableName).where(t).field("".concat(n,", start_time, ").concat(e,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(e,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(e)).groupField("sum(".concat(n,") as ").concat(e,"_").concat(n)).orderBy("year asc, ".concat(e," asc")).get({getCount:!0})},mapWithWeekAndMonth:function(t,e,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_device_count",r=s(t);try{for(r.s();!(i=r.n()).done;){var o,l=i.value,u=new Date(l.start_time),c=u.getUTCFullYear(),d=u.getMonth()+1,f=this.getWeekNumber(u),h=s(e);try{for(h.s();!(o=h.n()).done;){var p=o.value;p.isoWeek===f&&p.year===c&&(l["week_".concat(a)]=p["isoWeek_".concat(a)])}}catch(v){h.e(v)}finally{h.f()}var m,_=s(n);try{for(_.s();!(m=_.n()).done;){var g=m.value;g.month===d&&g.year===c&&(l["month_".concat(a)]=g["month_".concat(a)])}}catch(v){_.e(v)}finally{_.f()}}}catch(v){r.e(v)}finally{r.f()}return t},getWeekNumber:function(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),n=Math.ceil(((t-e)/864e5+1)/7);return n},getChannelData:function(t,e){var n=this;this.query.channel_id="";var a=i.database(),r={};t=t||this.query.appid,t&&(r.appid=t),e=e||this.query.platform_id,e&&(r.platform_id=e);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,a=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),a.push({value:i[r]._id,text:e});n.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("0de9")["default"],n("a9ff")["default"])},f27d:function(t,e,n){"use strict";n.r(e);var i=n("976f"),a=n("d3a0");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},f2ca:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("26cb"),a=n("416f");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={data:function(){return{menus:[],userMenu:[],famliy:[]}},mixins:[t.mixinDatacom],props:{value:{type:String,default:""},activeTextColor:{type:String,default:"#42B983"},uniqueOpened:{type:Boolean,default:!1},staticMenu:{type:Array,default:function(){return[]}}},watch:{localdata:{handler:function(t){this.hasLocalData(t)&&(this.userMenu=t)},immediate:!0},menus:{immediate:!0,handler:function(t,e){var n=this,i=this.menus.find((function(t){return t.value===n.$route.path}));i&&(this.getMenuAncestor(i.menu_id,t),i&&this.setRoutes&&this.setRoutes(this.famliy))}},$route:{immediate:!1,handler:function(t,e){if(t.fullPath!==e.fullPath){this.famliy=[];var n=this.menus.find((function(e){return e.value===t.path})),i=n&&n.menu_id;this.getMenuAncestor(i,this.menus),this.setRoutes&&this.setRoutes(this.famliy)}}}},created:function(){this.hasLocalData(this.localdata)},methods:o(o({},(0,i.mapActions)({setRoutes:"app/setRoutes"})),{},{getUserMenu:function(e){var n=t.getCurrentUserInfo(),i=n.permission,r=n.role;return e.map((function(t){e.some((function(e){return e.parent_id===t.menu_id}))||(t.isLeafNode=!0)})),r.includes("admin")||(e=e.filter((function(t){return!t.isLeafNode||!(!t.permission||!t.permission.length)&&t.permission.some((function(t){return i.indexOf(t)>-1}))}))),(0,a.buildMenus)(e)},onSelect:function(t){this.famliy=[],this.getMenuAncestor(t.menu_id,this.menus),this.emit(t)},emit:function(t){this.$emit("select",t,this.famliy),this.$emit("input",t.value)},hasLocalData:function(t){return Array.isArray(t)&&t.length>0},load:function(){var t=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var n=e.result,i=n.data;n.count;t.menus=i,t.userMenu=t.getUserMenu(t.menus)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e})))},getMenuAncestor:function(t,e){var n=this;e.forEach((function(i){if(i.menu_id===t){var a={name:i.text},r=i.value;r&&(a.to={path:r}),n.famliy.unshift(a);var o=i.parent_id;o&&n.getMenuAncestor(o,e)}}))}})};e.default=l}).call(this,n("a9ff")["default"])},f2d0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function s(t){var e=c();return function(){var n,i=d(t);if(e){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){f(r,i,a,o,s,"next",t)}function s(t){f(r,i,a,o,s,"throw",t)}o(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}var g={email:/^\S+?@\S+?\.\S+?$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i")},v={int:"integer",bool:"boolean",double:"number",long:"number",password:"string"};function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=["label"];n.forEach((function(e){void 0===t[e]&&(t[e]="")}));var i=e;for(var a in t){var r=new RegExp("{"+a+"}");i=i.replace(r,t[a])}return i}function b(t,e){return void 0===t||null===t||("string"===typeof t&&!t||(!(!Array.isArray(t)||t.length)||"object"===e&&!Object.keys(t).length))}var x={integer:function(t){return x.number(t)&&parseInt(t,10)===t},string:function(t){return"string"===typeof t},number:function(t){return!isNaN(t)&&"number"===typeof t},boolean:function(t){return"boolean"===typeof t},float:function(t){return x.number(t)&&!x.integer(t)},array:function(t){return Array.isArray(t)},object:function(t){return"object"===typeof t&&!x.array(t)},date:function(t){return t instanceof Date},timestamp:function(t){return!(!this.integer(t)||Math.abs(t).toString().length>16)},file:function(t){return"string"===typeof t.url},email:function(t){return"string"===typeof t&&!!t.match(g.email)&&t.length<255},url:function(t){return"string"===typeof t&&!!t.match(g.url)},pattern:function(t,e){try{return new RegExp(t).test(e)}catch(n){return!1}},method:function(t){return"function"===typeof t},idcard:function(t){return"string"===typeof t&&!!t.match(g.idcard)},"url-https":function(t){return this.url(t)&&t.startsWith("https://")},"url-scheme":function(t){return t.startsWith("://")},"url-web":function(t){return!1}},w=function(){function t(e){p(this,t),this._message=e}return _(t,[{key:"validateRule",value:function(){var t=h(i.default.mark((function t(e,n,a,r,o){var s,l,u,c,d,f,h,p,m;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=null,l=n.rules,u=l.findIndex((function(t){return t.required})),!(u<0)){t.next=8;break}if(null!==a&&void 0!==a){t.next=6;break}return t.abrupt("return",s);case 6:if("string"!==typeof a||a.length){t.next=8;break}return t.abrupt("return",s);case 8:if(c=this._message,void 0!==l){t.next=11;break}return t.abrupt("return",c["default"]);case 11:d=0;case 12:if(!(d<l.length)){t.next=35;break}if(f=l[d],h=this._getValidateType(f),Object.assign(f,{label:n.label||'["'.concat(e,'"]')}),!$[h]){t.next=20;break}if(s=$[h](f,a,c),null==s){t.next=20;break}return t.abrupt("break",35);case 20:if(!f.validateExpr){t.next=26;break}if(p=Date.now(),m=f.validateExpr(a,o,p),!1!==m){t.next=26;break}return s=this._getMessage(f,f.errorMessage||this._message["default"]),t.abrupt("break",35);case 26:if(!f.validateFunction){t.next=32;break}return t.next=29,this.validateFunction(f,a,r,o,h);case 29:if(s=t.sent,null===s){t.next=32;break}return t.abrupt("break",35);case 32:d++,t.next=12;break;case 35:return null!==s&&(s=c.TAG+s),t.abrupt("return",s);case 37:case"end":return t.stop()}}),t,this)})));function e(e,n,i,a,r){return t.apply(this,arguments)}return e}()},{key:"validateFunction",value:function(){var t=h(i.default.mark((function t(e,n,a,r,o){var s,l,u;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=null,t.prev=1,l=null,t.next=5,e.validateFunction(e,n,r||a,(function(t){l=t}));case 5:u=t.sent,(l||"string"===typeof u&&u||!1===u)&&(s=this._getMessage(e,l||u,o)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),s=this._getMessage(e,t.t0.message,o);case 12:return t.abrupt("return",s);case 13:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(e,n,i,a,r){return t.apply(this,arguments)}return e}()},{key:"_getMessage",value:function(t,e,n){return y(t,e||t.errorMessage||this._message[n]||e["default"])}},{key:"_getValidateType",value:function(t){var e="";return t.required?e="required":t.format?e="format":t.arrayType?e="arrayTypeFormat":t.range?e="range":void 0!==t.maximum||void 0!==t.minimum?e="rangeNumber":void 0!==t.maxLength||void 0!==t.minLength?e="rangeLength":t.pattern?e="pattern":t.validateFunction&&(e="validateFunction"),e}}]),t}(),$={required:function(t,e,n){return t.required&&b(e,t.format||typeof e)?y(t,t.errorMessage||n.required):null},range:function(t,e,n){for(var i=t.range,a=t.errorMessage,r=new Array(i.length),o=0;o<i.length;o++){var s=i[o];x.object(s)&&void 0!==s.value?r[o]=s.value:r[o]=s}var l=!1;return Array.isArray(e)?l=new Set(e.concat(r)).size===r.length:r.indexOf(e)>-1&&(l=!0),l?null:y(t,a||n["enum"])},rangeNumber:function(t,e,n){if(!x.number(e))return y(t,t.errorMessage||n.pattern.mismatch);var i=t.minimum,a=t.maximum,r=t.exclusiveMinimum,o=t.exclusiveMaximum,s=r?e<=i:e<i,l=o?e>=a:e>a;return void 0!==i&&s?y(t,t.errorMessage||n["number"][r?"exclusiveMinimum":"minimum"]):void 0!==a&&l?y(t,t.errorMessage||n["number"][o?"exclusiveMaximum":"maximum"]):void 0!==i&&void 0!==a&&(s||l)?y(t,t.errorMessage||n["number"].range):null},rangeLength:function(t,e,n){if(!x.string(e)&&!x.array(e))return y(t,t.errorMessage||n.pattern.mismatch);var i=t.minLength,a=t.maxLength,r=e.length;return void 0!==i&&r<i?y(t,t.errorMessage||n["length"].minLength):void 0!==a&&r>a?y(t,t.errorMessage||n["length"].maxLength):void 0!==i&&void 0!==a&&(r<i||r>a)?y(t,t.errorMessage||n["length"].range):null},pattern:function(t,e,n){return x["pattern"](t.pattern,e)?null:y(t,t.errorMessage||n.pattern.mismatch)},format:function(t,e,n){var i=Object.keys(x),a=v[t.format]?v[t.format]:t.format||t.arrayType;return i.indexOf(a)>-1&&!x[a](e)?y(t,t.errorMessage||n.typeError):null},arrayTypeFormat:function(t,e,n){if(!Array.isArray(e))return y(t,t.errorMessage||n.typeError);for(var i=0;i<e.length;i++){var a=e[i],r=this.format(t,a,n);if(null!==r)return r}return null}},k=function(t){r(n,t);var e=s(n);function n(t,i){var a;return p(this,n),a=e.call(this,n.message),a._schema=t,a._options=i||null,a}return _(n,[{key:"updateSchema",value:function(t){this._schema=t}},{key:"validate",value:function(){var t=h(i.default.mark((function t(e,n){var a;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this._checkFieldInSchema(e),a){t.next=5;break}return t.next=4,this.invokeValidate(e,!1,n);case 4:a=t.sent;case 5:return t.abrupt("return",a.length?a[0]:null);case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"validateAll",value:function(){var t=h(i.default.mark((function t(e,n){var a;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this._checkFieldInSchema(e),a){t.next=5;break}return t.next=4,this.invokeValidate(e,!0,n);case 4:a=t.sent;case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"validateUpdate",value:function(){var t=h(i.default.mark((function t(e,n){var a;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this._checkFieldInSchema(e),a){t.next=5;break}return t.next=4,this.invokeValidateUpdate(e,!1,n);case 4:a=t.sent;case 5:return t.abrupt("return",a.length?a[0]:null);case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"invokeValidate",value:function(){var t=h(i.default.mark((function t(e,n,a){var r,o,s,l,u;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],o=this._schema,t.t0=i.default.keys(o);case 3:if((t.t1=t.t0()).done){t.next=15;break}return s=t.t1.value,l=o[s],t.next=8,this.validateRule(s,l,e[s],e,a);case 8:if(u=t.sent,null==u){t.next=13;break}if(r.push({key:s,errorMessage:u}),n){t.next=13;break}return t.abrupt("break",15);case 13:t.next=3;break;case 15:return t.abrupt("return",r);case 16:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}()},{key:"invokeValidateUpdate",value:function(){var t=h(i.default.mark((function t(e,n,a){var r,o,s;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],t.t0=i.default.keys(e);case 2:if((t.t1=t.t0()).done){t.next=13;break}return o=t.t1.value,t.next=6,this.validateRule(o,this._schema[o],e[o],e,a);case 6:if(s=t.sent,null==s){t.next=11;break}if(r.push({key:o,errorMessage:s}),n){t.next=11;break}return t.abrupt("break",13);case 11:t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}()},{key:"_checkFieldInSchema",value:function(t){var e=Object.keys(t),i=Object.keys(this._schema);if(new Set(e.concat(i)).size===i.length)return"";var a=e.filter((function(t){return i.indexOf(t)<0})),r=y({field:JSON.stringify(a)},n.message.TAG+n.message["defaultInvalid"]);return[{key:"invalid",errorMessage:r}]}}]),n}(w);function C(){return{TAG:"",default:"\u9a8c\u8bc1\u9519\u8bef",defaultInvalid:"\u63d0\u4ea4\u7684\u5b57\u6bb5{field}\u5728\u6570\u636e\u5e93\u4e2d\u5e76\u4e0d\u5b58\u5728",validateFunction:"\u9a8c\u8bc1\u65e0\u6548",required:"{label}\u5fc5\u586b",enum:"{label}\u8d85\u51fa\u8303\u56f4",timestamp:"{label}\u683c\u5f0f\u65e0\u6548",whitespace:"{label}\u4e0d\u80fd\u4e3a\u7a7a",typeError:"{label}\u7c7b\u578b\u65e0\u6548",date:{format:"{label}\u65e5\u671f{value}\u683c\u5f0f\u65e0\u6548",parse:"{label}\u65e5\u671f\u65e0\u6cd5\u89e3\u6790,{value}\u65e0\u6548",invalid:"{label}\u65e5\u671f{value}\u65e0\u6548"},length:{minLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u5c11\u4e8e{minLength}",maxLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7{maxLength}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minLength}\u548c{maxLength}\u4e4b\u95f4"},number:{minimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e{minimum}",maximum:"{label}\u4e0d\u80fd\u5927\u4e8e{maximum}",exclusiveMinimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e\u7b49\u4e8e{minimum}",exclusiveMaximum:"{label}\u4e0d\u80fd\u5927\u4e8e\u7b49\u4e8e{maximum}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minimum}and{maximum}\u4e4b\u95f4"},pattern:{mismatch:"{label}\u683c\u5f0f\u4e0d\u5339\u914d"}}}k.message=new C;var D=k;e.default=D},f319:function(t,e,n){"use strict";n.r(e);var i=n("45a3"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},f328:function(t,e,n){"use strict";n.r(e);var i=n("bc70"),a=n("5639");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},f500:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-forms-item"),class:t._$s(0,"c",["is-direction-"+t.localLabelPos,t.border?"uni-forms-item--border":"",t.border&&t.isFirstBorder?"is-first-border":""]),attrs:{_i:0}},[t._t("label",[n("view",{staticClass:t._$s(2,"sc","uni-forms-item__label"),class:t._$s(2,"c",{"no-label":!t.label&&!t.isRequired}),style:t._$s(2,"s",{width:t.localLabelWidth,justifyContent:t.localLabelAlign}),attrs:{_i:2}},[t._$s(3,"i",t.isRequired)?n("text",{staticClass:t._$s(3,"sc","is-required"),attrs:{_i:3}}):t._e(),n("text",[t._v(t._$s(4,"t0-0",t._s(t.label)))])])],{_i:1}),n("view",{staticClass:t._$s(5,"sc","uni-forms-item__content"),attrs:{_i:5}},[t._t("default",null,{_i:6}),n("view",{staticClass:t._$s(7,"sc","uni-forms-item__error"),class:t._$s(7,"c",{"msg--active":t.msg}),attrs:{_i:7}},[n("text",[t._v(t._$s(8,"t0-0",t._s(t.msg)))])])],2)],2)},r=[]},f552:function(t,e,n){"use strict";n.r(e);var i=n("f500"),a=n("28e4");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},f5b1:function(t,e,n){"use strict";n.r(e);var i=n("dfe9"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},f5b4:function(t,e,n){"use strict";n.r(e);var i=n("baa7"),a=n("ec41");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},f67b:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("text",{staticClass:t._$s(0,"sc","uni-icons"),class:t._$s(0,"c",["uniui-"+t.type,t.customPrefix,t.customPrefix?t.type:""]),style:t._$s(0,"s",{color:t.color,"font-size":t.iconSize}),attrs:{_i:0},on:{click:t._onClick}})},r=[]},f690:function(t,e,n){"use strict";n.r(e);var i=n("1275"),a=n("3d9b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"be9e0cb8",null,!1,i["a"],o);e["default"]=l.exports},f6b0:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("37dc"),a=r(n("11d2"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return c(t)||u(t)||l(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var f=(0,i.initVueI18n)(a.default),h=f.t,p={load:"load",error:"error"},m={add:"add",replace:"replace"},_={auto:"auto",onready:"onready",manual:"manual"},g=["pageCurrent","pageSize","spaceInfo","collection","action","field","getcount","orderby","where","groupby","groupField","distinct"],v={name:"UniClouddb",props:{options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String,Object],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},pageIndistinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{loading:!1,hasMore:!1,dataList:this.getone?void 0:[],paginationInternal:{},errorMessage:""}},computed:{collectionArgs:function(){return Array.isArray(this.collection)?this.collection:[this.collection]},isLookup:function(){return Array.isArray(this.collection)&&this.collection.length>1||"string"===typeof this.collection&&this.collection.indexOf(",")>-1},mainCollection:function(){if("string"===typeof this.collection)return this.collection.split(",")[0];var t=JSON.parse(JSON.stringify(this.collection[0]));return t.$db[0].$param[0]}},created:function(){var t=this;this._isEnded=!1,this.paginationInternal={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return g.forEach((function(n){e.push(t[n])})),e}),(function(e,n){if(t.paginationInternal.size=t.pageSize,e[0]!==n[0]&&(t.paginationInternal.current=t.pageCurrent),t.loadtime!==_.manual){for(var i=!1,a=2;a<e.length;a++)if(e[a]!==n[a]){i=!0;break}i&&(t.clear(),t.reset()),t._execLoadData()}})),this.manual||this.loadtime!==_.auto||this.loadData()},methods:{loadData:function(t,e){var n=null,i=!1;"object"===typeof t?(t.clear&&(this.pageData===m.replace?this.clear():i=t.clear,this.reset()),void 0!==t.current&&(this.paginationInternal.current=t.current),"function"===typeof e&&(n=e)):"function"===typeof t&&(n=t),this._execLoadData(n,i)},loadMore:function(){this._isEnded||this.loading||(this.pageData===m.add&&this.paginationInternal.current++,this._execLoadData())},refresh:function(){this.clear(),this._execLoadData()},clear:function(){this._isEnded=!1,this.dataList=[]},reset:function(){this.paginationInternal.current=1},add:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.action,a=n.showToast,r=void 0===a||a,o=n.toastTitle,s=n.success,l=n.fail,u=n.complete,c=n.needConfirm,d=void 0===c||c,f=n.needLoading,p=void 0===f||f,m=n.loadingTitle,_=void 0===m?"":m;p&&uni.showLoading({title:_});var g=t.database(this.spaceInfo);i&&(g=g.action(i)),g.collection(this.mainCollection).add(e).then((function(t){s&&s(t),r&&uni.showToast({title:o||h("uniCloud.component.add.success")})})).catch((function(t){l&&l(t),d&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){p&&uni.hideLoading(),u&&u()}))},remove:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.action,a=n.success,r=n.fail,o=n.complete,s=n.confirmTitle,l=n.confirmContent,u=n.needConfirm,c=void 0===u||u,d=n.needLoading,f=void 0===d||d,p=n.loadingTitle,m=void 0===p?"":p;t&&t.length&&(c?uni.showModal({title:s||h("uniCloud.component.remove.showModal.title"),content:l||h("uniCloud.component.remove.showModal.content"),showCancel:!0,success:function(n){n.confirm&&e._execRemove(t,i,a,r,o,c,f,m)}}):this._execRemove(t,i,a,r,o,c,f,m))},update:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.action,r=i.showToast,o=void 0===r||r,s=i.toastTitle,l=i.success,u=i.fail,c=i.complete,d=i.needConfirm,f=void 0===d||d,p=i.needLoading,m=void 0===p||p,_=i.loadingTitle,g=void 0===_?"":_;m&&uni.showLoading({title:g});var v=t.database(this.spaceInfo);return a&&(v=v.action(a)),v.collection(this.mainCollection).doc(e).update(n).then((function(t){l&&l(t),o&&uni.showToast({title:s||h("uniCloud.component.update.success")})})).catch((function(t){u&&u(t),f&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){m&&uni.hideLoading(),c&&c()}))},getTemp:function(){var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=t.database(this.spaceInfo);this.action&&(i=i.action(this.action)),i=(e=i).collection.apply(e,o(this.collectionArgs)),this.foreignKey&&(i=i.foreignKey(this.foreignKey)),this.where&&Object.keys(this.where).length&&(i=i.where(this.where)),this.field&&(i=i.field(this.field)),this.groupby&&(i=i.groupBy(this.groupby)),this.groupField&&(i=i.groupField(this.groupField)),!0===this.distinct&&(i=i.distinct()),this.orderby&&(i=i.orderBy(this.orderby));var a=this.paginationInternal,r=a.current,s=a.size,l={};this.getcount&&(l.getCount=this.getcount);var u={limitLevel:this.limitlevel,startWith:this.startwith};return this.gettree&&(l.getTree=u),this.gettreepath&&(l.getTreePath=u),i=i.skip(s*(r-1)).limit(s),n?(i=i.getTemp(l),i.udb=this):i=i.get(l),i},setResult:function(t){0===t.code?this._execLoadDataSuccess(t):this._execLoadDataFail(new Error(t.message))},_execLoadData:function(t,e){var n=this;this.loading||(this.loading=!0,this.errorMessage="",this._getExec().then((function(i){n.loading=!1,n._execLoadDataSuccess(i.result,t,e)})).catch((function(e){n.loading=!1,n._execLoadDataFail(e,t)})))},_execLoadDataSuccess:function(t,e,n){var i=t.data,a=t.count;this._isEnded=void 0!==a?this.paginationInternal.current*this.paginationInternal.size>=a:i.length<this.pageSize,this.hasMore=!this._isEnded;var r,s=this.getone?i.length?i[0]:void 0:i;(this.getcount&&(this.paginationInternal.count=a),e&&e(s,this._isEnded,this.paginationInternal),this._dispatchEvent(p.load,s),this.getone||this.pageData===m.replace)?this.dataList=s:n?this.dataList=s:(r=this.dataList).push.apply(r,o(s))},_execLoadDataFail:function(t,e){this.errorMessage=t,e&&e(),this.$emit(p.error,t)},_getExec:function(){return this.getTemp(!1)},_execRemove:function(e,n,i,a,r,o,s,l){var u=this;if(this.collection&&e){var c=Array.isArray(e)?e:[e];if(c.length){s&&uni.showLoading({mask:!0,title:l});var d=t.database(this.spaceInfo),f=d.command,h=d;n&&(h=h.action(n)),h.collection(this.mainCollection).where({_id:f.in(c)}).remove().then((function(t){i&&i(t.result),u.pageData===m.replace?u.refresh():u.removeData(c)})).catch((function(t){a&&a(t),o&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){s&&uni.hideLoading(),r&&r()}))}}},removeData:function(t){for(var e=t.slice(0),n=this.dataList,i=n.length-1;i>=0;i--){var a=e.indexOf(n[i]._id);a>=0&&(n.splice(i,1),e.splice(a,1))}},_dispatchEvent:function(t,e){this._changeDataFunction?this._changeDataFunction(e,this._isEnded,this.paginationInternal):this.$emit(t,e,this._isEnded,this.paginationInternal)}}};e.default=v}).call(this,n("a9ff")["default"])},f6d6:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("0429"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,tableData:[],chartData:{},field:"new_device",fields:[{_id:"new_device",name:"\u65b0\u589e\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u65b0\u589e\uff08\u5373\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"},{_id:"active_device",name:"\u6d3b\u8dc3\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u6d3b\u8dc3\uff08\u5373\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"}],key:1,channelData:[]}},computed:{fieldsMap:function(){var t="active_device"===this.field?"\u6d3b\u8dc3\u7528\u6237":"\u65b0\u589e\u7528\u6237",e=[{title:t,field:"".concat(this.field,"_count"),stat:0}];return(0,r.default)(e)},fieldName:function(){var t=this,e="";return this.fields.forEach((function(n){n._id===t.field&&(e=n.name)})),e},keyName:function(){var t=this;return this.keys.forEach((function(e){if(e._id===t.key)return e.name}))},keys:function(){var t=[1,2,3,4,5,6,7,14,30];return t.map((function(t){return{_id:t,name:"".concat(t,"\u5929\u540e")}}))},channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},key:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},stringifyField:function(t,e,n){var i=this;e&&(t=t.filter((function(t){return t.field===e}))),n&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(n)})));var a=t.map((function(t){return-1===t.stat?t.field:0===t.stat?"".concat(t.field," as ").concat("temp_"+t.field):"retention.".concat(i.field,".").concat(t.field,".device_count as ").concat("temp_"+t.field)})).join();return a},createStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"device_count",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=e||[1,2,3,4,5,6,7,14,30],r="d",o=this.fields.map((function(t){return t._id}));n=n||o;var s=a.map((function(e){return n.map((function(n){return"retention.".concat(n,".").concat(r+"_"+e,".").concat(t," as ").concat(r+"_"+e)}))}));i&&s.push(i);var l=s.join();return l},getAllData:function(t){this.getChartData(t,this.key,this.keyName),this.getTabelData(t)},getChartData:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.key;this.options.pageCurrent;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);this.createStr("device_count",[i],[this.field]);var r=t.database();r.collection("uni-stat-result").where(e).field("".concat(this.stringifyField(this.fieldsMap,"d_".concat(i)),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(this.fieldsMap,"d_".concat(i))).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e,r=t.result,o=(r.count,r.data),l={categories:[],series:[{name:"".concat(i,"\u5929\u540e").concat(n.fieldName),data:[]}]},u=s(o);try{for(u.s();!(e=u.n()).done;){var c=e.value,d=(0,a.formatDate)(c.start_time,"day"),f=c["d_".concat(i)];l.series[0].data.push(f),l.categories.push(d)}}catch(h){u.e(h)}finally{u.f()}n.chartData=l})).catch((function(t){})).finally((function(){n.loading=!1}))},getTabelData:function(e){var n=this,i=this.options.pageCurrent;e=(0,a.stringifyQuery)(e,null,["uni_platform"]);var r=this.field+"_count";this.createStr("user_rate","",[this.field],r);this.loading=!0;var o=t.database();o.collection("uni-stat-result").where(e).field(this.stringifyField(this.fieldsMap)).groupBy("start_time").groupField((0,a.stringifyGroupField)(this.fieldsMap)).orderBy("start_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,i=t.result,r=i.count,o=i.data,l=s(o);try{for(l.s();!(e=l.n()).done;){var u=e.value;(0,a.mapfields)(n.fieldsMap,u,u)}}catch(c){l.e(c)}finally{l.f()}n.options.total=r,n.tableData=[],n.tableData=o})).catch((function(t){})).finally((function(){n.loading=!1}))},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},f6ff:function(t,e,n){"use strict";n.r(e);var i=n("ef8b"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},f735:function(t,e,n){"use strict";n.r(e);var i=n("02b2"),a=n("9c0c");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},f8da:function(t,e,n){"use strict";n.r(e);var i=n("3cd0"),a=n("9438");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},f913:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("c4eb")),a=r(n("251f"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=t.database(),c=(u.command,"opendb-admin-menus");function d(t){var e={};for(var n in i.default)t.includes(n)&&(e[n]=i.default[n]);return e}var f={components:{Icons:a.default},data:function(){return{formData:{menu_id:"",name:"",icon:"",url:"",sort:"",parent_id:"",permission:[],enable:null},rules:s({},d(["menu_id","name","icon","url","sort","parent_id","permission","enable"]))}},onLoad:function(t){var e=t.id;this.formDataId=e,this.getDetail(e)},methods:{submitForm:function(t){this.$refs.form.submit()},submit:function(t){var e=this,n=t.detail,i=n.value,a=n.errors;a||(uni.showLoading({title:"\u4fee\u6539\u4e2d...",mask:!0}),u.collection(c).doc(this.formDataId).update(i).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection(c).where({_id:t}).get().then((function(t){var n=t.result.data[0];n&&(e.formData=n)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},showIconPopup:function(){this.$refs.iconPopup.open()}}};e.default=f}).call(this,n("a9ff")["default"])},f93e:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default,uniDataCheckbox:n("a93f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[n("uni-forms-item",{attrs:{name:"role_id",label:"\u552f\u4e00ID",required:!0,_i:2}},[n("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",disabled:!0,_i:3},model:{value:t._$s(3,"v-model",t.formData.role_id),callback:function(e){t.$set(t.formData,"role_id",e)},expression:"formData.role_id"}})],1),n("uni-forms-item",{attrs:{name:"role_name",label:"\u540d\u79f0",required:!0,_i:4}},[n("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u540d\u79f0",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.role_name),callback:function(e){t.$set(t.formData,"role_name",e)},expression:"formData.role_name"}})],1),n("uni-forms-item",{staticClass:t._$s(6,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650",_i:6}},[n("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:7},model:{value:t._$s(7,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}})],1),n("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:8}},[n("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u5907\u6ce8",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.comment),callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),n("view",{staticClass:t._$s(10,"sc","uni-button-group"),attrs:{_i:10}},[n("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.submit}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},f9cb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-"},{title:"\u65e5\u6d3b",field:"active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u5f53\u5929\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u5468\u6d3b",field:"week_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u5468\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u5468\u6d3b",field:"active_user_count/week_active_user_count",computed:"active_user_count/week_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u5468\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"},{title:"\u6708\u6d3b",field:"month_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u6708\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u6708\u6d3b",field:"active_user_count/month_active_user_count",computed:"active_user_count/month_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u6708\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"}];e.default=i},f9d8:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=o(n("18f6"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={data:function(){return{fieldsMap:r.default,query:{appid:"",platform_id:"",uni_platform:"",channel_id:"",version_id:"",create_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:[],queryId:"",updateValue:"",channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,a.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,n,i){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n=(0,a.getTimeOfSomeDayAgo)(t),i=(0,a.getTimeOfSomeDayAgo)(0)-1;this.query.create_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(t){this.getTableData(t)},getTableData:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.stringifyQuery)(this.query,null,["uni_platform"]),i=this.options.pageCurrent;this.loading=!0;var o=t.database();o.collection("uni-stat-event-logs","uni-stat-app-platforms").where(n).orderBy("create_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var n=t.result,i=n.count,o=n.data;e.tableData=[],e.options.total=i;var l,u=s(o);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.create_time=(0,a.parseDateTime)(c.create_time,"dateTime"),c.platform=c.platform&&c.platform[0].name,(0,a.mapfields)(r.default,c,c),e.tableData.push(c)}}catch(d){u.e(d)}finally{u.f()}})).catch((function(t){})).finally((function(){e.loading=!1}))},getChannelData:function(e,n){var i=this;this.query.channel_id="";var a=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),n=n||this.query.platform_id,n&&(r.platform_id=n);var o=a.collection("uni-stat-app-platforms").field("_id, name").getTemp(),s=a.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();a.collection(s,o).orderBy("platform_id","asc").get().then((function(t){var e,n=t.result.data,a=[];if(n.length>0)for(var r in n)e=n[r].channel_name?n[r].channel_name:"\u9ed8\u8ba4",n[r].platform_id.length>0&&(e=n[r].platform_id[0].name+"-"+e),a.push({value:n[r]._id,text:e});i.channelData=a})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,n("a9ff")["default"],n("0de9")["default"])},fc06:function(t,e,n){"use strict";n.r(e);var i=n("148e"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},fc08:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniForms:n("e82e").default,uniFormsItem:n("f552").default,uniEasyinput:n("f328").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[n("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[n("uni-forms-item",{attrs:{name:"permission_id",label:"\u6743\u9650ID",required:!0,_i:2}},[n("uni-easyinput",{attrs:{placeholder:"\u6743\u9650\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",disabled:!0,_i:3},on:{input:function(e){return t.binddata("permission_id",e.detail.value)}},model:{value:t._$s(3,"v-model",t.formData.permission_id),callback:function(e){t.$set(t.formData,"permission_id",e)},expression:"formData.permission_id"}})],1),n("uni-forms-item",{attrs:{name:"permission_name",label:"\u6743\u9650\u540d\u79f0",required:!0,_i:4}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_name,expression:"formData.permission_name"}],staticClass:t._$s(5,"sc","uni-input-border"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.formData.permission_name)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_name",e.target.value)},function(e){return t.binddata("permission_name",e.detail.value)}]}})]),n("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:6}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.comment,expression:"formData.comment"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.comment)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"comment",e.target.value)},function(e){return t.binddata("comment",e.detail.value)}]}})]),n("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[n("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}},[t._v(t._$s(9,"t0-0",t._s(t.$t("common.button.submit"))))]),n("navigator",{},[n("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},fc65:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("b3bc"),r=n("4693");function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function s(t,e){return f(t)||d(t,e)||u(t,e)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function f(t){if(Array.isArray(t))return t}var h=r.fieldsMap.filter((function(t){return t.hasOwnProperty("value")})),p={data:function(){return{tableName:"uni-stat-result",fieldsMap:r.fieldsMap,resFieldsMap:r.resFieldsMap,entFieldsMap:r.entFieldsMap,query:{dimension:"hour",appid:"",version_id:"",platform_id:"",uni_platform:"",start_time:[]},options:{pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100]},loading:!1,currentDateTab:2,chartTab:"new_user_count",tableData:[],resTableData:[],entTableData:[],panelData:h,chartData:{},eopts:{seriesTemplate:[{itemStyle:{borderWidth:2,borderColor:"#1890FF",color:"#1890FF"},areaStyle:{color:{colorStops:[{offset:0,color:"#1890FF"},{offset:1,color:"#FFFFFF"}]}}},{lineStyle:{color:"#ea7ccc",width:2,type:"dashed"},itemStyle:{borderWidth:1,borderColor:"#ea7ccc",color:"#ea7ccc"},areaStyle:null}]},tabIndex:0,tabName:"\u65b0\u589e\u8bbe\u5907"}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{pageSize:function(){var t=this.options,e=t.pageSizeRange,n=t.pageSizeIndex;return e[n]},chartTabs:function(){var t=[];return r.fieldsMap.forEach((function(e){var n=e.field,i=e.title;n&&i&&t.push({_id:n,name:i})})),t},versionQuery:function(){var t=this.query,e=t.appid,n=t.uni_platform,i=(0,a.stringifyQuery)({appid:e,uni_platform:n});return i}},created:function(){var t=this;this.debounceGet=(0,a.debounce)((function(){return t.getAllData(t.query)}))},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=null},changePlatform:function(t,e,n,i){this.query.version_id=0,i.code,this.query.uni_platform=i.code},changeTimeRange:function(t,e){this.currentDateTab=e;var n,i,r=864e5;n=(0,a.getTimeOfSomeDayAgo)(t),i=t?(0,a.getTimeOfSomeDayAgo)(0)-1:(0,a.getTimeOfSomeDayAgo)(0)+r-1,this.query.start_time=[n,i]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getChartData(this.query)},changePageSize:function(t){var e=t.detail.value;this.options.pageCurrent=1,this.options.pageSizeIndex=e,this.getChartData(this.query)},changeChartTab:function(t,e,n){this.tabIndex=e,this.tabName=n,this.getChartData(this.query,t,n)},getAllData:function(t){this.getPanelData(),this.getChartData(t),this.getPageData(t,"res"),this.getPageData(t,"ent")},getDays:function(){if(!this.query.start_time.length)return!0;var t=864e5,e=s(this.query.start_time,2),n=e[0],i=e[1],a=i-n>=t;return a},getPanelData:function(){var t=this,e=this.query,n=e.appid,o=e.platform_id,s=e.version_id,l=(0,a.stringifyQuery)({appid:n,platform_id:o,version_id:s,start_time:[(0,a.getTimeOfSomeDayAgo)(1),(new Date).getTime()]}),u=i.database();u.collection(this.tableName).where(l).field("".concat((0,a.stringifyField)(r.fieldsMap),",dimension,stat_date")).groupBy("stat_date, dimension").groupField((0,a.stringifyGroupField)(r.fieldsMap)).orderBy("stat_date","desc").get().then((function(e){var n=e.result.data,i=n.find((function(t){return t.stat_date===(0,a.parseDateTime)((0,a.getTimeOfSomeDayAgo)(0),"","")}))||{};i.total_devices=0;var o=n.find((function(t){return"day"===t.dimension&&t.stat_date===(0,a.parseDateTime)((0,a.getTimeOfSomeDayAgo)(1),"","")}));t.panelData=[],t.panelData=(0,a.mapfields)(r.fieldsMap,i),t.panelData.map((function(t){(0,a.mapfields)(r.fieldsMap,o,t,"","contrast")})),a.getFieldTotal.call(t,l)}))},getChartData:function(t){var e,n=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name,c=(this.options.pageCurrent,this.currentDateTab),d=(0,a.getTimeOfSomeDayAgo)(c),f=864e5;if(!this.getDays()){var h=d-f,p=d+f-1;t=JSON.parse(JSON.stringify(t)),e=t.start_time=[h,p]}t=(0,a.stringifyQuery)(t,!0,["uni_platform"]);var m=i.database();m.collection(this.tableName).where(t).field("".concat((0,a.stringifyField)(r.fieldsMap,l),", start_time")).groupBy("start_time").groupField((0,a.stringifyGroupField)(r.fieldsMap,l)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var i=t.result,c=(i.count,i.data),f={categories:[],series:[{name:u,data:[]}]},h=r.fieldsMap.filter((function(t){return t.field===l}));if(h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="",n.getDays()){var p,m=o(c);try{for(m.s();!(p=m.n()).done;){var _=p.value;(0,a.mapfields)(h,_,_);var g=(0,a.formatDate)(_.start_time,"day"),v=Number(_[l]);f.series[0].data.push(v),f.categories.push(g)}}catch(y){m.e(y)}finally{m.f()}}else(function(){for(var t=e,n=s(t,2),i=n[0],r=n[1],o=f.series[1]={name:(0,a.formatDate)(i),data:[]},u=f.series[0]={name:(0,a.formatDate)(r),data:[]},p=function(t){var e=t<10?"0"+t:t,n="".concat(e,":00 ~ ").concat(e,":59");f.categories.push(n),o.data[t]=0,u.data[t]=0,c.forEach((function(e){(0,a.mapfields)(h,e,e);var n=Number(e[l]),i=new Date(e.start_time);e.start_time<d?i.getHours()===t&&(o.data[t]=n):i.getHours()===t&&(u.data[t]=n)}))},m=0;m<24;++m)p(m)})();n.chartData=f})).catch((function(t){})).finally((function(){}))},getAppAccessTimes:function(t){var e=i.database();return e.collection(this.tableName).where(t).groupBy("appid").groupField("sum(page_visit_count) as total_app_access").get()},getPageData:function(t,e){var n=this;t=JSON.parse(JSON.stringify(t)),t.dimension="day",t=(0,a.stringifyQuery)(t,!1,["uni_platform"]);this.options.pageCurrent;var r=this["".concat(e,"FieldsMap")],s=r[1].field;this.loading=!0;var l=i.database(),u=(0,a.stringifyQuery)({appid:this.query.appid}),c=l.collection("uni-stat-pages").where(u).field("_id, title, path").getTemp(),d=l.collection("uni-stat-page-result").where("".concat(t," && ").concat(s," > 0")).getTemp();l.collection(d,c).field("".concat((0,a.stringifyField)(r,s),", stat_date, page_id")).groupBy("page_id").groupField((0,a.stringifyGroupField)(r,s)).orderBy(s,"desc").limit(10).get({getCount:!0}).then((function(i){var s,l=i.result,u=(l.count,l.data);n.getAppAccessTimes(t).then((function(t){var e=t.result.data[0];s=e&&e.total_app_access})).finally((function(){n["".concat(e,"TableData")]=[];var t,i=o(u);try{for(i.s();!(t=i.n()).done;){var l=t.value;l.total_app_access=s;var c=l.page_id;if(Array.isArray(c)){delete l.page_id;var d=c[0];if(d&&Object.keys(d).length)for(var f in d)"_id"!==f&&(l[f]=d[f])}(0,a.mapfields)(r,l,l),n["".concat(e,"TableData")].push(l)}}catch(h){i.e(h)}finally{i.f()}n.loading=!1}))})).catch((function(t){})).finally((function(){}))},navTo:function(t){t&&uni.navigateTo({url:t})}}};e.default=p}).call(this,n("0de9")["default"],n("a9ff")["default"])},fc96:function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t+="";while(t.length<e)t="0"+t;return t.slice(-e)}Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=o,e.friendlyDate=s;var a={yyyy:function(t){return i(t.year,4)},yy:function(t){return i(t.year)},MM:function(t){return i(t.month)},M:function(t){return t.month},dd:function(t){return i(t.day)},d:function(t){return t.day},hh:function(t){return i(t.hour)},h:function(t){return t.hour},mm:function(t){return i(t.minute)},m:function(t){return t.minute},ss:function(t){return i(t.second)},s:function(t){return t.second},SSS:function(t){return i(t.millisecond,3)},S:function(t){return t.millisecond}};function r(t){if(t instanceof Date)return t;switch(typeof t){case"string":return t.indexOf("T")>-1?new Date(t):new Date(t.replace(/-/g,"/"));default:return new Date(t)}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t&&0!==t)return"";t=r(t);var n={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},i=/yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/,o=!0,s=e;while(o)o=!1,s=s.replace(i,(function(t){return o=!0,a[t](n)}));return s}function s(t,e){var n=e.locale,i=void 0===n?"zh":n,a=e.threshold,s=void 0===a?[6e4,36e5]:a,l=e.format,u=void 0===l?"yyyy/MM/dd hh:mm:ss":l;if("-"===t)return t;if(!t&&0!==t)return"";var c,d,f={zh:{year:"\u5e74",month:"\u6708",day:"\u5929",hour:"\u5c0f\u65f6",minute:"\u5206\u949f",second:"\u79d2",ago:"\u524d",later:"\u540e",justNow:"\u521a\u521a",soon:"\u9a6c\u4e0a",template:"{num}{unit}{suffix}"},en:{year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",ago:"ago",later:"later",justNow:"just now",soon:"soon",template:"{num} {unit} {suffix}"}},h=f[i]||f.zh,p=r(t),m=p.getTime()-Date.now(),_=Math.abs(m);if(_<s[0])return m<0?h.justNow:h.soon;if(_>=s[1])return o(p,u);var g=h.later;m<0&&(g=h.ago,m=-m);var v=Math.floor(m/1e3),y=Math.floor(v/60),b=Math.floor(y/60),x=Math.floor(b/24),w=Math.floor(x/30),$=Math.floor(w/12);switch(!0){case $>0:c=$,d=h.year;break;case w>0:c=w,d=h.month;break;case x>0:c=x,d=h.day;break;case b>0:c=b,d=h.hour;break;case y>0:c=y,d=h.minute;break;default:c=v,d=h.second;break}return"en"===i&&(1===c?c="a":d+="s"),h.template.replace(/{\s*num\s*}/g,c+"").replace(/{\s*unit\s*}/g,d).replace(/{\s*suffix\s*}/g,g)}},fccd:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniLoadMore:n("6169").default,uniIcons:n("bb8e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-data-tree"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-data-tree-input"),attrs:{_i:1},on:{click:t.handleInput}},[t._t("default",[n("view",{staticClass:t._$s(3,"sc","input-value"),class:t._$s(3,"c",{"input-value-border":t.border}),attrs:{_i:3}},[t._$s(4,"i",t.errorMessage)?n("text",{staticClass:t._$s(4,"sc","selected-area error-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.errorMessage)))]):t._$s(5,"e",t.loading&&!t.isOpened)?n("view",{staticClass:t._$s(5,"sc","selected-area"),attrs:{_i:5}},[n("uni-load-more",{staticClass:t._$s(6,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:6}})],1):t._$s(7,"e",t.inputSelected.length)?n("scroll-view",{staticClass:t._$s(7,"sc","selected-area"),attrs:{_i:7}},[n("view",{staticClass:t._$s(8,"sc","selected-list"),attrs:{_i:8}},t._l(t._$s(9,"f",{forItems:t.inputSelected}),(function(e,i,a,r){return n("view",{key:t._$s(9,"f",{forIndex:a,key:i}),staticClass:t._$s("9-"+r,"sc","selected-item"),attrs:{_i:"9-"+r}},[n("text",[t._v(t._$s("10-"+r,"t0-0",t._s(e.text)))]),t._$s("11-"+r,"i",i<t.inputSelected.length-1)?n("text",{staticClass:t._$s("11-"+r,"sc","input-split-line"),attrs:{_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(t.split)))]):t._e()])})),0)]):n("text",{staticClass:t._$s(12,"sc","selected-area placeholder"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.placeholder)))]),t._$s(13,"i",t.clearIcon&&!t.readonly&&t.inputSelected.length)?n("view",{staticClass:t._$s(13,"sc","icon-clear"),attrs:{_i:13},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[n("uni-icons",{attrs:{type:"clear",color:"#e1e1e1",size:"14",_i:14}})],1):t._e(),t._$s(15,"i",(!t.clearIcon||!t.inputSelected.length)&&!t.readonly)?n("view",{staticClass:t._$s(15,"sc","arrow-area"),attrs:{_i:15}},[n("view",{staticClass:t._$s(16,"sc","input-arrow"),attrs:{_i:16}})]):t._e()])],{options:t.options,data:t.inputSelected,error:t.errorMessage,_i:2})],2),t._$s(17,"i",t.isOpened)?n("view",{staticClass:t._$s(17,"sc","uni-data-tree-cover"),attrs:{_i:17},on:{click:t.handleClose}}):t._e(),t._$s(18,"i",t.isOpened)?n("view",{staticClass:t._$s(18,"sc","uni-data-tree-dialog"),attrs:{_i:18}},[n("view",{staticClass:t._$s(19,"sc","uni-popper__arrow"),attrs:{_i:19}}),n("view",{staticClass:t._$s(20,"sc","dialog-caption"),attrs:{_i:20}},[n("view",{staticClass:t._$s(21,"sc","title-area"),attrs:{_i:21}},[n("text",{staticClass:t._$s(22,"sc","dialog-title"),attrs:{_i:22}},[t._v(t._$s(22,"t0-0",t._s(t.popupTitle)))])]),n("view",{staticClass:t._$s(23,"sc","dialog-close"),attrs:{_i:23},on:{click:t.handleClose}},[n("view",{staticClass:t._$s(24,"sc","dialog-close-plus"),attrs:{_i:24}}),n("view",{staticClass:t._$s(25,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:25}})])]),n("data-picker-view",{ref:"pickerView",staticClass:t._$s(26,"sc","picker-view"),attrs:{localdata:t.localdata,preload:t.preload,collection:t.collection,field:t.field,orderby:t.orderby,where:t.where,"step-searh":t.stepSearh,"self-field":t.selfField,"parent-field":t.parentField,"managed-mode":!0,map:t.map,ellipsis:t.ellipsis,_i:26},on:{change:t.onchange,datachange:t.ondatachange,nodeclick:t.onnodeclick},model:{value:t._$s(26,"v-model",t.dataValue),callback:function(e){t.dataValue=e},expression:"dataValue"}})],1):t._e()])},r=[]},fd33:function(t,e,n){"use strict";n.r(e);var i=n("50cb"),a=n("8f7b");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=l.exports},fd93:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("44e0");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=t.database();s.command;function l(t){var e={};for(var n in i.validator)t.includes(n)&&(e[n]=i.validator[n]);return e}var u={data:function(){return{formData:{username:"",password:"",role:[],dcloud_appid:[],tags:[],mobile:"",email:"",status:!0},rules:r(r({},l(["username","password","role","mobile","email"])),{},{status:{rules:[{format:"bool"}]}}),roles:[]}},onLoad:function(){this.loadroles()},methods:{gotoAppList:function(){uni.navigateTo({url:"../app/list"})},gotoTagList:function(){uni.navigateTo({url:"../tag/list"})},gotoTagAdd:function(){var t=this;uni.navigateTo({url:"../tag/add",events:{refreshCheckboxData:function(){t.$refs.checkbox.loadData()}}})},submitForm:function(){this.$refs.form.submit()},submit:function(t){var e=this,n=t.detail,i=n.value,a=n.errors;a||(uni.showLoading({title:"\u63d0\u4ea4\u4e2d...",mask:!0}),"boolean"===typeof i.status&&(i.status=Number(!i.status)),this.$request("registerUser",i,{functionName:"uni-id-cf"}).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()})))},loadroles:function(){var t=this;s.collection("uni-id-roles").limit(500).get().then((function(e){var n=[];t.roles=e.result.data.map((function(t){return n.push(t.role_id),{value:t.role_id,text:t.role_name}})),-1===n.indexOf("admin")&&t.roles.unshift({value:"admin",text:"\u8d85\u7ea7\u7ba1\u7406\u5458"})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))}}};e.default=u}).call(this,n("a9ff")["default"])},fdb8:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uniTransition:n("c6e6").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t._$s(0,"i",t.showPopup)?n("view",{staticClass:t._$s(0,"sc","uni-popup"),class:t._$s(0,"c",[t.popupstyle,t.isDesktop?"fixforpc-z-index":""]),attrs:{_i:0}},[n("view",{attrs:{_i:1},on:{touchstart:t.touchstart}},[t._$s(2,"i",t.maskShow)?n("uni-transition",{key:"1",attrs:{name:"mask","mode-class":"fade",styles:t.maskClass,duration:t.duration,show:t.showTrans,_i:2},on:{click:t.onTap}}):t._e(),n("uni-transition",{key:"2",attrs:{"mode-class":t.ani,name:"content",styles:t.transClass,duration:t.duration,show:t.showTrans,_i:3},on:{click:t.onTap}},[n("view",{staticClass:t._$s(4,"sc","uni-popup__wrapper"),class:t._$s(4,"c",[t.popupstyle]),style:t._$s(4,"s",{backgroundColor:t.bg}),attrs:{_i:4},on:{click:t.clear}},[t._t("default",null,{_i:5})],2)])],1)]):t._e()},r=[]},fdee:function(t,e,n){"use strict";n.r(e);var i=n("7f3c"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},fdf2:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("a34a")),a=n("518e"),r=n("3631"),o=n("26cb");function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n,i,a,r,o){try{var s=t[r](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){l(r,i,a,o,s,"next",t)}function s(t){l(r,i,a,o,s,"throw",t)}o(void 0)}))}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=t.database(),p=h.command,m="stable_publish desc,create_date desc",_=["name","title","stable_publish","type"],g=20,v=1;function y(){return document.documentElement?document.documentElement.clientHeight:window.innerHeight}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d({create_env:p.neq("uni-stat")},t)}var x={data:function(){return{backButtonHover:!1,appVersionListDbName:r.appVersionListDbName,currentAppid:"",currentAppName:"",query:"",where:"",orderby:m,selectedIndexs:[],options:d({pageSize:g,pageCurrent:v},a.enumConverter),imageStyles:{width:64,height:64},loaded:!1,containerTop:{},appList:[],showAppIndex:0}},onLoad:function(t){var e=this;return u(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.appid,n.next=3,e.getAppList();case 3:if(e.appList.length){n.next=6;break}return e.showModalToAppManager(),n.abrupt("return");case 6:e.loaded=!0,e.appList.forEach((function(t,n){(t.appid===a||r.defaultDisplayApp)&&(e.showAppIndex=n)})),e.setAppInfo(e.showAppIndex),e.where=b({appid:e.currentAppid});case 10:case"end":return n.stop()}}),n)})))()},computed:d(d({},(0,o.mapState)("app",["appid"])),{},{appNameList:function(){return this.appList.map((function(t){return t.name}))}}),watch:{showAppIndex:function(t){this.setAppInfo(t),this.where=b({appid:this.currentAppid})}},onReady:function(){this.containerTop.height="".concat(y(),"px")},methods:{setAppInfo:function(t){this.currentAppid=this.appList[t].appid,this.currentAppName=this.appList[t].name},navigateBack:function(){uni.navigateBack()},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return _.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this.getWhere(),e=t===this.where;this.where=t,this.where&&(this.where="(".concat(this.where,") && ")),this.where+="".concat(new RegExp(this.currentAppid,"i"),".test(appid)"),e&&this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var n=this;uni.navigateTo({url:t,events:{refreshData:function(){n.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){this.$refs.udb.remove(this.selectedItems())},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){this.$refs.udb.remove(t)},publish:function(t){var e=this,n=Object.keys(this.options.type_valuetotext);uni.showActionSheet({itemList:Object.values(this.options.type_valuetotext),success:function(){var t=u(i.default.mark((function t(a){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.navigateTo("./add?appid=".concat(e.currentAppid,"&name=").concat(e.currentAppName,"&type=").concat(n[a.tapIndex]));case 1:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}()})},getAppList:function(){var t=this;return u(i.default.mark((function e(){var n,a,o;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.collection(r.appListDbName).get();case 3:n=e.sent,a=n.result,a&&a.data&&a.data.length>0?t.appList=a.data.filter((function(e){return e.appid!==t.appid})):t.showModalToAppManager(),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),o=["TOKEN_INVALID_TOKEN_EXPIRED","TOKEN_INVALID_ANONYMOUS_USER"],-1===o.indexOf(e.t0.code)&&t.showModalToAppManager();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},showModalToAppManager:function(){var t=null,e=3;function n(){uni.navigateTo({url:"/pages/system/app/list"}),clearInterval(t)}t=setInterval((function(){--e<=0&&n()}),1e3),uni.showModal({title:"\u8bf7\u5148\u6dfb\u52a0\u5e94\u7528",content:"\u5373\u5c06\u8df3\u8f6c\u81f3\u5e94\u7528\u7ba1\u7406\u2026\u2026",showCancel:!1,confirmText:"\u7acb\u5373\u8df3\u8f6c",success:function(t){return n()}})},store_list_key:function(t){var e=t?t.filter((function(t){return t.enable})):[];return e.length?e.sort((function(t,e){return e.priority-t.priority})).map((function(t){return t.name})).join(","):"-"}}};e.default=x}).call(this,n("a9ff")["default"])},fe07:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Behavior=Pt,e.Component=Tt,e.Page=Dt,e.nextTick=e.default=void 0;var i,a=r(n("8bbf"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){return f(t)||d(t,e)||u(t,e)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){a=!0,r=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}function f(t){if(Array.isArray(t))return t}function h(t,e){t&&(e.mpOptions.data=t)}function p(e){e.components=t.__wxVueOptions.components}var m=Object.prototype.toString,_=Object.prototype.hasOwnProperty;function g(t){return"function"===typeof t}function v(t){return"[object Object]"===m.call(t)}function y(t,e){return _.call(t,e)}function b(){}function x(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var w=/-(\w)/g,$=x((function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))})),k="__data__",C={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},D=Object.keys(C),S={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},T=Object.keys(S),P=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function O(t,e){var n=Object.create(null);Object.keys(t).forEach((function(e){var i=t[e];g(i)&&-1===P.indexOf(e)&&(n[e]=i)})),e.methods=n}function A(t,e){Object.keys(t).forEach((function(n){-1!==P.indexOf(n)&&(e[n]=t[n])}))}function M(t){var e={mixins:[],mpOptions:{}};return p(e),h(t.data,e),O(t,e),A(t,e),e}function I(t,e){t&&(e.mpOptions.properties=t)}function j(t,e){t&&(e.mpOptions.options=t)}function F(t,e){t&&(t.$emit&&delete t.$emit,e.methods=t)}function E(t,e){D.forEach((function(n){y(t,n)&&(e[C[n]]||(e[C[n]]=[])).push(t[n])}))}var L={"wx://form-field":{},"wx://component-export":{}};function q(t){var e=t.behaviors,n=t.definitionFilter,i=[];if(Array.isArray(e)&&e.forEach((function(e){e="string"===typeof e?L[e]:e,e.definitionFilter&&(i.push(e.definitionFilter),e.definitionFilter.call(null,t,[]))})),g(n))return function(t){n(t,i)}}function R(t,e){q(t)}function N(t){var e=t.data,n=t.methods,i=t.behaviors,a=t.properties,r={watch:{},mpOptions:{mpObservers:[]}};return h(e,r),F(n,r),z(i,r),I(a,r),E(t,r),R(t),r}var B={"wx://form-field":{beforeCreate:function(){var t=this.$options.mpOptions;t.properties||(t.properties=Object.create(null));var e=t.properties;y(e,"name")||(e.name={type:String}),y(e,"value")||(e.value={type:String})}}};function z(t,e){t&&t.forEach((function(t){"string"===typeof t?B[t]&&e.mixins.push(B[t]):e.mixins.push(N(t))}))}function W(t){return t.split(".")}function U(t){return t.split(",").map((function(t){return W(t)}))}function V(t,e){if(t){var n=e.mpOptions.mpObservers;Object.keys(t).forEach((function(e){n.push({paths:U(e),observer:t[e]})}))}}function G(t,e){0===e.indexOf("/")&&(t="");var n=t.split("/"),i=e.split("/");n.pop();while(i.length){var a=i.shift();""!==a&&"."!==a&&(".."!==a?n.push(a):n.pop())}return n.join("/")}function H(e,n){e&&(Object.keys(e).forEach((function(n){var i=e[n];i.name=n,i.target=i.target?String(i.target):G(t.__wxRoute,n)})),n.mpOptions.relations=e)}function J(t,e){t&&(Array.isArray(t)||(t=[t]),e.mpOptions.externalClasses=t,e.mpOptions.properties||(e.mpOptions.properties=Object.create(null)),t.forEach((function(t){e.mpOptions.properties[$(t)]={type:String,value:""}})))}function Q(t,e){t&&E(t,e)}function K(t,e){t&&T.forEach((function(n){var i=t[n];g(i)&&(e[S[n]]=i)}))}function Y(t){var e=t.data,n=t.options,i=t.methods,a=t.behaviors,r=t.lifetimes,o=t.observers,s=t.relations,l=t.properties,u=t.pageLifetimes,c=t.externalClasses,d={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return p(d),h(e,d),j(n,d),F(i,d),z(a,d),Q(r,d),V(o,d),H(s,d),I(l,d),K(u,d),J(c,d),E(t,d),R(t),d}function X(t,e,n,i){if(e){var a="_$".concat(t,"Handlers");(i[a]||(i[a]=[])).push((function(){e.call(i,n)}))}}function Z(t,e,n){var i="linked",a=t.name,r=n._$relationNodes||(n._$relationNodes=Object.create(null));(r[a]||(r[a]=[])).push(e),X(i,t[i],e,n)}function tt(t,e,n){var i="unlinked";X(i,t[i],e,n)}function et(t,e,n){var i=t&&t.$options.mpOptions&&t.$options.mpOptions.relations;if(!i)return[];var a=Object.keys(i).find((function(t){var a=i[t];return a.target===e&&a.type===n}));return a?[i[a],t]:[]}function nt(t,e,n){var i=n(t,t.$options.mpOptions.path),a=s(i,2),r=a[0],o=a[1];r&&(Z(r,t,o),Z(e,o,t),tt(r,t,o),tt(e,o,t))}function it(t,e){var n=t.type;"parent"===n?nt(e,t,(function(t,e){return et(t.$parent,e,"child")})):"ancestor"===n&&nt(e,t,(function(t,e){var n=t.$parent;while(n){var i=et(n,e,"descendant");if(i.length)return i;n=n.$parent}return[]}))}function at(t){var e=t.$options.mpOptions||{},n=e.relations;n&&Object.keys(n).forEach((function(e){it(n[e],t)}))}function rt(t,e){var n=t["_$".concat(e,"Handlers")];n&&n.forEach((function(t){return t()}))}var ot={enumerable:!0,configurable:!0,get:b,set:b};function st(t,e,n){ot.get=function(){return this[e][n]},ot.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ot)}function lt(t,e,n){var i=t.replace(/\[(\d+?)\]/g,".$1").split(".");return i.reduce((function(t,n,a){if(a!==i.length-1)return"undefined"===typeof t[n]&&(t[n]={}),t[n];t[n]=e}),n),1===i.length}function ut(t,e){var n=this;v(t)&&(Object.keys(t).forEach((function(e){lt(e,t[e],n.data)&&!y(n,e)&&st(n,k,e)})),this.$forceUpdate(),g(e)&&this.$nextTick(e))}var ct=Object.prototype.toString,dt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=ct.call(n);if("[object Array]"===i)return e=n.slice(0),e;if("[object Object]"===i){for(var a in n)e[a]=t(e[a],n[a]);return e}if("[object Date]"===i)return new Date(n.getTime());if("[object RegExp]"===i){var r=String(n),o=r.lastIndexOf("/");return new RegExp(r.slice(1,o),r.slice(o+1))}return n},ft=function(t){return dt("[object Array]"===ct.call(t)?[]:{},t)},ht=(i={},o(i,String,""),o(i,Number,0),o(i,Boolean,!1),o(i,Object,null),o(i,Array,[]),o(i,null,null),i);function pt(t){return ht[t]}function mt(t){return v(t)?y(t,"value")?t.value:pt(t.type):pt(t)}function _t(t){return v(t)?t.type:t}function gt(t,e,n,i){var a=n[t];if(void 0!==a){var r=e[t],o=_t(r);a=vt(a,o);var s=r&&r.observer;return s&&setTimeout((function(){yt(s,i,a)}),4),a}return mt(e[t])}function vt(t,e){return e===Boolean?!!t:e===String?String(t):t}function yt(t,e,n,i){try{"function"===typeof t?t.call(e,n,i):"string"===typeof t&&"function"===typeof e[t]&&e[t](n,i)}catch(a){}}function bt(t,e){var n=t.$options.mpOptions.properties;if(n){var i=ft(t.$options.propsData)||{},a=function(a){var r=!!v(n[a])&&n[a].observer,o=gt(a,n,i,t);Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){var n=o;e===o||e!==e&&o!==o||(o=Array.isArray(e)?e.slice(0):e,r&&yt(r,t,e,n),t.$forceUpdate())}})};for(var r in n)a(r)}}function xt(t){var e=t.$options.mpOptions&&t.$options.mpOptions.properties,n=t.$options.propsData;n&&e&&Object.keys(e).forEach((function(i){y(n,i)&&(t[i]=vt(n[i],_t(e[i])))}))}function wt(t){var e=JSON.parse(JSON.stringify(t.$options.mpOptions.data||{}));t[k]=e;var n={get:function(){return t[k]},set:function(e){t[k]=e}};Object.defineProperties(t,{data:n,properties:n}),t.setData=ut,bt(t,e),Object.keys(e).forEach((function(e){st(t,k,e)}))}function $t(t){var e=t.$emit;t.triggerEvent=function(n,i,a){var r={dataset:t.$el.dataset},o={target:r,currentTarget:r,detail:i,preventDefault:b,stopPropagation:b};e.call(t,n,o)},t.$emit=function(){t.triggerEvent.apply(t,arguments)},t.getRelationNodes=function(e){return(t._$relationNodes&&t._$relationNodes[e]||[]).filter((function(t){return!t._isDestroyed}))},t._$updateProperties=xt}function kt(t){var e=t.$options.watch;e&&Object.keys(e).forEach((function(n){var i=e[n];if(i.mounted){var a=t[n],r=i.handler;"string"===typeof r&&(r=t[r]),r&&r.call(t,a,a)}}))}var Ct={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=b},created:function(){wt(this),$t(this),at(this)},mounted:function(){kt(this)},destroyed:function(){rt(this,"unlinked")}};function Dt(e){var n=M(e);n.mixins.unshift(Ct),n.mpOptions.path=t.__wxRoute,t.__wxComponents[t.__wxRoute]=n}function St(t){t.onServiceAttached||(t.onServiceAttached=[]),t.onServiceAttached.push((function(){rt(this,"linked")}))}function Tt(e){var n=Y(e);n.mixins.unshift(Ct),n.mpOptions.path=t.__wxRoute,St(n),t.__wxComponents[t.__wxRoute]=n}function Pt(t){return t}t.__wxRoute="",t.__wxComponents=Object.create(null),t.__wxVueOptions=Object.create(null);var Ot=a.default.nextTick;e.nextTick=Ot;var At=uni.__$wx__,Mt=At;e.default=Mt}).call(this,n("c8ba"))},fe10:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={appid:"__UNI__2667B3C"};e.default=i},fe19:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"",stat:-1},{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u7528\u6237",field:"active_user_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u4eba\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u7528\u6237\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u7528\u6237",value:0,stat:"avg"},{title:"\u603b\u7528\u6237\u6570",field:"total_users",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0}];e.default=i},ff51:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","uni-table-scroll"),class:t._$s(0,"c",{"table--border":t.border,"border-none":!t.noData}),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","uni-table"),class:t._$s(1,"c",{"table--stripe":t.stripe}),style:t._$s(1,"s",{"min-width":t.minWidth+"px"}),attrs:{_i:1}},[t._t("default",null,{_i:2}),t._$s(3,"i",t.noData)?n("view",{staticClass:t._$s(3,"sc","uni-table-loading"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","uni-table-text"),class:t._$s(4,"c",{"empty-border":t.border}),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.emptyText)))])]):t._e(),t._$s(5,"i",t.loading)?n("view",{staticClass:t._$s(5,"sc","uni-table-mask"),class:t._$s(5,"c",{"empty-border":t.border}),attrs:{_i:5}},[n("div",{staticClass:t._$s(6,"sc","uni-table--loader"),attrs:{_i:6}})]):t._e()],2)])},r=[]},ffa1:function(t,e,n){"use strict";n.r(e);var i=n("42e3"),a=n("0374");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),l=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"d5a7a3c4",null,!1,i["a"],o);e["default"]=l.exports},ffae:function(t,e,n){"use strict";n.r(e);var i=n("66f7"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},ffc4:function(t,e,n){"use strict";n.r(e);var i=n("4d80"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},ffdf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("5a6b"),a=n("fe10").default||n("fe10"),r={namespaced:!0,state:{inited:!1,navMenu:[],routes:[],appName:"\u9879\u76ee\u52a9\u7406",appid:a&&a.appid||""},mutations:{SET_APP_NAME:function(t,e){t.appName=e},SET_NAV_MENU:function(t,e){t.inited=!0,t.navMenu=e},SET_ROUTES:function(t,e){t.routes=e}},actions:{init:function(t){var e=t.commit;return(0,i.request)("getCurrentUserInfo",{},{functionName:"uni-id-cf"}).then((function(t){t.navMenu;var n=t.userInfo;e("user/SET_USER_INFO",n,{root:!0})}))},setAppName:function(t,e){var n=t.commit;n("SET_APP_NAME",e)},setRoutes:function(t,e){var n=t.commit;n("SET_ROUTES",e)}}};e.default=r}},[["0934","app-config"]]]);